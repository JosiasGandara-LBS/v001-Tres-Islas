import{a as Y}from"./chunk-57WJVQ2Q.js";import{a as x}from"./chunk-H2UHDXUU.js";import"./chunk-T6F3S2ZQ.js";import"./chunk-ZR4ISJZT.js";import"./chunk-AOJVV4BS.js";import{a as A,c as Q}from"./chunk-ZMFTD4S3.js";import"./chunk-2KQNYNYG.js";import"./chunk-5KBS2D2T.js";import{b as Z,e as $,i as J,r as K}from"./chunk-S34QQD2E.js";import{$a as s,Gb as w,Ha as B,Hb as y,Oa as k,Qa as S,Tb as N,Va as O,Y as p,Za as t,_a as r,aa as I,cc as W,db as T,eb as d,ec as X,fb as u,ka as g,kb as V,la as C,lb as j,ma as m,mb as P,mc as M,na as h,nc as L,ob as c,pb as _,qa as z,qb as f,rb as D,sb as G,ta as q,tb as H,ub as R,wa as E,wb as b,ya as a,yb as U,za as v}from"./chunk-3MM7HPS6.js";var re=o=>({fadeOutDown:o});function oe(o,F){if(o&1){let e=T();t(0,"section",9)(1,"div",10),s(2,"img",11),t(3,"span",12),c(4),w(5,"currency"),r()(),t(6,"h3",13),c(7),r(),t(8,"p",14),c(9),r(),t(10,"div",15)(11,"p",16),c(12,"Cantidad"),r(),t(13,"div",17)(14,"div",18),d("click",function(){g(e);let n=u();return C(n.decrementQuantity())}),m(),t(15,"svg",19),s(16,"path",20),r()(),h(),t(17,"p",21),c(18),r(),t(19,"div",18),d("click",function(){g(e);let n=u();return C(n.incrementQuantity())}),m(),t(20,"svg",19),s(21,"path",22),r()()()(),h(),t(22,"div",23)(23,"p",24),c(24,"Instrucciones adicionales"),r(),t(25,"textarea",25),R("ngModelChange",function(n){g(e);let l=u();return H(l.additionalInstructions,n)||(l.additionalInstructions=n),C(n)}),r()(),t(26,"div",26)(27,"p",27),d("click",function(){g(e);let n=u();return C(n.updateCart(n.cartItem))}),t(28,"span"),m(),t(29,"svg",28),s(30,"path",29),r()(),c(31),w(32,"currency"),r()()()}if(o&2){let e=u();a(2),S("src",e.item.image?e.item.image:"assets/img/no-image.svg",E),a(2),f(" MX ",y(5,8,e.item.price)," "),a(3),_(e.item.name),a(2),f(" ",e.item.description," "),a(9),_(e.quantity),a(7),G("ngModel",e.additionalInstructions),a(6),D(" Modificar ",e.quantity," por ",y(32,10,e.item.price*e.quantity)," ")}}var ie=(()=>{class o{constructor(){this.cartService=p(x),this.cerrar=new q,this.isFadingOut=!1}ngOnInit(){if(this.itemId){this.subscription=this.cartService.getItemById(this.itemId).subscribe(i=>this.item=i);let e=this.cartService.getCartItemById(this.itemId);e&&(this.cartItem=e,this.quantity=this.cartItem.quantity,this.additionalInstructions=this.cartItem.additionalInstructions)}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}returnToShoppingCart(){this.isFadingOut=!0,setTimeout(()=>this.cerrar.emit(),400)}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity>1&&this.quantity--}updateCart(e){e.quantity=this.quantity,e.additionalInstructions=this.additionalInstructions,this.cartService.updateCartItem(e),this.returnToShoppingCart()}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-modal-item"]],inputs:{itemId:"itemId"},outputs:{cerrar:"cerrar"},standalone:!0,features:[b],decls:10,vars:4,consts:[[1,"fixed","flex","flex-col","bottom-0","left-0","w-full","h-screen","bg-white","z-50","fadeInUp",3,"ngClass"],[1,"h-16","w-full"],[1,"h-16","px-4","flex","flex-row","justify-between","items-center"],[1,"space-x-2","p-2","rounded-full","shadow-xl",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"size-6"],["d","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],[1,"space-x-2","p-2","rounded-full","shadow-xl"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"size-6"],["d","M352 224l-46.5 0c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8l-2.5 0c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144l80 0 0-61.3C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2l-3.7 0c-17.7 0-32-14.3-32-32l0-64zM80 96c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-48c0-17.7 14.3-32 32-32s32 14.3 32 32l0 48c0 44.2-35.8 80-80 80L80 512c-44.2 0-80-35.8-80-80L0 112C0 67.8 35.8 32 80 32l48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 96z"],[1,"p-6","flex","flex-col","items-center","relative"],[1,"relative"],["alt","image",1,"w-52","h-52","rounded-2xl","mb-4",3,"src"],[1,"absolute","top-2","right-2","bg-c-beige-100","px-3","py-1","rounded-lg","nunito-extra-bold","text-sm","text-[#E55204]"],[1,"nunito-extra-bold","uppercase","mb-2","text-[16px]"],[1,"text-gray-600","nunito-regular","text-center","px-8","mb-4","text-sm"],[1,"w-full","flex","flex-row","p-4","mb-4","rounded-lg","justify-between","bg-gray-200"],[1,"text-sm"],[1,"flex","flex-row","items-center","justify-between","fill-gray-700"],[1,"flex","justify-center","items-center","h-6","w-6","rounded-full","bg-gray-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"size-3.5"],["d","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"],[1,"mx-5","text-sm"],["d","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"],[1,"w-full","flex","flex-col","p-4","rounded-lg","bg-gray-200"],[1,"nunito-extra-bold","uppercase","text-center","pb-4"],["placeholder","Sin comentarios...","id","txtarea","rows","4",1,"rounded-md","py-2","px-3","placeholder-gray-400","border-2","border-transparent","focus:border-gray-400","focus:ring-0","focus:outline-none",3,"ngModelChange","ngModel"],[1,"fixed","h-16","w-full","px-6","flex","justify-center","items-center","bg-transparent","bottom-4"],[1,"bg-c-orange-100","text-white","text-lg","w-full","h-full","rounded-xl","flex","justify-center","items-center","nunito-extra-bold",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"size-6","fill-white","mr-2"],["d","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"]],template:function(i,n){i&1&&(t(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3),d("click",function(){return n.returnToShoppingCart()}),m(),t(4,"svg",4),s(5,"path",5),r()(),h(),t(6,"div",6),m(),t(7,"svg",7),s(8,"path",8),r()()()(),k(9,oe,33,12,"section",9),r()),i&2&&(S("ngClass",U(2,re,n.isFadingOut)),a(9),O(9,n.item?9:-1))},dependencies:[L,W,M,K,Z,$,J],styles:["@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translate3d(0,100%,0)}to{opacity:1;transform:translateZ(0)}}.fadeInUp[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInUp;animation-duration:.5s}@keyframes _ngcontent-%COMP%_fadeOutDown{0%{opacity:1}to{opacity:0;transform:translate3d(0,100%,0)}}.fadeOutDown[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeOutDown;animation-duration:.5s}#txtarea[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}}return o})();var ce=["modalContainer"];function le(o,F){if(o&1&&(t(0,"p",19),c(1),r()),o&2){let e=u().$implicit;a(),f("** ",e.additionalInstructions,"")}}function se(o,F){if(o&1){let e=T();t(0,"div",3)(1,"div",4),s(2,"img",5),t(3,"div",6)(4,"h3",7),c(5),t(6,"span",8),c(7,"X"),r(),c(8),r(),t(9,"p",9),c(10),r()()(),t(11,"div",10)(12,"h3",11),c(13),w(14,"currency"),r(),t(15,"div",12)(16,"div",13),d("click",function(){let n=g(e).$implicit,l=u();return C(l.insertarComponente(n.id))}),m(),t(17,"svg",14),s(18,"path",15),r()(),h(),t(19,"div",16),d("click",function(){let n=g(e).$implicit,l=u();return C(l.deleteCartItem(n.id))}),m(),t(20,"svg",17),s(21,"path",18),r()()()(),k(22,le,2,1,"p",19),r()}if(o&2){let e=F.$implicit;a(2),S("src",e.image?e.image:"assets/img/no-image.svg",E),a(3),f(" ",e.quantity," "),a(3),f(" ",e.name," "),a(2),_(e.description),a(3),f("MX ",y(14,6,e.price*e.quantity),""),a(9),O(22,e.additionalInstructions!==""?22:-1)}}var ne=(()=>{class o{constructor(e,i){this.router=e,this.injector=i,this.cartService=p(x),this.totalPriceSignal=p(x).getTotalPriceSignal(),this.cartItemsCount=p(x).getCartItemsCount(),this._menuService=p(x).getMenu,this.cartItems=N(()=>this.cartService.cartItemsValue)}ngOnInit(){this.cartService.updateCartItemsWithImage()}insertarComponente(e){let i=this.container.createComponent(ie,{injector:this.injector});i.instance.itemId=e,i.instance.cerrar.subscribe(()=>i?.destroy())}deleteCartItem(e){this.cartService.deleteCartItem(e)}incrementQuantity(e){this.cartService.incrementQuantity(e)}decrementQuantity(e){this.cartService.decrementQuantity(e),this.cartService.getCartItemsCount()()<1&&this.router.navigate(["/home"])}static{this.\u0275fac=function(i){return new(i||o)(v(Q),v(z))}}static{this.\u0275cmp=I({type:o,selectors:[["app-cart-items"]],viewQuery:function(i,n){if(i&1&&V(ce,5,B),i&2){let l;j(l=P())&&(n.container=l.first)}},standalone:!0,features:[b],decls:4,vars:1,consts:[["modalContainer",""],[1,"px-4","pb-28"],["class","bg-white py-4 border-b border-gray-300",4,"ngFor","ngForOf"],[1,"bg-white","py-4","border-b","border-gray-300"],[1,"flex","items-start","mb-2"],["alt","no-image",1,"w-16","h-16","mr-4","rounded-lg",3,"src"],[1,"flex-1","flex","flex-col","h-16"],[1,"nunito-extra-bold","flex-grow","uppercase","text-[16px]"],[1,"text-xs"],[1,"text-gray-600","nunito-regular","line-clamp-2","text-xs"],[1,"flex","flex-row","justify-between","pl-20"],[1,"nunito-extra-bold","uppercase","text-[16px]"],[1,"flex","flex-row","items-center","justify-between"],[1,"flex","justify-center","items-center","h-6","w-6","rounded-full","bg-amber-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"size-3","fill-white"],["d","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"],[1,"flex","justify-center","items-center","ml-3","h-6","w-6","rounded-full","bg-red-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"size-3","fill-white"],["d","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"],[1,"nunito-extra-bold","text-xs","mt-2","text-c-orange-100"]],template:function(i,n){i&1&&(t(0,"section",1),k(1,se,23,8,"div",2),r(),s(2,"div",null,0)),i&2&&(a(),S("ngForOf",n.cartItems()))},dependencies:[L,X,M]})}}return o})();var Ve=(()=>{class o{constructor(e,i,n){this.route=e,this.router=i,this.injector=n,this.title="Carrito de compra",this.totalPriceSignal=p(x).getTotalPriceSignal(),this.cartItemsCount=p(x).getCartItemsCount()}ngOnInit(){}goToHome(){this.router.navigate(["/home"])}goToCheckout(){this.router.navigate(["/checkout"])}static{this.\u0275fac=function(i){return new(i||o)(v(A),v(Q),v(z))}}static{this.\u0275cmp=I({type:o,selectors:[["app-shopping-cart"]],viewQuery:function(i,n){if(i&1&&V(Y,5),i&2){let l;j(l=P())&&(n.checkoutComponent=l.first)}},standalone:!0,features:[b],decls:16,vars:4,consts:[[1,"h-16","flex","flex-row","items-center","px-4","text-gray-800","fill-gray-800"],[1,"space-x-2","p-2","rounded-full","shadow-xl",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"size-6"],["d","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],[1,"nunito-extra-bold","ml-4","w-full","text-[20px]"],[1,"flex","flex-row","items-center","justify-between","bg-c-beige-100","h-24","px-6","fixed","bottom-0","left-0","right-0","z-40","rounded-t-3xl"],[1,"nunito-extra-bold"],[1,"text-gray-800",2,"font-size","24px"],[1,"text-c-orange-100",2,"font-size","12px"],["type","button",1,"w-32","py-3","bg-c-orange-100","rounded-xl","nunito-extra-bold","text-white",2,"font-size","14px",3,"click"]],template:function(i,n){i&1&&(t(0,"div",0)(1,"div",1),d("click",function(){return n.goToHome()}),m(),t(2,"svg",2),s(3,"path",3),r()(),h(),t(4,"p",4),c(5),r()(),s(6,"app-cart-items"),t(7,"footer",5)(8,"div",6)(9,"p",7),c(10),w(11,"currency"),r(),t(12,"p",8),c(13,"Total del pedido + IVA(16%)"),r()(),t(14,"button",9),d("click",function(){return n.goToCheckout()}),c(15,"Siguiente"),r()()),i&2&&(a(5),_(n.title),a(5),f("MX ",y(11,2,n.totalPriceSignal()),""))},dependencies:[L,M,ne],styles:["@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:translateZ(0)}}.fadeInLeft[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInLeft;animation-duration:.3s}@keyframes _ngcontent-%COMP%_fadeOutLeft{0%{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0)}}.fadeOutLeft[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeOutLeft;animation-duration:.3s}"]})}}return o})();export{Ve as ShoppingCartComponent};

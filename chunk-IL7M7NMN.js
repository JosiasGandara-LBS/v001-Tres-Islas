import{Ad as O,Cd as n,Ed as g,Fd as c,Hd as t,Id as p,Kd as l,Ld as a,Md as d,Nd as u,U as D,_ as C,a as y,f as s,u as m}from"./chunk-UBYFVHHT.js";var x=(()=>{class i{constructor(){this._firestore=C(O)}getOrdersWithStatus(r){let e=c(this._firestore,"orders"),o=a(e,u("status","==",r),l("createdDate","asc"));return n(o,{idField:"id"})}getOrdersWithAnyParameter(){let r=c(this._firestore,"orders"),e=a(r,l("createdDate","asc"));return n(e,{idField:"id"})}getOrderById(r){return s(this,null,function*(){let e=t(this._firestore,`orders/${r}`),o=yield p(e);if(o.exists())return y({id:r},o.data());throw new Error("No such document!")})}addOrder(r){let e=c(this._firestore,"orders");return g(e,r)}updateOrderStatusField(r,e,o){return s(this,null,function*(){let h=t(this._firestore,`orders/${r}`);return d(h,{[e]:o}).then(()=>{console.log("Campo actualizado con \xE9xito")}).catch(f=>{console.error("Error actualizando el campo:",f)})})}setOrderAsChecked(r){return s(this,null,function*(){let e=t(this._firestore,`orders/${r}`);return d(e,{isChecked:1}).then(()=>{console.log("Campo actualizado con \xE9xito")}).catch(o=>{console.error("Error actualizando el campo:",o)})})}cancelOrder(r){return s(this,null,function*(){let e=t(this._firestore,`orders/${r}`);return d(e,{status:0}).then(()=>{console.log("Pedido cancelado con \xE9xito")}).catch(o=>{console.error("Error cancelando el pedido:",o)})})}setOrderAsPaid(r){return s(this,null,function*(){let e=t(this._firestore,`orders/${r}`);return d(e,{PaymentPending:!1}).then(()=>{}).catch(o=>{console.error("Error pagando el pedido:",o)})})}getOrderHistoryByState(r){let e=c(this._firestore,"orderHistory"),o=a(e,u("status","==",r),l("createdDate","asc"));return n(o,{idField:"id"})}getOrderByIdHistory(r){return s(this,null,function*(){let e=t(this._firestore,`orderHistory/${r}`),o=yield p(e);if(o.exists())return y({id:r},o.data());throw new Error("No such document!")})}setOrderAsCheckedHistory(r){let e=t(this._firestore,`orderHistory/${r}`);return d(e,{isChecked:1}).then(()=>{}).catch(o=>{console.error("Error actualizando el campo:",o)})}validateCurrentOrdersIds(r){let e=c(this._firestore,"orders"),o=a(e,u("id","in",r));return n(o,{idField:"id"}).pipe(m(h=>h.map(f=>f.id)))}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{x as a};

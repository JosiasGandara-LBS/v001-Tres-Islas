import{Bd as f,Dd as k,Ed as u,U as h,_ as l,ab as c,u as r,vd as o,wd as s,yd as a,zd as S}from"./chunk-NAS4OXTP.js";var y=(()=>{class i{constructor(){this.firestore=l(f),this.isKitchenOpen=c(!0),this.statusSignal=c(!1),this.selectedProduct=c(null),this.getKitchenStatus().subscribe(e=>{e!==void 0&&this.isKitchenOpen.set(e)}),this.cashPaymentToGoStatus()}getKitchenStatus(){let e=o(this.firestore,"kitchenStatus");return k(e,{idField:"id"}).pipe(r(t=>{if(t&&t.length>0)return t[0]?.status}))}setKitchenStatus(e){let t=o(this.firestore,"kitchenStatus"),n=s(t,"kitchenStatus");return a(n,{status:e})}getOrdersEstimatedTime(){let e=s(this.firestore,"kitchenStatus/kitchenStatus");return u(e).pipe(r(t=>!t||t.estimatedOrdersTime===void 0?null:t.estimatedOrdersTime))}setOrdersEstimatedTime(e){let t=o(this.firestore,"kitchenStatus"),n=s(t,"kitchenStatus");return a(n,{estimatedTime:e})}getConfigs(){let e=s(this.firestore,"kitchenStatus/kitchenStatus");return u(e).pipe(r(t=>t||null))}saveConfigs(e){let t=s(this.firestore,"kitchenStatus/kitchenStatus");return a(t,{CashPaymentToGoStatus:e.CashPaymentToGoStatus})}cashPaymentToGoStatus(){let e=s(this.firestore,"kitchenStatus","kitchenStatus");S(e,t=>{if(t.exists()){let n=t.data();this.statusSignal.set(n.CashPaymentToGoStatus)}else this.statusSignal.set(!1)})}get cashPaymentStatusSignal(){return this.statusSignal.asReadonly()}getTables(){let e=s(this.firestore,"kitchenStatus/kitchenStatus");return u(e).pipe(r(t=>!t||t.tables===void 0?null:t.tables))}saveTables(e){let t=s(this.firestore,"kitchenStatus/kitchenStatus");return a(t,{tables:e})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{y as a};

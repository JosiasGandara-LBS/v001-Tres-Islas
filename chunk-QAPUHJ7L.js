import{b as A}from"./chunk-LOXJU6X5.js";import{a as qe}from"./chunk-3B2FN57K.js";import{a as je}from"./chunk-VEUUUD5J.js";import{c as ne}from"./chunk-J22E3Y5D.js";import{a as Le}from"./chunk-3F3WB2GL.js";import{a as Be}from"./chunk-5KBS2D2T.js";import{a as re,b as oe,c as w,e as ae,f as le,j as se,k as ze,l as Ge,m as de,n as me,o as Ae,p as ce,q as pe,r as ue,s as ge}from"./chunk-P22SP4ST.js";import{a as Ne}from"./chunk-VRIHXWTO.js";import{$a as De,$b as z,Eb as Fe,Fb as Ve,Fc as O,Gb as Oe,Hb as J,Hc as te,Ib as a,Ic as P,Jb as F,Kb as E,Lc as Ie,Mb as B,Nb as q,Ob as H,Pb as Y,Pc as ie,Qb as V,Qc as I,Sa as l,Sb as C,T as W,Ta as k,Tb as Pe,U as Te,Z as Ee,_ as $,_b as j,a as Se,ab as xe,b as ke,bc as ee,da as D,f as Z,ga as U,gb as g,hb as K,ib as m,nb as N,oa as x,ob as _e,pa as _,pb as ve,qa as f,qb as be,ra as b,rb as i,sb as r,t as fe,tb as p,ua as Me,ub as Q,vb as X,xb as y,ya as he,yb as h,zb as u}from"./chunk-NAS4OXTP.js";var Ke=t=>({"opacity-50":t}),Qe=t=>({"border-orange-600":t}),Xe=t=>({"text-orange-600 nunito-extra-bold":t});function Je(t,c){if(t&1&&(Q(0),i(1,"span",9),a(2),r(),X()),t&2){let e=u();l(2),E("Mesa ",e.selectedOption,"")}}function Ye(t,c){t&1&&(i(0,"span",10),a(1,"Selecciona tu mesa:"),r())}function et(t,c){t&1&&(i(0,"span",17)(1,"span",18),a(2,"Seleccionado"),r()())}function tt(t,c){if(t&1){let e=y();i(0,"li",13),h("click",function(){let n=x(e),s=n.$implicit,d=n.index,v=u(2);return _(v.selectOption(s,d))}),i(1,"div",14)(2,"span",15),a(3),r()(),g(4,et,3,0,"span",16),r()}if(t&2){let e=c.$implicit,o=c.index,n=u(2);m("id","listbox-option-"+o),l(2),m("ngClass",C(4,Xe,n.selectedOption===e)),l(),E("Mesa ",e,""),l(),m("ngIf",n.selectedOption===e)}}function it(t,c){if(t&1&&(i(0,"ul",11),g(1,tt,5,6,"li",12),r()),t&2){let e=u();l(),m("ngForOf",e.options)}}var He=(()=>{class t{constructor(){this.disabled=!1,this.isDropdownOpen=!1,this.selectedOption=null,this.options=[],this.onChange=e=>{},this.onTouched=()=>{}}toggleDropdown(){this.disabled||(this.isDropdownOpen=!this.isDropdownOpen)}selectOption(e,o){this.disabled||(this.selectedOption=e,this.onChange(e),this.isDropdownOpen=!1)}writeValue(e){this.selectedOption=e||null}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-dropdown"]],inputs:{disabled:"disabled",options:"options"},standalone:!0,features:[Y([{provide:re,useExisting:W(()=>t),multi:!0}]),V],decls:12,vars:11,consts:[["defaultText",""],["id","listbox-label",1,"block","text-sm/6","font-medium","text-gray-800"],[1,"relative","mt-2",3,"ngClass"],["type","button",1,"grid","w-full","cursor-default","grid-cols-1","rounded-lg","shadow-lg","bg-white","p-2.5","text-left","text-gray-800","text-sm","border-2","border-gray-200","focus:outline-none","focus:border-orange-600","focus:fill-orange-600",3,"click","ngClass","disabled"],[1,"col-start-1","row-start-1","flex","items-center","gap-3","pr-6"],[4,"ngIf","ngIfElse"],["viewBox","0 0 16 16","fill","currentColor","aria-hidden","true","data-slot","icon",1,"col-start-1","row-start-1","size-5","self-center","justify-self-end","text-gray-500","sm:size-4"],["fill-rule","evenodd","d","M5.22 10.22a.75.75 0 0 1 1.06 0L8 11.94l1.72-1.72a.75.75 0 1 1 1.06 1.06l-2.25 2.25a.75.75 0 0 1-1.06 0l-2.25-2.25a.75.75 0 0 1 0-1.06ZM10.78 5.78a.75.75 0 0 1-1.06 0L8 4.06 6.28 5.78a.75.75 0 0 1-1.06-1.06l2.25-2.25a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06Z","clip-rule","evenodd"],["class","absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 shadow-lg ring-1 ring-black/5 focus:outline-none text-sm",4,"ngIf"],[1,"block","truncate"],[1,"block","truncate","text-gray-400"],[1,"absolute","z-10","mt-1","max-h-56","w-full","overflow-auto","rounded-md","bg-white","py-1","shadow-lg","ring-1","ring-black/5","focus:outline-none","text-sm"],["class","relative cursor-default select-none py-2 pl-3 pr-32 text-gray-800",3,"id","click",4,"ngFor","ngForOf"],[1,"relative","cursor-default","select-none","py-2","pl-3","pr-32","text-gray-800",3,"click","id"],[1,"flex","items-center"],[1,"block","truncate","font-normal",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-4",4,"ngIf"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-4"],[1,"inline-flex","items-center","rounded-md","bg-orange-100","px-2","py-1","text-xs","font-medium","text-orange-400","ring-1","ring-inset","ring-red-600/10"]],template:function(o,n){if(o&1){let s=y();i(0,"div")(1,"label",1),a(2,"\xBFEn qu\xE9 mesa te encuentras?"),r(),i(3,"div",2)(4,"button",3),h("click",function(){return x(s),_(n.toggleDropdown())}),i(5,"span",4),g(6,Je,3,1,"ng-container",5)(7,Ye,2,0,"ng-template",null,0,ee),r(),f(),i(9,"svg",6),p(10,"path",7),r()(),g(11,it,2,1,"ul",8),r()()}if(o&2){let s=J(8);l(3),m("ngClass",C(7,Ke,n.disabled)),l(),m("ngClass",C(9,Qe,n.selectedOption&&!n.disabled))("disabled",n.disabled),K("aria-expanded",n.isDropdownOpen),l(2),m("ngIf",n.selectedOption)("ngIfElse",s),l(5),m("ngIf",n.isDropdownOpen)}},dependencies:[I,O,te,P]})}}return t})();var Re=(()=>{class t{transform(e){return e?e.replace(/\D/g,"").slice(0,16).replace(/(\d{4})/g,"$1  ").trim():""}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275pipe=U({name:"creditCardFormat",type:t,pure:!0,standalone:!0})}}return t})();var Ze=(()=>{class t{transform(e){if(!e)return"";let o=e.replace(/\D/g,"");return o.length<=2?o:`${o.slice(0,2)}/${o.slice(2,4)}`}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275pipe=U({name:"expirationDateFormat",type:t,pure:!0,standalone:!0})}}return t})();var We=(()=>{class t{constructor(e){this.http=e,this.apiUrl=Be}procesarPago(e,o,n,s,d){let v={tokenId:e,deviceSessionId:o,amount:n,description:s,customer:d};return this.http.post(this.apiUrl,v)}static{this.\u0275fac=function(o){return new(o||t)(Ee(Ne))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var at=t=>({fadeOutDown:t});function lt(t,c){t&1&&(i(0,"div",42)(1,"div",43),f(),i(2,"svg",44),p(3,"path",45)(4,"path",46),r()(),b(),i(5,"span",47),a(6,"Procesando transacci\xF3n..."),r()())}function st(t,c){if(t&1){let e=y();i(0,"div",48)(1,"div",49)(2,"div")(3,"div",50),f(),i(4,"svg",51),p(5,"path",52),r()(),b(),i(6,"div",53)(7,"h3",54),a(8,"\xA1Pago realizado con \xE9xito!"),r(),i(9,"div",55)(10,"p",56),a(11,"Tu transacci\xF3n se ha completado correctamente. Gracias por tu compra."),r()()()()(),i(12,"div",57)(13,"button",58),h("click",function(){x(e);let n=u(2);return _(n.returnToHome())}),a(14,"Volver al inicio"),r()()()}}function dt(t,c){if(t&1){let e=y();i(0,"div",48)(1,"div",49)(2,"div")(3,"div",59),f(),i(4,"svg",60),p(5,"path",61),r()(),b(),i(6,"div",53)(7,"h3",54),a(8,"\xA1Ocurrio un error!"),r(),i(9,"div",55)(10,"p",56),a(11),r()()()()(),i(12,"div",57)(13,"button",62),h("click",function(){x(e);let n=u(2);return _(n.returnToCheckout())}),a(14,"Regresar"),r(),i(15,"button",63),h("click",function(){x(e);let n=u(2);return _(n.closeMessage())}),a(16,"Volver a intentar"),r()()()}if(t&2){let e=u(2);l(11),E("",e.errorMessage,". Asegurate de que los datos ingresados sean correctos.")}}function mt(t,c){if(t&1&&(i(0,"div",39),g(1,lt,7,0,"div",40)(2,st,15,0,"div",41)(3,dt,17,1,"div",41),r()),t&2){let e=u();l(),m("ngIf",e.loadingTransaction),l(),m("ngIf",e.transactionSuccess),l(),m("ngIf",e.transactionError)}}var $e=(()=>{class t{constructor(e,o,n){this.pagoService=e,this.fb=o,this.router=n,this.cerrar=new he,this.isTransactionCompleted=new he,this.totalPriceSignal=$(A).getTotalPriceSignal(),this.holderName="",this.cardNumber="",this.expirationDate="",this.cvv2="",this.deviceSessionId="",this.isFadingOut=!1,this.showing=!1,this.loadingTransaction=!1,this.transactionSuccess=!1,this.transactionError=!1,this.errorMessage="",this.cardPaymentForm=this.fb.group({holder_name:[w.required],card_number:[w.required],expiration_date:[w.required],cvv2:[w.required]})}ngOnInit(){OpenPay.setId("mheinovbagqf3nzxctrx"),OpenPay.setApiKey("pk_69ed8461123046469f2338a8419d3d95"),OpenPay.setSandboxMode(!0),this.deviceSessionId=OpenPay.deviceData.setup()}onSubmit(){if(this.cardPaymentForm.valid){this.showing=!0,this.loadingTransaction=!0,this.transactionSuccess=!1,this.transactionError=!1;let e=this.holderName.split(" ")[0],o=this.holderName.split(" ")[1],n=this.totalPriceSignal(),s=this.cardNumber.replace(/\D/g,"").slice(0,16),d=this.expirationDate.split("/")[0],v=this.expirationDate.split("/")[1];if(!OpenPay.card.cardType(s)){this.setError("Tipo de tarjeta no admitida");return}if(!OpenPay.card.validateCardNumber(s)){this.setError("N\xFAmero de tarjeta no admitido");return}if(!OpenPay.card.validateCVC(this.cvv2)){this.setError("CVC no admitido");return}let S={card_number:s,holder_name:this.holderName,expiration_year:v,expiration_month:d,cvv2:this.cvv2};OpenPay.token.create(S,T=>{let M=T.data.id,G={name:e,lastname:o,email:`${e}_${o}@example.com`,phone_number:this.phone_number};this.pagoService.procesarPago(M,this.deviceSessionId,n,"Pago concepto orden",G).subscribe(R=>{this.loadingTransaction=!1,this.transactionSuccess=!0},R=>{this.setError("Ocurri\xF3 un error en tu tarjeta")})},T=>{this.setError("Error al generar el token de pago.")})}}onlyLettersAndSpaces(e){let o=/^[a-zA-ZÀ-ÿ\s]+$/,n=e.key;o.test(n)||e.preventDefault()}onlyNumbers(e){/^[0-9]+$/.test(e.key)||e.preventDefault()}setError(e){this.loadingTransaction=!1,this.transactionSuccess=!1,this.transactionError=!0,this.errorMessage=e}returnToCheckout(){this.closeMessage(),this.isFadingOut=!0,setTimeout(()=>this.cerrar.emit(),400)}returnToCheckoutWithError(){this.closeMessage(),this.isFadingOut=!0,setTimeout(()=>this.cerrar.emit(),400)}returnToHome(){this.closeMessage(),this.isTransactionCompleted.emit({success:!0,message:"Pago realizado con \xE9xito"}),this.router.navigate(["/home"])}closeMessage(){this.transactionError=!1,this.transactionSuccess=!1,this.showing=!1}static{this.\u0275fac=function(o){return new(o||t)(k(We),k(pe),k(ne))}}static{this.\u0275cmp=D({type:t,selectors:[["app-card-payment"]],inputs:{phone_number:"phone_number"},outputs:{cerrar:"cerrar",isTransactionCompleted:"isTransactionCompleted"},standalone:!0,features:[V],decls:62,vars:18,consts:[[1,"fixed","top-0","left-0","p-4","w-full","h-screen","bg-white","z-50","overflow-y-auto","fadeInUp",3,"ngClass"],[1,"rounded-t-xl","px-8","border-r-2","border-l-2","border-t-2","border-gray-200","shadow-md"],[1,"py-4"],["src","https://sandbox-api.openpay.mx/img/icons/logoOpenpayBlue.svg","alt","",1,"h-8"],[1,"rounded-b-xl","p-7","border-r-2","border-l-2","border-b-2","border-gray-200","shadow-md"],[1,"shadow-sm","rounded-xl","border-2","border-gray-200","mb-6"],[1,"bg-white","px-6","py-10","text-base","rounded-t-xl"],[1,"nunito-extra-bold"],[1,"p-6","bg-gray-50","rounded-b-xl"],[1,"nunito-extra-bold","text-xl"],[1,"my-4","h-[2px]","w-6","bg-cyan-400"],[1,"nunito-extra-bold","text-base","mb-2"],[1,"text-3xl"],[1,"text-base","text-gray-500"],[1,"mb-6"],[1,"nunito-extra-bold","text-[10px]","text-green-700","flex","flex-row","justify-start","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"size-4","mr-2","fill-green-700"],["d","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"],[1,"flex","flex-row","justify-end","mb-6"],["src","https://sandbox-api.openpay.mx/img/icons/Logo_Visa.svg","alt","visa",1,"pl-[10px]","h-3"],["src","https://sandbox-api.openpay.mx/img/icons/logo-mastercard.svg","alt","mastercard",1,"pl-[10px]","h-3"],["src","https://sandbox-api.openpay.mx/img/icons/card_ax.svg","alt","americanexpress",1,"pl-[10px]","h-3"],["src","https://sandbox-api.openpay.mx/img/icons/logo-carnet.svg","alt","carnet",1,"pl-[10px]","h-3"],[1,"mb-8"],[1,"nunito-extra-bold","text-base","mb-4"],["action","",1,"grid","gap-4","mb-4",3,"formGroup"],["type","text","id","holderName","formControlName","holder_name","placeholder","Nombre del titular de la tarjeta",1,"text-gray-800","bg-gray-50","text-sm","rounded-lg","block","w-full","p-2.5","mb-1","border-2","border-gray-200","focus:outline-none","focus:border-gray-400",3,"ngModelChange","keypress","ngModel"],["for","holderName",1,"flex","flex-row","justify-start","items-center","text-[10px]"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"size-3","mr-2","fill-cyan-500"],["d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"],["type","text","id","cardNumber","formControlName","card_number","inputmode","numeric","maxlength","22","placeholder","N\xFAmero de la tarjeta",1,"text-gray-800","bg-gray-50","text-sm","rounded-lg","block","w-full","p-2.5","border-2","border-gray-200","focus:outline-none","focus:border-gray-400",3,"ngModelChange","keypress","ngModel","value"],["type","text","id","expirationDate","inputmode","numeric","formControlName","expiration_date","maxlength","5","placeholder","Fecha de vencimiento (MM/AA)",1,"text-gray-800","bg-gray-50","text-sm","rounded-lg","block","w-full","p-2.5","border-2","border-gray-200","focus:outline-none","focus:border-gray-400",3,"ngModelChange","keypress","ngModel","value"],["type","password","id","cvv2","formControlName","cvv2","inputmode","numeric","maxlength","4","placeholder","C\xF3digo de seguridad (CVV)",1,"text-gray-800","bg-gray-50","text-sm","rounded-lg","block","w-full","p-2.5","border-2","border-gray-200","focus:outline-none","focus:border-gray-400",3,"ngModelChange","keypress","ngModel"],[1,"text-sm"],["href","https://www.openpay.mx/terminos-condiciones","target","_blank","rel","noopener noreferrer",1,"text-blue-900","nunito-extra-bold"],[1,"flex","flex-row","justify-between"],["type","button",1,"p-2","text-blue-900","nunito-extra-bold",3,"click"],["type","button",1,"px-10","py-2","bg-blue-900","rounded-xl","text-white","nunito-extra-bold",3,"click"],["class","fixed top-0 left-0 px-8 w-full h-screen bg-gray-100 bg-opacity-70 flex flex-col justify-center items-center","style","z-index: 60;",4,"ngIf"],[1,"fixed","top-0","left-0","px-8","w-full","h-screen","bg-gray-100","bg-opacity-70","flex","flex-col","justify-center","items-center",2,"z-index","60"],["class","flex flex-col justify-center items-center",4,"ngIf"],["class","relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl",4,"ngIf"],[1,"flex","flex-col","justify-center","items-center"],["role","status"],["viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-10","h-10","text-gray-300","animate-spin","fill-cyan-500","opacity-100"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"text-black","text-base","mt-2"],[1,"relative","transform","overflow-hidden","rounded-lg","bg-white","text-left","shadow-xl"],[1,"bg-white","p-4"],[1,"mx-auto","flex","size-12","shrink-0","items-center","justify-center","rounded-full","bg-green-100"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 12.75 6 6 9-13.5"],[1,"mt-3","text-center"],["id","modal-title",1,"text-base","font-semibold","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"bg-gray-50","p-4"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-green-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-xs","hover:bg-red-500",3,"click"],[1,"mx-auto","flex","size-12","shrink-0","items-center","justify-center","rounded-full","bg-red-100"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true","data-slot","icon",1,"size-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-xs","hover:bg-red-500",3,"click"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","ring-1","shadow-xs","ring-gray-300","ring-inset","hover:bg-gray-50",3,"click"]],template:function(o,n){o&1&&(i(0,"section",0)(1,"div",1)(2,"div",2),p(3,"img",3),r()(),i(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),a(8,"Cerveceria Tres Islas"),r()(),i(9,"div",8)(10,"p",9),a(11,"Detalle del pago"),r(),p(12,"div",10),i(13,"p",11),a(14,"Total a pagar"),r(),i(15,"p",12),a(16),j(17,"currency"),r(),p(18,"div",10),i(19,"p",11),a(20,"Concepto"),r(),i(21,"p",13),a(22,"Pago de orden comida"),r()()(),i(23,"div",14)(24,"p",15),f(),i(25,"svg",16),p(26,"path",17),r(),a(27," Pago seguro procesado por OpenPay by BBVA "),r()(),b(),i(28,"div",18),p(29,"img",19)(30,"img",20)(31,"img",21)(32,"img",22),r(),i(33,"div",23)(34,"p",24),a(35,"Datos de la tarjeta"),r(),i(36,"form",25)(37,"div")(38,"input",26),H("ngModelChange",function(d){return q(n.holderName,d)||(n.holderName=d),d}),h("keypress",function(d){return n.onlyLettersAndSpaces(d)}),r(),i(39,"label",27),f(),i(40,"svg",28),p(41,"path",29),r(),a(42," Solo primer nombre y primer apellido "),r()(),b(),i(43,"div")(44,"input",30),j(45,"creditCardFormat"),H("ngModelChange",function(d){return q(n.cardNumber,d)||(n.cardNumber=d),d}),h("keypress",function(d){return n.onlyNumbers(d)}),r()(),i(46,"div")(47,"input",31),j(48,"expirationDateFormat"),H("ngModelChange",function(d){return q(n.expirationDate,d)||(n.expirationDate=d),d}),h("keypress",function(d){return n.onlyNumbers(d)}),r()(),i(49,"div")(50,"input",32),H("ngModelChange",function(d){return q(n.cvv2,d)||(n.cvv2=d),d}),h("keypress",function(d){return n.onlyNumbers(d)}),r()()(),i(51,"div")(52,"span",33),a(53," Al pagar acepto que estoy de acuerdo con el "),i(54,"a",34),a(55,"Aviso de privacidad."),r()()()(),i(56,"div",35)(57,"button",36),h("click",function(){return n.returnToCheckout()}),a(58,"Regresar"),r(),i(59,"button",37),h("click",function(){return n.onSubmit()}),a(60,"Pagar"),r()()()(),g(61,mt,4,3,"div",38)),o&2&&(m("ngClass",C(16,at,n.isFadingOut)),l(16),F(z(17,10,n.totalPriceSignal())),l(20),m("formGroup",n.cardPaymentForm),l(2),B("ngModel",n.holderName),l(6),B("ngModel",n.cardNumber),m("value",z(45,12,n.cardNumber)),l(3),B("ngModel",n.expirationDate),m("value",z(48,14,n.expirationDate)),l(3),B("ngModel",n.cvv2),l(11),m("ngIf",n.showing))},dependencies:[I,O,P,ie,ge,se,oe,ae,le,ce,de,me,ue,Re,Ze],styles:["@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translate3d(0,100%,0)}to{opacity:1;transform:translateZ(0)}}.fadeInUp[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInUp;animation-duration:.5s}@keyframes _ngcontent-%COMP%_fadeOutDown{0%{opacity:1}to{opacity:0;transform:translate3d(0,100%,0)}}.fadeOutDown[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeOutDown;animation-duration:.5s}"]})}}return t})();var ct=t=>({"border-orange-600":t}),pt=t=>({"text-orange-600 nunito-extra-bold":t});function ut(t,c){if(t&1&&(Q(0),i(1,"span",9),a(2),r(),X()),t&2){let e=u();l(2),F(e.selectedOption.name)}}function gt(t,c){t&1&&(i(0,"span",10),a(1,"Selecciona tu preferencia:"),r())}function ft(t,c){t&1&&(i(0,"span",17)(1,"span",18),a(2,"Seleccionado"),r()())}function ht(t,c){if(t&1){let e=y();i(0,"li",13),h("click",function(){let n=x(e).$implicit,s=u(2);return _(s.selectOption(n))}),i(1,"div",14)(2,"span",15),a(3),r()(),g(4,ft,3,0,"span",16),r()}if(t&2){let e=c.$implicit,o=c.index,n=u(2);m("id","listbox-option-"+o),l(2),m("ngClass",C(4,pt,n.selectedOption===e)),l(),F(e.name),l(),m("ngIf",n.selectedOption===e)}}function xt(t,c){if(t&1&&(i(0,"ul",11),g(1,ht,5,6,"li",12),r()),t&2){let e=u();l(),m("ngForOf",e.options)}}var Ue=(()=>{class t{constructor(){this.isDropdownOpen=!1,this.selectedOption=null,this.options=[{name:"Para comer aqu\xED",value:0},{name:"Para llevar",value:1}],this.onChange=e=>{},this.onTouched=()=>{}}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}selectOption(e){this.selectedOption=e,this.onChange(e.value),this.isDropdownOpen=!1}writeValue(e){this.selectedOption=this.options.find(o=>o.value===e)||null}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-dropdown-togo"]],standalone:!0,features:[Y([{provide:re,useExisting:W(()=>t),multi:!0}]),V],decls:12,vars:7,consts:[["defaultText",""],["id","listbox-label",1,"block","text-sm/6","font-medium","text-gray-800"],[1,"relative","mt-2"],["type","button",1,"grid","w-full","cursor-default","grid-cols-1","rounded-lg","shadow-lg","bg-white","p-2.5","text-left","text-gray-800","text-sm","border-2","border-gray-200","focus:outline-none","focus:border-orange-600","focus:fill-orange-600",3,"click","ngClass"],[1,"col-start-1","row-start-1","flex","items-center","gap-3","pr-6"],[4,"ngIf","ngIfElse"],["viewBox","0 0 16 16","fill","currentColor","aria-hidden","true","data-slot","icon",1,"col-start-1","row-start-1","size-5","self-center","justify-self-end","text-gray-500","sm:size-4"],["fill-rule","evenodd","d","M5.22 10.22a.75.75 0 0 1 1.06 0L8 11.94l1.72-1.72a.75.75 0 1 1 1.06 1.06l-2.25 2.25a.75.75 0 0 1-1.06 0l-2.25-2.25a.75.75 0 0 1 0-1.06ZM10.78 5.78a.75.75 0 0 1-1.06 0L8 4.06 6.28 5.78a.75.75 0 0 1-1.06-1.06l2.25-2.25a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06Z","clip-rule","evenodd"],["class","absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 shadow-lg ring-1 ring-black/5 focus:outline-none text-sm",4,"ngIf"],[1,"block","truncate"],[1,"block","truncate","text-gray-400"],[1,"absolute","z-10","mt-1","max-h-56","w-full","overflow-auto","rounded-md","bg-white","py-1","shadow-lg","ring-1","ring-black/5","focus:outline-none","text-sm"],["class","relative cursor-default select-none py-2 pl-3 pr-32 text-gray-800",3,"id","click",4,"ngFor","ngForOf"],[1,"relative","cursor-default","select-none","py-2","pl-3","pr-32","text-gray-800",3,"click","id"],[1,"flex","items-center"],[1,"block","truncate","font-normal",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-4",4,"ngIf"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-4"],[1,"inline-flex","items-center","rounded-md","bg-orange-100","px-2","py-1","text-xs","font-medium","text-orange-400","ring-1","ring-inset","ring-red-600/10"]],template:function(o,n){if(o&1){let s=y();i(0,"div")(1,"label",1),a(2,"\xBFC\xF3mo deseas tu pedido?"),r(),i(3,"div",2)(4,"button",3),h("click",function(){return x(s),_(n.toggleDropdown())}),i(5,"span",4),g(6,ut,3,1,"ng-container",5)(7,gt,2,0,"ng-template",null,0,ee),r(),f(),i(9,"svg",6),p(10,"path",7),r()(),g(11,xt,2,1,"ul",8),r()()}if(o&2){let s=J(8);l(4),m("ngClass",C(5,ct,n.selectedOption)),K("aria-expanded",n.isDropdownOpen),l(2),m("ngIf",n.selectedOption)("ngIfElse",s),l(5),m("ngIf",n.isDropdownOpen)}},dependencies:[I,O,te,P]})}}return t})();var _t=["cardPaymentModal"],Ce=t=>({"border-orange-600":t}),vt=t=>({"opacity-40":t}),bt=(t,c)=>({"bg-c-orange-100":t,"bg-gray-500":c});function yt(t,c){t&1&&(i(0,"p"),a(1,"Introduzca un nombre."),r())}function Ct(t,c){t&1&&(i(0,"p"),a(1,"Coloque un nombre v\xE1lido."),r())}function wt(t,c){if(t&1&&(i(0,"div",33),f(),i(1,"svg",34),p(2,"path",35),r(),g(3,yt,2,0,"p",36)(4,Ct,2,0,"p",36),r()),t&2){let e,o,n=u();l(3),m("ngIf",(e=n.orderDetailForm.get("client"))==null||e.errors==null?null:e.errors.required),l(),m("ngIf",(o=n.orderDetailForm.get("client"))==null||o.errors==null?null:o.errors.pattern)}}function St(t,c){t&1&&(i(0,"p"),a(1,"Introduzca un n\xFAmero de tel\xE9fomo."),r())}function kt(t,c){t&1&&(i(0,"p"),a(1,"Coloque un n\xFAmero de tel\xE9fono v\xE1lido."),r())}function Tt(t,c){if(t&1&&(i(0,"div",33),f(),i(1,"svg",34),p(2,"path",35),r(),g(3,St,2,0,"p",36)(4,kt,2,0,"p",36),r()),t&2){let e,o,n=u();l(3),m("ngIf",(e=n.orderDetailForm.get("phoneNumber"))==null||e.errors==null?null:e.errors.required),l(),m("ngIf",(o=n.orderDetailForm.get("phoneNumber"))==null||o.errors==null?null:o.errors.pattern)}}function Et(t,c){t&1&&(i(0,"p"),a(1,"Seleccione una opci\xF3n."),r())}function Mt(t,c){if(t&1&&(i(0,"label",33),f(),i(1,"svg",34),p(2,"path",35),r(),g(3,Et,2,0,"p",36),r()),t&2){let e,o=u();l(3),m("ngIf",(e=o.orderDetailForm.get("orderToGo"))==null||e.errors==null?null:e.errors.required)}}function Dt(t,c){t&1&&(i(0,"p"),a(1,"Seleccione una mesa."),r())}function Ft(t,c){if(t&1&&(i(0,"label",33),f(),i(1,"svg",34),p(2,"path",35),r(),g(3,Dt,2,0,"p",36),r()),t&2){let e,o=u(2);l(3),m("ngIf",(e=o.orderDetailForm.get("assignedToTable"))==null||e.errors==null?null:e.errors.required)}}function Vt(t,c){if(t&1&&(i(0,"div",13),p(1,"app-dropdown",37),i(2,"div"),g(3,Ft,4,1,"label",10),r()()),t&2){let e,o=u();l(),m("options",o.tables())("disabled",o.isTableDropdownDisabled),l(2),m("ngIf",((e=o.orderDetailForm.get("assignedToTable"))==null?null:e.invalid)&&(((e=o.orderDetailForm.get("assignedToTable"))==null?null:e.dirty)||((e=o.orderDetailForm.get("assignedToTable"))==null?null:e.touched)))}}function Ot(t,c){t&1&&(i(0,"p"),a(1,"Seleccione un m\xE9todo de pago."),r())}function Pt(t,c){if(t&1&&(i(0,"label",38),f(),i(1,"svg",34),p(2,"path",35),r(),g(3,Ot,2,0,"p",36),r()),t&2){let e,o=u();l(3),m("ngIf",(e=o.orderDetailForm.get("paymentMethod"))==null||e.errors==null?null:e.errors.required)}}function It(t,c){if(t&1){let e=y();i(0,"li")(1,"label",42),a(2,"\xBFCon cu\xE1nto vas a pagar?"),r(),i(3,"input",43),h("keypress",function(n){x(e);let s=u(2);return _(s.onlyNumbers(n))})("input",function(n){x(e);let s=u(2);return _(s.limitDigits(n))}),r()()}if(t&2){let e,o=u(2);l(3),m("ngClass",C(1,Ce,(e=o.orderDetailForm.get("client"))==null?null:e.valid))}}function Nt(t,c){if(t&1&&(i(0,"li"),p(1,"input",39),i(2,"label",40)(3,"div",20),f(),i(4,"svg",21),p(5,"path",41),r(),b(),i(6,"div",23),a(7,"Dinero en efectivo"),r()(),f(),i(8,"svg",24),p(9,"path",25),r()()(),g(10,It,4,3,"li")),t&2){let e,o=u();l(10),N(10,((e=o.orderDetailForm.get("paymentMethod"))==null?null:e.value)==="Dinero en efectivo"?10:-1)}}function jt(t,c){t&1&&(i(0,"li"),p(1,"input",44),i(2,"label",45)(3,"div",20),f(),i(4,"svg",21),p(5,"path",22),r(),b(),i(6,"div",23),a(7,"Pago con terminal"),r()(),f(),i(8,"svg",24),p(9,"path",25),r()()())}function zt(t,c){if(t&1){let e=y();i(0,"div",47)(1,"div")(2,"div",48),f(),i(3,"svg",49),p(4,"path",50),r()(),b(),i(5,"div",51)(6,"h3",52),a(7,"\xA1Atenci\xF3n estimado cliente!"),r(),i(8,"div",53)(9,"p",54),a(10,"El tiempo estimado de su orden es de:"),r(),i(11,"p",55),a(12),j(13,"async"),r()()()()(),i(14,"div",56)(15,"button",57),h("click",function(){x(e);let n=u(2);return _(n.closeMessage())}),a(16,"Regresar"),r(),i(17,"button",58),h("click",function(){x(e);let n=u(2);return _(n.submitForm())}),a(18,"Continuar"),r()()}if(t&2){let e=u(2);l(12),E("",z(13,1,e.tiempoEstimado)," MIN")}}function Gt(t,c){if(t&1&&(i(0,"p",63),a(1),r()),t&2){let e=c.$implicit;l(),F(e)}}function At(t,c){if(t&1){let e=y();i(0,"div",47)(1,"div")(2,"div",59),f(),i(3,"svg",60),p(4,"path",61),r()(),b(),i(5,"div",51)(6,"h3",52),a(7,"\xA1Ocurrio un error!"),r(),i(8,"div",53)(9,"p",62),a(10,"Asegurate de que los siguientes datos ingresados en el formulario sean correctos:"),r(),ve(11,Gt,2,1,"p",63,_e),r()()()(),i(13,"div",56)(14,"button",64),h("click",function(){x(e);let n=u(2);return _(n.closeMessage())}),a(15,"Volver a intentar"),r()()}if(t&2){let e=u(2);l(11),be(e.errorsModal.split(`
`))}}function Lt(t,c){if(t&1){let e=y();i(0,"div",47)(1,"div")(2,"div",65),f(),i(3,"svg",66),p(4,"path",67),r()(),b(),i(5,"div",51)(6,"h3",52),a(7,"\xA1Pedido realizado con \xE9xito!"),r(),i(8,"div",53)(9,"p",54),a(10,"Tu pedido se ha completado correctamente. Gracias por tu compra."),r()()()()(),i(11,"div",56)(12,"button",68),h("click",function(){x(e);let n=u(2);return _(n.returnToHome())}),a(13,"Volver al inicio"),r()()}}function Bt(t,c){if(t&1&&(i(0,"p",69),a(1),r()),t&2){let e=c.$implicit;l(),F(e)}}function qt(t,c){if(t&1){let e=y();i(0,"div",47)(1,"div")(2,"div",59),f(),i(3,"svg",60),p(4,"path",61),r()(),b(),i(5,"div",51)(6,"h3",52),a(7,"\xA1Ocurrio un error!"),r(),i(8,"div",53),ve(9,Bt,2,1,"p",69,_e),i(11,"p",62),a(12,"Asegurate de que los datos ingresados en el pago sean correctos e int\xE9ntalo de nuevo"),r()()()()(),i(13,"div",56)(14,"button",64),h("click",function(){x(e);let n=u(2);return _(n.closeMessage())}),a(15,"Volver a intentar"),r()()}if(t&2){let e=u(2);l(9),be(e.errorsModal.split(`
`))}}function Ht(t,c){if(t&1&&(i(0,"div",31)(1,"div",46),g(2,zt,19,3)(3,At,16,0)(4,Lt,14,0)(5,qt,16,0),r()()),t&2){let e=u();l(2),N(2,e.configModal===1?2:e.configModal===2?3:e.configModal===3?4:e.configModal===4?5:-1)}}function Rt(t,c){if(t&1){let e=y();i(0,"div",31)(1,"div",46)(2,"div",47)(3,"div")(4,"div",59),f(),i(5,"svg",60),p(6,"path",61),r()(),b(),i(7,"div",51)(8,"h3",52),a(9,"\xA1Advertencia!"),r(),i(10,"div",53)(11,"p",54),a(12,"Hay productos con descuento en tu carrito, pero no hay promociones activas."),r()()()()(),i(13,"div",56)(14,"button",70),h("click",function(){x(e);let n=u();return _(n.cerrar())}),a(15," Entendido! "),r()()()()}}var Fi=(()=>{class t{constructor(e,o,n,s,d,v,S){this.router=e,this.fb=o,this.ordersService=n,this.ordersClientService=s,this.cartService=d,this.kitchenStatusService=v,this.injector=S,this.savedData=[],this.totalPriceSignal=$(A).getTotalPriceSignal(),this.modalVisible=this.cartService.modalVisible,this.statusCashPaymentToGoStatus=this.kitchenStatusService.cashPaymentStatusSignal,this.isModalVisible=xe(!1),this.paymentMethodDisabled=!1,this.tables=xe([]),this.orderDetailForm=this.fb.group({client:["",[w.required,w.pattern("^[a-zA-Z\xC0-\xFF\\s]+$")]],phoneNumber:["",[w.required,w.pattern("^[0-9]{10}$")]],assignedToTable:["",w.required],orderToGo:[null,w.required],paymentMethod:[{value:"",disabled:!0},w.required],tenderedAmount:[],pendingPayment:[],totalAmount:[this.totalPriceSignal(),w.required],createdDate:["01/01/1800, 00:00 a.m."],status:[2]})}ngOnInit(){this.tiempoEstimado=this.kitchenStatusService.getOrdersEstimatedTime(),this.orderDetailForm.get("orderToGo")?.valueChanges.subscribe(e=>{let o=this.orderDetailForm.get("assignedToTable");e!=null?(e===1&&o?.patchValue(null),this.orderDetailForm.get("paymentMethod")?.enable()):this.orderDetailForm.get("paymentMethod")?.disable(),this.orderDetailForm.get("paymentMethod")?.setValue(null)}),this.kitchenStatusService.getTables().subscribe(e=>{this.tables.set(e),this.orderDetailForm.get("assignedToTable")?.setValue(null)})}get isTableDropdownDisabled(){return this.orderDetailForm.get("orderToGo")?.value==null||this.orderDetailForm.get("orderToGo")?.value==1}insertarComponente(e){return new Promise(o=>{let n=this.container.createComponent($e,{injector:this.injector});n.instance.phone_number=e,n.instance.isTransactionCompleted.subscribe(s=>{o(s.success),s.success||(this.errorsModal=s.message,this.isModalVisible.set(!0),this.configModal=4),n?.destroy()}),n.instance.cerrar.subscribe(()=>{o(!1),n?.destroy()})})}showModalBeforeOrder(e){this.kitchenStatusService.isKitchenOpen()?(this.isModalVisible.set(!0),this.configModal=e):alert("La cocina est\xE1 cerrada. No puedes hacer el pedido ahora.");let o="";this.orderDetailForm.get("client")?.valid||(o+=`- Nombre del cliente
`),this.orderDetailForm.get("phoneNumber")?.valid||(o+=`- N\xFAmero de tel\xE9fono
`),this.orderDetailForm.get("assignedToTable")?.valid||(o+=`- N\xFAmero de mesa
`),this.orderDetailForm.get("orderToGo")?.valid||(o+=`- Tipo de orden
`),this.orderDetailForm.get("paymentMethod")?.valid||(o+=`- M\xE9todo de pago
`),(this.orderDetailForm.get("tenderedAmount")?.value<this.totalPriceSignal()||this.orderDetailForm.get("tenderedAmount")?.value===null)&&(o+=`- Tu pago no puede ser menor al total
`),this.isModalVisible.set(!0),this.configModal=e,this.errorsModal=o}submitForm(){return Z(this,null,function*(){if(!this.kitchenStatusService.isKitchenOpen()){alert("La cocina est\xE1 cerrada. No puedes hacer el pedido ahora.");return}this.isModalVisible.set(!1);let e=this.orderDetailForm.get("paymentMethod")?.value,o=this.orderDetailForm.get("tenderedAmount")?.value,n=this.totalPriceSignal(),s=!0;if(e==="Tarjeta d\xE9bito / cr\xE9dito"){if(!(yield this.validarPagoConTarjeta()))return;s=!1}if(e==="Dinero en efectivo"&&o<n){this.showModalBeforeOrder(2);return}if(!this.orderDetailForm.valid){this.showModalBeforeOrder(2);return}let d=this.cartService.getCartItemsToOrder(),v=yield fe(this.tiempoEstimado);if(v==null)return;let S=new Intl.DateTimeFormat("es-MX",{dateStyle:"short",timeStyle:"short"}).format(new Date);this.orderDetailForm.patchValue({createdDate:S,totalAmount:n,pendingPayment:s}),this.registrarOrden(d,v)})}validarPagoConTarjeta(){return Z(this,null,function*(){let e=this.orderDetailForm.get("phoneNumber")?.value;return this.insertarComponente(e)})}obtenerTiempoEstimadoOrden(){return Z(this,null,function*(){try{return yield fe(this.kitchenStatusService.getOrdersEstimatedTime())}catch(e){return console.error("Error al obtener tiempo estimado de la orden:",e),null}})}registrarOrden(e,o){this.ordersService.addOrder(ke(Se({},this.orderDetailForm.value),{foodDishes:e,estimatedOrdersTime:o,isChecked:0})).then(n=>{this.ordersClientService.addOrderIdToLocalStorage(n.id),this.cartService.clearCart(),this.showModalBeforeOrder(3)}).catch(n=>console.error("Error al agregar platillo:",n))}goToShoppingCart(){this.closeMessage(),this.router.navigate(["shopping-cart"])}returnToHome(){this.closeMessage(),this.router.navigate(["/home"])}onlyLettersAndSpaces(e){let o=/^[a-zA-ZÀ-ÿ\s]+$/,n=e.key;o.test(n)||e.preventDefault()}onlyNumbers(e){/^[0-9]+$/.test(e.key)||e.preventDefault()}limitPhoneNumberLength(){let e=this.orderDetailForm.get("phoneNumber");e?.value.length>10&&e?.setValue(e.value.slice(0,10))}limitDigits(e){let o=e.target;o.value.length>8&&(o.value=o.value.slice(0,8))}closeMessage(){this.isModalVisible.set(!1)}cerrar(){this.modalVisible.set(!1)}static{this.\u0275fac=function(o){return new(o||t)(k(ne),k(pe),k(je),k(qe),k(A),k(Le),k(Me))}}static{this.\u0275cmp=D({type:t,selectors:[["app-checkout"]],viewQuery:function(o,n){if(o&1&&Fe(_t,5,De),o&2){let s;Ve(s=Oe())&&(n.container=s.first)}},standalone:!0,features:[V],decls:54,vars:27,consts:[["cardPaymentModal",""],[1,"h-16","flex","flex-row","items-center","px-4","text-gray-800","fill-gray-800"],[1,"space-x-2","p-2","rounded-full","shadow-xl",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"size-6"],["d","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],[1,"nunito-extra-bold","ml-4","w-full","text-[20px]"],[1,"px-4","pb-28","pt-2",3,"formGroup"],[1,"grid","gap-3","mb-6"],["for","client",1,"block","mb-2","text-sm","font-medium","text-gray-800"],["type","text","id","client","formControlName","client","placeholder","Ej. Juan Jos\xE9","maxlength","25","required","",1,"text-gray-800","text-sm","rounded-lg","block","w-full","p-2.5","shadow-lg","border-2","border-gray-200","focus:outline-none","focus:border-orange-600",3,"keypress","ngClass"],["class","text-red-600 fill-red-600 text-sm flex flex-row justify-start items-center mt-2",4,"ngIf"],["for","phone_number",1,"block","mb-2","text-sm","font-medium","text-gray-800"],["type","text","id","phone_number","formControlName","phoneNumber","placeholder","Ej. 6691220932","required","",1,"text-gray-800","text-sm","rounded-lg","block","w-full","p-2.5","shadow-lg","border-2","border-gray-200","focus:outline-none","focus:border-orange-600",3,"keypress","input","ngClass"],[1,"max-w-full"],["formControlName","orderToGo"],["for","paymentMethod",1,"block","my-4","text-gray-800","nunito-extra-bold","text-xl"],["class","text-red-600 fill-red-600 text-sm flex flex-row justify-start items-center mb-2",4,"ngIf"],[1,"grid","w-full","gap-4","md:grid-cols-2",3,"ngClass"],["type","radio","id","card","formControlName","paymentMethod","value","Tarjeta d\xE9bito / cr\xE9dito","required","",1,"hidden","peer"],["for","card",1,"inline-flex","items-center","justify-between","w-full","p-5","text-gray-500","bg-white","border-2","border-gray-200","rounded-lg","cursor-pointer","shadow-lg","fill-gray-300","peer-checked:border-orange-600","peer-checked:text-orange-600","peer-checked:fill-orange-600"],[1,"flex","flex-row","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"size-6","mr-3"],["d","M64 32C28.7 32 0 60.7 0 96l0 32 576 0 0-32c0-35.3-28.7-64-64-64L64 32zM576 224L0 224 0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-192zM112 352l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm112 16c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"],[1,"w-full","text-sm","font-semibold"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"size-5"],["d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"],[1,"flex","flex-row","items-center","justify-between","bg-c-beige-100","h-24","px-6","fixed","bottom-0","left-0","right-0","z-50","rounded-t-3xl"],[1,"nunito-extra-bold"],[1,"text-gray-800",2,"font-size","24px"],[1,"text-c-orange-100",2,"font-size","12px"],["type","button",1,"w-32","py-3","rounded-xl","nunito-extra-bold","text-sm","text-white",3,"click","ngClass"],[1,"fixed","top-0","left-0","px-8","w-full","h-screen","bg-black","bg-opacity-30","flex","flex-col","justify-center","items-center",2,"z-index","60"],["class","fixed top-0 left-0 px-8 w-full h-screen bg-black bg-opacity-30 flex flex-col justify-center items-center","style","z-index: 60;",4,"ngIf"],[1,"text-red-600","fill-red-600","text-sm","flex","flex-row","justify-start","items-center","mt-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"size-4","mr-2"],["d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"],[4,"ngIf"],["formControlName","assignedToTable",3,"options","disabled"],[1,"text-red-600","fill-red-600","text-sm","flex","flex-row","justify-start","items-center","mb-2"],["id","cash","type","radio","formControlName","paymentMethod","value","Dinero en efectivo","required","",1,"hidden","peer"],["for","cash",1,"inline-flex","items-center","justify-between","w-full","p-5","text-gray-500","bg-white","border-2","border-gray-200","rounded-lg","cursor-pointer","shadow-lg","outline-2","fill-gray-300","peer-checked:border-orange-600","peer-checked:text-orange-600","peer-checked:fill-orange-600"],["d","M0 112.5L0 422.3c0 18 10.1 35 27 41.3c87 32.5 174 10.3 261-11.9c79.8-20.3 159.6-40.7 239.3-18.9c23 6.3 48.7-9.5 48.7-33.4l0-309.9c0-18-10.1-35-27-41.3C462 15.9 375 38.1 288 60.3C208.2 80.6 128.4 100.9 48.7 79.1C25.6 72.8 0 88.6 0 112.5zM288 352c-44.2 0-80-43-80-96s35.8-96 80-96s80 43 80 96s-35.8 96-80 96zM64 352c35.3 0 64 28.7 64 64l-64 0 0-64zm64-208c0 35.3-28.7 64-64 64l0-64 64 0zM512 304l0 64-64 0c0-35.3 28.7-64 64-64zM448 96l64 0 0 64c-35.3 0-64-28.7-64-64z"],["for","money_change",1,"block","mb-2","text-sm","font-medium","text-gray-800"],["id","money_change","type","number","formControlName","tenderedAmount","placeholder","$000.00 MXN","required","",1,"text-gray-800","text-sm","rounded-lg","block","w-full","p-2.5","shadow-lg","border-2","border-gray-200","focus:outline-none","focus:border-orange-600",3,"keypress","input","ngClass"],["type","radio","id","terminal","formControlName","paymentMethod","value","Pago con terminal","required","",1,"hidden","peer"],["for","terminal",1,"inline-flex","items-center","justify-between","w-full","p-5","text-gray-500","bg-white","border-2","border-gray-200","rounded-lg","cursor-pointer","shadow-lg","fill-gray-300","peer-checked:border-orange-600","peer-checked:text-orange-600","peer-checked:fill-orange-600"],[1,"relative","transform","overflow-hidden","rounded-lg","bg-white","text-left","shadow-xl"],[1,"bg-white","p-4"],[1,"mx-auto","flex","size-12","shrink-0","items-center","justify-center","rounded-full","bg-sky-100"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-sky-600"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mt-3","text-center"],["id","modal-title",1,"text-base","font-semibold","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"text-3xl","pt-6","text-gray-700","nunito-extra-bold"],[1,"bg-gray-50","p-4"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","ring-1","shadow-xs","ring-gray-300","ring-inset","hover:bg-gray-50",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-sky-100","px-3","py-2","mt-3","text-sm","font-semibold","text-sky-700","shadow-xs",3,"click"],[1,"mx-auto","flex","size-12","shrink-0","items-center","justify-center","rounded-full","bg-yellow-100"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true","data-slot","icon",1,"size-6","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"],[1,"text-sm","text-gray-500","mb-4"],[1,"text-sm","text-yellow-600","mb-2","pl-4","text-left"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","ring-1","shadow-xs","ring-gray-300","ring-inset",3,"click"],[1,"mx-auto","flex","size-12","shrink-0","items-center","justify-center","rounded-full","bg-green-100"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 12.75 6 6 9-13.5"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-green-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-xs",3,"click"],[1,"text-sm","text-yellow-600","mb-2","pl-4","text-center"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-yellow-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-xs",3,"click"]],template:function(o,n){if(o&1){let s=y();i(0,"div",1)(1,"div",2),h("click",function(){return x(s),_(n.goToShoppingCart())}),f(),i(2,"svg",3),p(3,"path",4),r()(),b(),i(4,"p",5),a(5,"Detalles del pedido"),r()(),i(6,"form",6)(7,"div",7)(8,"div")(9,"label",8),a(10,"\xBFCu\xE1l es tu nombre?"),r(),i(11,"input",9),h("keypress",function(v){return x(s),_(n.onlyLettersAndSpaces(v))}),r(),g(12,wt,5,2,"div",10),r(),i(13,"div")(14,"label",11),a(15,"\xBFCu\xE1l es tu n\xFAmero de tel\xE9fono?"),r(),i(16,"input",12),h("keypress",function(v){return x(s),_(n.onlyNumbers(v))})("input",function(){return x(s),_(n.limitPhoneNumberLength())}),r(),g(17,Tt,5,2,"div",10),r(),i(18,"div",13),p(19,"app-dropdown-togo",14),i(20,"div"),g(21,Mt,4,1,"label",10),r()(),g(22,Vt,4,3,"div",13),i(23,"div")(24,"label",15),a(25,"M\xE9todo de pago:"),r(),i(26,"div"),g(27,Pt,4,1,"label",16),r(),i(28,"ul",17),g(29,Nt,11,1)(30,jt,10,0,"li"),i(31,"li"),p(32,"input",18),i(33,"label",19)(34,"div",20),f(),i(35,"svg",21),p(36,"path",22),r(),b(),i(37,"div",23),a(38,"Pago en l\xEDnea"),r()(),f(),i(39,"svg",24),p(40,"path",25),r()()()()()()(),b(),i(41,"footer",26)(42,"div",27)(43,"p",28),a(44),j(45,"currency"),r(),i(46,"p",29),a(47,"Total del pedido"),r()(),i(48,"button",30),h("click",function(){return x(s),_(n.kitchenStatusService.isKitchenOpen()?n.showModalBeforeOrder(1):null)}),a(49),r()(),g(50,Ht,6,1,"div",31)(51,Rt,16,0,"div",32),p(52,"div",null,0)}if(o&2){let s,d,v,S,T,M,G,R,we;l(6),m("formGroup",n.orderDetailForm),l(5),m("ngClass",C(18,Ce,(s=n.orderDetailForm.get("client"))==null?null:s.valid)),l(),m("ngIf",((d=n.orderDetailForm.get("client"))==null?null:d.invalid)&&(((d=n.orderDetailForm.get("client"))==null?null:d.dirty)||((d=n.orderDetailForm.get("client"))==null?null:d.touched))),l(4),m("ngClass",C(20,Ce,(v=n.orderDetailForm.get("phoneNumber"))==null?null:v.valid)),l(),m("ngIf",((S=n.orderDetailForm.get("phoneNumber"))==null?null:S.invalid)&&(((S=n.orderDetailForm.get("phoneNumber"))==null?null:S.dirty)||((S=n.orderDetailForm.get("phoneNumber"))==null?null:S.touched))),l(4),m("ngIf",((T=n.orderDetailForm.get("orderToGo"))==null?null:T.invalid)&&(((T=n.orderDetailForm.get("orderToGo"))==null?null:T.dirty)||((T=n.orderDetailForm.get("orderToGo"))==null?null:T.touched))),l(),N(22,n.isTableDropdownDisabled?-1:22),l(5),m("ngIf",((M=n.orderDetailForm.get("paymentMethod"))==null?null:M.invalid)&&(((M=n.orderDetailForm.get("paymentMethod"))==null?null:M.dirty)||((M=n.orderDetailForm.get("assignedToTable"))==null?null:M.touched))),l(),m("ngClass",C(22,vt,((G=n.orderDetailForm.get("orderToGo"))==null?null:G.value)!==0&&((G=n.orderDetailForm.get("orderToGo"))==null?null:G.value)!==1)),l(),N(29,((R=n.orderDetailForm.get("orderToGo"))==null?null:R.value)!==1||n.statusCashPaymentToGoStatus()?29:-1),l(),N(30,((we=n.orderDetailForm.get("orderToGo"))==null?null:we.value)!==1?30:-1),l(14),E("MX ",z(45,16,n.totalPriceSignal()),""),l(4),m("ngClass",Pe(24,bt,n.kitchenStatusService.isKitchenOpen(),!n.kitchenStatusService.isKitchenOpen())),l(),E(" ",n.kitchenStatusService.isKitchenOpen()?"Ordenar":"Cerrado"," "),l(),N(50,n.isModalVisible()?50:-1),l(),m("ngIf",n.modalVisible())}},dependencies:[I,O,P,Ie,ie,ge,se,oe,ze,Ge,ae,le,Ae,ce,de,me,ue,He,Ue]})}}return t})();export{Fi as a};

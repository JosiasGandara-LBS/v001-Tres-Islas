import{Ad as m,Cd as n,Ed as D,Fd as d,Hd as t,Id as u,Kd as i,Ld as l,Md as c,Nd as f,U as y,_ as p,a as h,f as s}from"./chunk-UBYFVHHT.js";var $=(()=>{class a{constructor(){this._firestore=p(m)}getOrdersWithStatus(r){let e=d(this._firestore,"orders"),o=l(e,f("status","==",r),i("createdDate","asc"));return n(o,{idField:"id"})}getOrdersWithAnyParameter(){let r=d(this._firestore,"orders"),e=l(r,i("createdDate","asc"));return n(e,{idField:"id"})}getOrderById(r){return s(this,null,function*(){let e=t(this._firestore,`orders/${r}`),o=yield u(e);if(o.exists())return h({id:r},o.data());throw new Error("No such document!")})}addOrder(r){let e=d(this._firestore,"orders");return D(e,r)}updateOrderStatusField(r,e,o){return s(this,null,function*(){let g=t(this._firestore,`orders/${r}`);return c(g,{[e]:o}).then(()=>{console.log("Campo actualizado con \xE9xito")}).catch(O=>{console.error("Error actualizando el campo:",O)})})}setOrderAsChecked(r){return s(this,null,function*(){let e=t(this._firestore,`orders/${r}`);return c(e,{isChecked:1}).then(()=>{console.log("Campo actualizado con \xE9xito")}).catch(o=>{console.error("Error actualizando el campo:",o)})})}cancelOrder(r){return s(this,null,function*(){let e=t(this._firestore,`orders/${r}`);return c(e,{status:0}).then(()=>{console.log("Pedido cancelado con \xE9xito")}).catch(o=>{console.error("Error cancelando el pedido:",o)})})}setOrderAsPaid(r){return s(this,null,function*(){let e=t(this._firestore,`orders/${r}`);return c(e,{PaymentPending:!1}).then(()=>{}).catch(o=>{console.error("Error pagando el pedido:",o)})})}getOrderHistoryByState(r){let e=d(this._firestore,"orderHistory"),o=l(e,f("status","==",r),i("createdDate","asc"));return n(o,{idField:"id"})}getOrderByIdHistory(r){return s(this,null,function*(){let e=t(this._firestore,`orderHistory/${r}`),o=yield u(e);if(o.exists())return h({id:r},o.data());throw new Error("No such document!")})}setOrderAsCheckedHistory(r){let e=t(this._firestore,`orderHistory/${r}`);return c(e,{isChecked:1}).then(()=>{}).catch(o=>{console.error("Error actualizando el campo:",o)})}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275prov=y({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();export{$ as a};

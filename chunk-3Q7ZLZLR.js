import{a as k}from"./chunk-BLKVMGGI.js";import"./chunk-WP34KY6G.js";import{a as T}from"./chunk-ELXEUX6N.js";import{a as M,b as D}from"./chunk-W73XW6IK.js";import"./chunk-FKQ6VRYC.js";import{$a as f,Ec as H,Gc as F,Hb as S,Hc as E,Ib as b,Pb as O,Pc as I,Ra as r,Rb as w,Z as u,ca as g,fb as l,hb as s,lb as v,mb as x,na as _,oa as h,qb as n,qc as m,rb as o,sb as d,wb as y,xb as C,yb as c}from"./chunk-DGTG4CQ7.js";var N=e=>[e];function V(e,a){e&1&&d(0,"span",11)}function $(e,a){e&1&&d(0,"div",10)}function B(e,a){if(e&1){let t=y();n(0,"div",5),C("click",function(){let p=_(t).$implicit,j=c();return h(j.changeSelectedState(p.n))}),n(1,"div",6)(2,"div",7),d(3,"i",8),n(4,"span"),S(5),o(),l(6,V,1,0,"span",9),o(),l(7,$,1,0,"div",10),o()()}if(e&2){let t=a.$implicit,i=c();r(3),v(t.icon),s("ngClass",w(6,N,"text-"+t.color)),r(2),b(t.text),r(),s("ngIf",t.hasChanges),r(),x(7,i.selectedState()===t.n?7:-1)}}function P(e,a){if(e&1&&(n(0,"div"),d(1,"app-orders",13),o()),e&2){let t=c(2);r(),s("orders",t.filteredOrders())("orderStatus",t.selectedState())("isHistory",!0)}}function q(e,a){if(e&1&&(n(0,"div"),l(1,P,2,3,"div",12),o()),e&2){let t=a.$implicit,i=c();r(),s("ngIf",i.selectedState()===t.n)}}var W=(()=>{class e{constructor(){this.ordersService=u(T),this._orders=f([]),this.orders=m(()=>this._orders()),this.filteredOrders=m(()=>this.orders()),this._selectedState=f(0),this.selectedState=m(()=>this._selectedState()),this.statuses=[{n:2,text:"Preparando",color:"yellow-600",icon:"pi pi-clock",hasChanges:!1},{n:0,text:"Cancelado",color:"red-700",icon:"pi pi-ban",hasChanges:!1},{n:3,text:"Entregado",color:"gray-500",icon:"pi pi-check",hasChanges:!1}]}ngOnInit(){this.getOrders()}getOrders(){this.ordersService.getOrderHistoryByState(this.selectedState()).subscribe(t=>{this._orders.set(t)})}changeSelectedState(t){this._selectedState.set(t),this.getOrders()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-orders-history"]],standalone:!0,features:[O],decls:6,vars:2,consts:[[1,"p-4","w-full","min-h-screen","h-full","bg-white"],[1,"w-full","flex","flex-col","md:flex-row","align-center","mb-8","gap-4"],["class","tab w-full flex items-center cursor-pointer border-c-orange-100 rounded-md","style","border-width: 1px;",3,"click",4,"ngFor","ngForOf"],[1,"w-full","rounded-full","h-2","bg-c-beige-100","mb-4"],[4,"ngFor","ngForOf"],[1,"tab","w-full","flex","items-center","cursor-pointer","border-c-orange-100","rounded-md",2,"border-width","1px",3,"click"],[1,"flex","items-center","w-full","justify-center","flex-col"],[1,"flex","justify-center","items-center","gap-1"],[3,"ngClass"],["class","badge bg-red-500 text-white rounded-full animate-ping px-1 py-1 w-1 h-1",4,"ngIf"],[1,"w-full","rounded-full","h-2","bg-c-orange-100"],[1,"badge","bg-red-500","text-white","rounded-full","animate-ping","px-1","py-1","w-1","h-1"],[4,"ngIf"],[3,"orders","orderStatus","isHistory"]],template:function(i,p){i&1&&(n(0,"div",0),d(1,"p-divider"),n(2,"div",1),l(3,B,8,8,"div",2),o(),d(4,"div",3),l(5,q,2,1,"div",4),o()),i&2&&(r(3),s("ngForOf",p.statuses),r(2),s("ngForOf",p.statuses))},dependencies:[k,I,H,F,E,D,M]})}}return e})();export{W as OrdersHistoryComponent};

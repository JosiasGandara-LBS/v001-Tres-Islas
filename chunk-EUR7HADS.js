import{a as te}from"./chunk-BHNCDO4K.js";import{a as g}from"./chunk-D2VIHQ6X.js";import"./chunk-T4BPVZYH.js";import"./chunk-KPFCZN2Q.js";import"./chunk-L4SYSODM.js";import{a as A,c as q}from"./chunk-NOBBJZ4A.js";import{a as ee}from"./chunk-N6E4HXOC.js";import"./chunk-5KBS2D2T.js";import{b as Z,e as $,i as J,r as Y}from"./chunk-E24SI26R.js";import"./chunk-JD6QSBJA.js";import{Db as P,Eb as K,Ec as O,Fb as F,Gc as X,Hb as c,Ib as w,Jb as x,Kb as R,Lb as N,Mb as U,Nb as W,Oa as T,Oc as k,Pb as M,Pc as L,Ra as a,Rb as y,Sa as _,Z as m,Zb as I,_a as H,_b as S,ca as b,fb as z,gb as D,hb as d,mb as V,na as h,oa as C,pa as p,qa as v,qb as i,qc as Q,rb as r,sb as l,ta as E,wb as j,xa as G,xb as u,yb as f}from"./chunk-V2UJK3JJ.js";var ce=o=>({fadeOutDown:o});function se(o,B){if(o&1){let e=j();i(0,"section",9)(1,"div",10),l(2,"img",11),i(3,"span",12),c(4),I(5,"currency"),r()(),i(6,"h3",13),c(7),r(),i(8,"p",14),c(9),r(),i(10,"div",15)(11,"p",16),c(12,"Cantidad"),r(),i(13,"div",17)(14,"div",18),u("click",function(){h(e);let n=f();return C(n.decrementQuantity())}),p(),i(15,"svg",19),l(16,"path",20),r()(),v(),i(17,"p",21),c(18),r(),i(19,"div",18),u("click",function(){h(e);let n=f();return C(n.incrementQuantity())}),p(),i(20,"svg",19),l(21,"path",22),r()()()(),v(),i(22,"div",23)(23,"p",24),c(24,"Instrucciones adicionales"),r(),i(25,"textarea",25),W("ngModelChange",function(n){h(e);let s=f();return U(s.additionalInstructions,n)||(s.additionalInstructions=n),C(n)}),r()(),i(26,"div",26)(27,"p",27),u("click",function(){h(e);let n=f();return C(n.updateCart(n.cartItem))}),i(28,"span"),p(),i(29,"svg",28),l(30,"path",29),r()(),c(31),I(32,"currency"),r()()()}if(o&2){let e=f();a(2),d("src",e.item.image?e.item.image:"assets/img/no-image.svg",T),a(2),x(" MX ",S(5,8,e.item.price)," "),a(3),w(e.item.name),a(2),x(" ",e.item.description," "),a(9),w(e.quantity),a(7),N("ngModel",e.additionalInstructions),a(6),R(" Modificar ",e.quantity," por ",S(32,10,e.item.price*e.quantity)," ")}}var re=(()=>{class o{constructor(){this.cartService=m(g),this.cerrar=new G,this.isFadingOut=!1}ngOnInit(){if(this.itemId){this.subscription=this.cartService.getItemById(this.itemId).subscribe(t=>this.item=t);let e=this.cartService.getCartItemById(this.itemId);e&&(this.cartItem=e,this.quantity=this.cartItem.quantity,this.additionalInstructions=this.cartItem.additionalInstructions)}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}returnToShoppingCart(){this.isFadingOut=!0,setTimeout(()=>this.cerrar.emit(),400)}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity>1&&this.quantity--}updateCart(e){e.quantity=this.quantity,e.additionalInstructions=this.additionalInstructions,this.cartService.updateCartItem(e),this.returnToShoppingCart()}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=b({type:o,selectors:[["app-modal-item"]],inputs:{itemId:"itemId"},outputs:{cerrar:"cerrar"},standalone:!0,features:[M],decls:10,vars:4,consts:[[1,"fixed","flex","flex-col","bottom-0","left-0","w-full","h-screen","bg-white","z-50","fadeInUp",3,"ngClass"],[1,"h-16","w-full"],[1,"h-16","px-4","flex","flex-row","justify-between","items-center"],[1,"space-x-2","p-2","rounded-full","shadow-xl",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"size-6"],["d","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],[1,"space-x-2","p-2","rounded-full","shadow-xl","invisible"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"size-6"],["d","M352 224l-46.5 0c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8l-2.5 0c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144l80 0 0-61.3C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2l-3.7 0c-17.7 0-32-14.3-32-32l0-64zM80 96c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-48c0-17.7 14.3-32 32-32s32 14.3 32 32l0 48c0 44.2-35.8 80-80 80L80 512c-44.2 0-80-35.8-80-80L0 112C0 67.8 35.8 32 80 32l48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 96z"],[1,"p-6","flex","flex-col","items-center","relative"],[1,"relative"],["alt","image",1,"w-52","h-52","rounded-2xl","mb-4",3,"src"],[1,"absolute","top-2","right-2","bg-c-beige-100","px-3","py-1","rounded-lg","nunito-extra-bold","text-sm","text-[#E55204]"],[1,"nunito-extra-bold","uppercase","mb-2","text-[16px]"],[1,"text-gray-600","nunito-regular","text-center","px-8","mb-4","text-sm"],[1,"w-full","flex","flex-row","p-4","mb-4","rounded-lg","justify-between","bg-gray-200"],[1,"text-sm"],[1,"flex","flex-row","items-center","justify-between","fill-gray-700"],[1,"flex","justify-center","items-center","h-6","w-6","rounded-full","bg-gray-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"size-3.5"],["d","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"],[1,"mx-5","text-sm"],["d","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"],[1,"w-full","flex","flex-col","p-4","rounded-lg","bg-gray-200"],[1,"nunito-extra-bold","uppercase","text-center","pb-4"],["placeholder","Sin comentarios...","id","txtarea","rows","4",1,"rounded-md","py-2","px-3","placeholder-gray-400","border-2","border-transparent","focus:border-gray-400","focus:ring-0","focus:outline-none",3,"ngModelChange","ngModel"],[1,"fixed","h-16","w-full","px-6","flex","justify-center","items-center","bg-transparent","bottom-4"],[1,"bg-c-orange-100","text-white","text-lg","w-full","h-full","rounded-xl","flex","justify-center","items-center","nunito-extra-bold",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"size-6","fill-white","mr-2"],["d","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3),u("click",function(){return n.returnToShoppingCart()}),p(),i(4,"svg",4),l(5,"path",5),r()(),v(),i(6,"div",6),p(),i(7,"svg",7),l(8,"path",8),r()()()(),z(9,se,33,12,"section",9),r()),t&2&&(d("ngClass",y(2,ce,n.isFadingOut)),a(9),V(9,n.item?9:-1))},dependencies:[L,O,k,Y,Z,$,J],styles:["@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translate3d(0,100%,0)}to{opacity:1;transform:translateZ(0)}}.fadeInUp[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInUp;animation-duration:.5s}@keyframes _ngcontent-%COMP%_fadeOutDown{0%{opacity:1}to{opacity:0;transform:translate3d(0,100%,0)}}.fadeOutDown[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeOutDown;animation-duration:.5s}#txtarea[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}}return o})();var me=["modalContainer"],oe=o=>({"opacity-50 cursor-not-allowed":o});function pe(o,B){if(o&1&&(i(0,"p",19),c(1),r()),o&2){let e=f().$implicit;a(),x("** ",e.additionalInstructions,"")}}function de(o,B){if(o&1){let e=j();i(0,"div",3)(1,"div",4),l(2,"img",5),i(3,"div",6)(4,"h3",7),c(5),i(6,"span",8),c(7,"X"),r(),c(8),r(),i(9,"p",9),c(10),r()()(),i(11,"div",10)(12,"h3",11),c(13),I(14,"currency"),r(),i(15,"div",12)(16,"div",13),u("click",function(){let n=h(e).$implicit,s=f();return C(s.isKitchenOpen?s.insertarComponente(n.id):null)}),p(),i(17,"svg",14),l(18,"path",15),r()(),v(),i(19,"div",16),u("click",function(){let n=h(e).$implicit,s=f();return C(s.isKitchenOpen?s.deleteCartItem(n.id):null)}),p(),i(20,"svg",17),l(21,"path",18),r()()()(),z(22,pe,2,1,"p",19),r()}if(o&2){let e=B.$implicit,t=f();a(2),d("src",e.image?e.image:"assets/img/no-image.svg",T),a(3),x(" ",e.quantity," "),a(3),x(" ",e.name," "),a(2),w(e.description),a(3),x("MX ",S(14,10,e.price*e.quantity),""),a(3),d("ngClass",y(12,oe,!t.isKitchenOpen)),D("disabled",t.isKitchenOpen?null:!0),a(3),d("ngClass",y(14,oe,!t.isKitchenOpen)),D("disabled",t.isKitchenOpen?null:!0),a(3),V(22,e.additionalInstructions!==""?22:-1)}}var ae=(()=>{class o{constructor(e,t){this.router=e,this.injector=t,this.cartService=m(g),this.totalPriceSignal=m(g).getTotalPriceSignal(),this.cartItemsCount=m(g).getCartItemsCount(),this._menuService=m(g).getMenu,this.cartItems=Q(()=>this.cartService.cartItemsValue),this.isKitchenOpen=!0}ngOnInit(){this.cartService.updateCartItemsWithImage()}insertarComponente(e){this.container.length>0&&this.container.clear();let t=this.container.createComponent(re,{injector:this.injector});t.instance.itemId=e,t.instance.cerrar.subscribe(()=>t?.destroy())}deleteCartItem(e){this.cartService.deleteCartItem(e)}incrementQuantity(e){this.isKitchenOpen&&this.cartService.incrementQuantity(e)}decrementQuantity(e){this.cartService.decrementQuantity(e),this.cartService.getCartItemsCount()()<1&&this.router.navigate(["/home"])}static{this.\u0275fac=function(t){return new(t||o)(_(q),_(E))}}static{this.\u0275cmp=b({type:o,selectors:[["app-cart-items"]],viewQuery:function(t,n){if(t&1&&P(me,5,H),t&2){let s;K(s=F())&&(n.container=s.first)}},inputs:{isKitchenOpen:"isKitchenOpen"},standalone:!0,features:[M],decls:4,vars:1,consts:[["modalContainer",""],[1,"px-4","pb-28"],["class","bg-white py-4 border-b border-gray-300",4,"ngFor","ngForOf"],[1,"bg-white","py-4","border-b","border-gray-300"],[1,"flex","items-start","mb-2"],["alt","no-image",1,"w-16","h-16","mr-4","rounded-lg",3,"src"],[1,"flex-1","flex","flex-col","h-16"],[1,"nunito-extra-bold","flex-grow","uppercase","text-[16px]"],[1,"text-xs"],[1,"text-gray-600","nunito-regular","line-clamp-2","text-xs"],[1,"flex","flex-row","justify-between","pl-20"],[1,"nunito-extra-bold","uppercase","text-[16px]"],[1,"flex","flex-row","items-center","justify-between"],[1,"flex","justify-center","items-center","h-6","w-6","rounded-full","bg-amber-500",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"size-3","fill-white"],["d","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"],[1,"flex","justify-center","items-center","ml-3","h-6","w-6","rounded-full","bg-red-700",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"size-3","fill-white"],["d","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"],[1,"nunito-extra-bold","text-xs","mt-2","text-c-orange-100"]],template:function(t,n){t&1&&(i(0,"section",1),z(1,de,23,16,"div",2),r(),l(2,"div",null,0)),t&2&&(a(),d("ngForOf",n.cartItems()))},dependencies:[L,O,X,k]})}}return o})();var ue=o=>({"opacity-50 cursor-not-allowed":o}),Be=(()=>{class o{constructor(e,t,n){this.route=e,this.router=t,this.injector=n,this.title="Carrito de compra",this.totalPriceSignal=m(g).getTotalPriceSignal(),this.cartItemsCount=m(g).getCartItemsCount(),this.kitchenStatusService=m(ee),this.isKitchenOpen=Q(()=>this.kitchenStatusService.isKitchenOpen())}ngOnInit(){}goToHome(){this.router.navigate(["/home"])}goToCheckout(){this.router.navigate(["/checkout"])}static{this.\u0275fac=function(t){return new(t||o)(_(A),_(q),_(E))}}static{this.\u0275cmp=b({type:o,selectors:[["app-shopping-cart"]],viewQuery:function(t,n){if(t&1&&P(te,5),t&2){let s;K(s=F())&&(n.checkoutComponent=s.first)}},standalone:!0,features:[M],decls:16,vars:10,consts:[[1,"h-16","flex","flex-row","items-center","px-4","text-gray-800","fill-gray-800"],[1,"space-x-2","p-2","rounded-full","shadow-xl",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"size-6"],["d","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],[1,"nunito-extra-bold","ml-4","w-full","text-[20px]"],[3,"isKitchenOpen"],[1,"flex","flex-row","items-center","justify-between","bg-c-beige-100","h-24","px-6","fixed","bottom-0","left-0","right-0","z-40","rounded-t-3xl"],[1,"nunito-extra-bold"],[1,"text-gray-800",2,"font-size","24px"],[1,"text-c-orange-100",2,"font-size","12px"],["type","button",1,"w-32","py-3","bg-c-orange-100","rounded-xl","nunito-extra-bold","text-white",2,"font-size","14px",3,"click","disabled","ngClass"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1),u("click",function(){return n.goToHome()}),p(),i(2,"svg",2),l(3,"path",3),r()(),v(),i(4,"p",4),c(5),r()(),l(6,"app-cart-items",5),i(7,"footer",6)(8,"div",7)(9,"p",8),c(10),I(11,"currency"),r(),i(12,"p",9),c(13,"Total del pedido + IVA(16%)"),r()(),i(14,"button",10),u("click",function(){return n.goToCheckout()}),c(15),r()()),t&2&&(a(5),w(n.title),a(),d("isKitchenOpen",n.isKitchenOpen()),a(4),x("MX ",S(11,6,n.totalPriceSignal()),""),a(4),d("disabled",!n.isKitchenOpen())("ngClass",y(8,ue,!n.isKitchenOpen())),a(),x(" ",n.isKitchenOpen()?"Siguiente":"Cerrado"," "))},dependencies:[L,O,k,ae],styles:["@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:translateZ(0)}}.fadeInLeft[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInLeft;animation-duration:.3s}@keyframes _ngcontent-%COMP%_fadeOutLeft{0%{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0)}}.fadeOutLeft[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeOutLeft;animation-duration:.3s}"]})}}return o})();export{Be as ShoppingCartComponent};

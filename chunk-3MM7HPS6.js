var HA=Object.create;var Bd=Object.defineProperty,zA=Object.defineProperties,GA=Object.getOwnPropertyDescriptor,WA=Object.getOwnPropertyDescriptors,KA=Object.getOwnPropertyNames,Oa=Object.getOwnPropertySymbols,R_=Object.getPrototypeOf,$d=Object.prototype.hasOwnProperty,N_=Object.prototype.propertyIsEnumerable,QA=Reflect.get;var S_=(t,e,n)=>e in t?Bd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tt=(t,e)=>{for(var n in e||={})$d.call(e,n)&&S_(t,n,e[n]);if(Oa)for(var n of Oa(e))N_.call(e,n)&&S_(t,n,e[n]);return t},vt=(t,e)=>zA(t,WA(e));var YA=(t,e)=>{var n={};for(var r in t)$d.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Oa)for(var r of Oa(t))e.indexOf(r)<0&&N_.call(t,r)&&(n[r]=t[r]);return n};var wU=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var JA=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of KA(e))!$d.call(t,i)&&i!==n&&Bd(t,i,{get:()=>e[i],enumerable:!(r=GA(e,i))||r.enumerable});return t};var EU=(t,e,n)=>(n=t!=null?HA(R_(t)):{},JA(e||!t||!t.__esModule?Bd(n,"default",{value:t,enumerable:!0}):n,t));var Fn=(t,e,n)=>QA(R_(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function vi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var un=vi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t){return typeof t=="function"}var ka=vi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function _r(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof ka?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{P_(s)}catch(o){e=e??[],o instanceof ka?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ka(e)}}add(e){var n;if(e&&e!==this)if(this.closed)P_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_r(n,e)}remove(e){let{_finalizers:n}=this;n&&_r(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var qd=Pe.EMPTY;function Fa(t){return t instanceof Pe||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function P_(t){X(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _i={setTimeout(t,e,...n){let{delegate:r}=_i;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=_i;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function La(t){_i.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function qs(){}var x_=Hd("C",void 0,void 0);function M_(t){return Hd("E",void 0,t)}function O_(t){return Hd("N",t,void 0)}function Hd(t,e,n){return{kind:t,value:e,error:n}}var Ir=null;function Ii(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!Ir;if(e&&(Ir={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ir;if(Ir=null,n)throw r}}else t()}function k_(t){St.useDeprecatedSynchronousErrorHandling&&Ir&&(Ir.errorThrown=!0,Ir.error=t)}var wr=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fa(e)&&e.add(this)):this.destination=eS}static create(e,n,r){return new Ln(e,n,r)}next(e){this.isStopped?Gd(O_(e),this):this._next(e)}error(e){this.isStopped?Gd(M_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gd(x_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XA=Function.prototype.bind;function zd(t,e){return XA.call(t,e)}var Wd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Va(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Va(r)}else Va(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Va(n)}}},Ln=class extends wr{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zd(e.next,s),error:e.error&&zd(e.error,s),complete:e.complete&&zd(e.complete,s)}):i=e}this.destination=new Wd(i)}};function Va(t){St.useDeprecatedSynchronousErrorHandling?k_(t):La(t)}function ZA(t){throw t}function Gd(t,e){let{onStoppedNotification:n}=St;n&&_i.setTimeout(()=>n(t,e))}var eS={closed:!0,next:qs,error:ZA,complete:qs};function tS(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=new Ln({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new un)}});t.subscribe(s)})}var wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ht(t){return t}function F_(...t){return Kd(t)}function Kd(t){return t.length===0?ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=rS(n)?n:new Ln(n,r,i);return Ii(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=L_(r),new r((i,s)=>{let o=new Ln({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[wi](){return this}pipe(...n){return Kd(n)(this)}toPromise(n){return n=L_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function L_(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function nS(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function rS(t){return t&&t instanceof wr||nS(t)&&Fa(t)}function Qd(t){return X(t?.lift)}function ce(t){return e=>{if(Qd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new Yd(t,e,n,r,i)}var Yd=class extends wr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Jd(){return ce((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xd=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Jd()(this)}};var V_=vi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Vn=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ja(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new V_}next(n){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?qd:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,_r(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new ja(e,n),t})(),ja=class extends Vn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qd}};var Hs=class extends Vn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zd={now(){return(Zd.delegate||Date).now()},delegate:void 0};var Ua=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var zs={setInterval(t,e,...n){let{delegate:r}=zs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ei=class extends Ua{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return zs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,_r(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ti=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ti.now=Zd.now;var Di=class extends Ti{constructor(e,n=Ti.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var eh=new Di(Ei);var Ba=class extends Ei{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $a=class extends Di{};var th=new $a(Ba);var Gs=new ne(t=>t.complete());function j_(t){return t&&X(t.schedule)}function U_(t){return t[t.length-1]}function qa(t){return X(U_(t))?t.pop():void 0}function jn(t){return j_(U_(t))?t.pop():void 0}function nh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function B_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Er(t){return this instanceof Er?(this.v=t,this):new Er(t)}function q_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,M){s.push([y,N,R,M])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){g(s[0][3],N)}}function l(y){y.value instanceof Er?Promise.resolve(y.value.v).then(h,p):g(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function H_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof B_=="function"?B_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Ha=t=>t&&typeof t.length=="number"&&typeof t!="function";function za(t){return X(t?.then)}function Ga(t){return X(t[wi])}function Wa(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function Ka(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qa=iS();function Ya(t){return X(t?.[Qa])}function Ja(t){return q_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Er(n.read());if(i)return yield Er(void 0);yield yield Er(r)}}finally{n.releaseLock()}})}function Xa(t){return X(t?.getReader)}function Ce(t){if(t instanceof ne)return t;if(t!=null){if(Ga(t))return sS(t);if(Ha(t))return oS(t);if(za(t))return aS(t);if(Wa(t))return z_(t);if(Ya(t))return cS(t);if(Xa(t))return uS(t)}throw Ka(t)}function sS(t){return new ne(e=>{let n=t[wi]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oS(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function aS(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,La)})}function cS(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function z_(t){return new ne(e=>{lS(t,e).catch(n=>e.error(n))})}function uS(t){return z_(Ja(t))}function lS(t,e){var n,r,i,s;return $_(this,void 0,void 0,function*(){try{for(n=H_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function at(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Un(t,e=0){return ce((n,r)=>{n.subscribe(ie(r,i=>at(r,t,()=>r.next(i),e),()=>at(r,t,()=>r.complete(),e),i=>at(r,t,()=>r.error(i),e)))})}function Bn(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function G_(t,e){return Ce(t).pipe(Bn(e),Un(e))}function W_(t,e){return Ce(t).pipe(Bn(e),Un(e))}function K_(t,e){return new ne(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Q_(t,e){return new ne(n=>{let r;return at(n,e,()=>{r=t[Qa](),at(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function Za(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{at(n,e,()=>{let r=t[Symbol.asyncIterator]();at(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Y_(t,e){return Za(Ja(t),e)}function J_(t,e){if(t!=null){if(Ga(t))return G_(t,e);if(Ha(t))return K_(t,e);if(za(t))return W_(t,e);if(Wa(t))return Za(t,e);if(Ya(t))return Q_(t,e);if(Xa(t))return Y_(t,e)}throw Ka(t)}function Rt(t,e){return e?J_(t,e):Ce(t)}function ec(...t){let e=jn(t);return Rt(t,e)}function dS(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new ne(e?i=>e.schedule(r,0,i):r)}function hS(t){return!!t&&(t instanceof ne||X(t.lift)&&X(t.subscribe))}function xe(t,e){return ce((n,r)=>{let i=0;n.subscribe(ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:fS}=Array;function pS(t,e){return fS(e)?t(...e):t(e)}function tc(t){return xe(e=>pS(t,e))}var{isArray:mS}=Array,{getPrototypeOf:gS,prototype:yS,keys:vS}=Object;function nc(t){if(t.length===1){let e=t[0];if(mS(e))return{args:e,keys:null};if(_S(e)){let n=vS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function _S(t){return t&&typeof t=="object"&&gS(t)===yS}function rc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function IS(...t){let e=jn(t),n=qa(t),{args:r,keys:i}=nc(t);if(r.length===0)return Rt([],e);let s=new ne(wS(r,e,i?o=>rc(i,o):ht));return n?s.pipe(tc(n)):s}function wS(t,e,n=ht){return r=>{X_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)X_(e,()=>{let l=Rt(t[u],e),h=!1;l.subscribe(ie(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function X_(t,e,n){t?at(n,t,e):e()}function Z_(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{s&&e.next(N),l++;let R=!1;Ce(n(N,h++)).subscribe(ie(e,M=>{i?.(M),s?y(M):e.next(M)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let M=u.shift();o?at(e,o,()=>C(M)):C(M)}g()}catch(M){e.error(M)}}))};return t.subscribe(ie(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Tr(t,e,n=1/0){return X(e)?Tr((r,i)=>xe((s,o)=>e(r,s,i,o))(Ce(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>Z_(r,i,t,n)))}function rh(t=1/0){return Tr(ht,t)}function eI(){return rh(1)}function ic(...t){return eI()(Rt(t,jn(t)))}function ES(t){return new ne(e=>{Ce(t()).subscribe(e)})}function TS(...t){let e=qa(t),{args:n,keys:r}=nc(t),i=new ne(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Ce(n[h]).subscribe(ie(s,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?rc(r,a):a),s.complete())}))}});return e?i.pipe(tc(e)):i}function $n(t,e){return ce((n,r)=>{let i=0;n.subscribe(ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function tI(t){return ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ie(n,void 0,void 0,o=>{s=Ce(t(o,tI(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function nI(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ie(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ih(t,e){return X(e)?Tr(t,e,1):Tr(t,1)}function Ws(t){return ce((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function sh(t){return t<=0?()=>Gs:ce((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function DS(t){return xe(()=>t)}function sc(t=bS){return ce((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function bS(){return new un}function oc(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rI(t,e){let n=arguments.length>=2;return r=>r.pipe(t?$n((i,s)=>t(i,s,r)):ht,sh(1),n?Ws(e):sc(()=>new un))}function oh(t){return t<=0?()=>Gs:ce((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function CS(t,e){let n=arguments.length>=2;return r=>r.pipe(t?$n((i,s)=>t(i,s,r)):ht,oh(1),n?Ws(e):sc(()=>new un))}function iI(t,e){return ce(nI(t,e,arguments.length>=2,!0))}function sI(...t){let e=jn(t);return ce((n,r)=>{(e?ic(t,n,e):ic(t,n)).subscribe(r)})}function ah(t,e){return ce((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,h=s++;Ce(t(u,h)).subscribe(i=ie(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function AS(t){return ce((e,n)=>{Ce(t).subscribe(ie(n,()=>n.complete(),qs)),!n.closed&&e.subscribe(n)})}function ac(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ie(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ht}function oI(t,e){return Object.is(t,e)}var ke=null,Ks=!1,cc=1,Vt=Symbol("SIGNAL");function re(t){let e=ke;return ke=t,e}function SS(){return Ks}var Ys={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dh(t){if(Ks)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(t);let e=ke.nextProducerIndex++;if(bi(ke),e<ke.producerNode.length&&ke.producerNode[e]!==t&&Qs(ke)){let n=ke.producerNode[e];fc(n,ke.producerIndexOfThis[e])}ke.producerNode[e]!==t&&(ke.producerNode[e]=t,ke.producerIndexOfThis[e]=Qs(ke)?dI(t,ke,e):0),ke.producerLastReadVersion[e]=t.version}function RS(){cc++}function aI(t){if(!(Qs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cc)){if(!t.producerMustRecompute(t)&&!hc(t)){t.dirty=!1,t.lastCleanEpoch=cc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=cc}}function cI(t){if(t.liveConsumerNode===void 0)return;let e=Ks;Ks=!0;try{for(let n of t.liveConsumerNode)n.dirty||lI(n)}finally{Ks=e}}function uI(){return ke?.consumerAllowSignalWrites!==!1}function lI(t){t.dirty=!0,cI(t),t.consumerMarkedDirty?.(t)}function lc(t){return t&&(t.nextProducerIndex=0),re(t)}function dc(t,e){if(re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Qs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hc(t){bi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(aI(n),r!==n.version))return!0}return!1}function hh(t){if(bi(t),Qs(t))for(let e=0;e<t.producerNode.length;e++)fc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function dI(t,e,n){if(hI(t),bi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=dI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function fc(t,e){if(hI(t),bi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)fc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];bi(i),i.producerIndexOfThis[r]=e}}function Qs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fI(t){let e=Object.create(NS);e.computation=t;let n=()=>{if(aI(e),dh(e),e.value===uc)throw e.error;return e.value};return n[Vt]=e,n}var ch=Symbol("UNSET"),uh=Symbol("COMPUTING"),uc=Symbol("ERRORED"),NS=vt(tt({},Ys),{value:ch,dirty:!0,error:null,equal:oI,producerMustRecompute(t){return t.value===ch||t.value===uh},producerRecomputeValue(t){if(t.value===uh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=uh;let n=lc(t),r;try{r=t.computation()}catch(i){r=uc,t.error=i}finally{dc(t,n)}if(e!==ch&&e!==uc&&r!==uc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function PS(){throw new Error}var pI=PS;function mI(){pI()}function gI(t){pI=t}var xS=null;function yI(t){let e=Object.create(_I);e.value=t;let n=()=>(dh(e),e.value);return n[Vt]=e,n}function fh(t,e){uI()||mI(),t.equal(t.value,e)||(t.value=e,MS(t))}function vI(t,e){uI()||mI(),fh(t,e(t.value))}var _I=vt(tt({},Ys),{equal:oI,value:void 0});function MS(t){t.version++,RS(),cI(t),xS?.()}function II(t,e,n){let r=Object.create(OS);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=u=>{r.cleanupFn=u};function s(u){return u.fn===null&&u.schedule===null}function o(u){s(u)||(hh(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=lh)}let a=()=>{if(r.fn===null)return;if(SS())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!hc(r))return;r.hasRun=!0;let u=lc(r);try{r.cleanupFn(),r.cleanupFn=lh,r.fn(i)}finally{dc(r,u)}};return r.ref={notify:()=>lI(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[Vt]:r},r.ref}var lh=()=>{},OS=vt(tt({},Ys),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:lh});var lw="https://g.co/ng/security#xss",K=class extends Error{constructor(e,n){super(Qc(e,n)),this.code=e}};function Qc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ho(t){return{toString:t}.toString()}var pc="__parameters__";function kS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function dw(t,e,n){return ho(()=>{let r=kS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(pc)?u[pc]:Object.defineProperty(u,pc,{value:[]})[pc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ae=globalThis;function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function FS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Nh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var LS=ge({__forward_ref__:ge});function hw(t){return t.__forward_ref__=hw,t.toString=function(){return rt(this())},t}function nt(t){return fw(t)?t():t}function fw(t){return typeof t=="function"&&t.hasOwnProperty(LS)&&t.__forward_ref__===hw}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yc(t){return wI(t,pw)||wI(t,mw)}function zz(t){return Yc(t)!==null}function wI(t,e){return t.hasOwnProperty(e)?t[e]:null}function VS(t){let e=t&&(t[pw]||t[mw]);return e||null}function EI(t){return t&&(t.hasOwnProperty(TI)||t.hasOwnProperty(jS))?t[TI]:null}var pw=ge({\u0275prov:ge}),TI=ge({\u0275inj:ge}),mw=ge({ngInjectableDef:ge}),jS=ge({ngInjectorDef:ge}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gw(t){return t&&!!t.\u0275providers}var US=ge({\u0275cmp:ge}),BS=ge({\u0275dir:ge}),$S=ge({\u0275pipe:ge}),qS=ge({\u0275mod:ge}),Ac=ge({\u0275fac:ge}),Js=ge({__NG_ELEMENT_ID__:ge}),DI=ge({__NG_ENV_ID__:ge});function xi(t){return typeof t=="string"?t:t==null?"":String(t)}function HS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xi(t)}function zS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K(-200,t)}function zf(t,e){throw new K(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),Ph;function yw(){return Ph}function ct(t){let e=Ph;return Ph=t,e}function vw(t,e,n){let r=Yc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;zf(t,"Injector")}var GS={},Xs=GS,xh="__NG_DI_FLAG__",Sc="ngTempTokenPath",WS="ngTokenPath",KS=/\n/gm,QS="\u0275",bI="__source",Ni;function YS(){return Ni}function qn(t){let e=Ni;return Ni=t,e}function JS(t,e=ae.Default){if(Ni===void 0)throw new K(-203,!1);return Ni===null?vw(t,void 0,e):Ni.get(t,e&ae.Optional?null:void 0,e)}function U(t,e=ae.Default){return(yw()||JS)(nt(t),e)}function Z(t,e=ae.Default){return U(t,Jc(e))}function Jc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Mh(t){let e=[];for(let n=0;n<t.length;n++){let r=nt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,s=ae.Default;for(let o=0;o<r.length;o++){let a=r[o],u=XS(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function _w(t,e){return t[xh]=e,t.prototype[xh]=e,t}function XS(t){return t[xh]}function ZS(t,e,n,r){let i=t[Sc];throw e[bI]&&i.unshift(e[bI]),t.message=eR(`
`+t.message,i,n,r),t[WS]=i,t[Sc]=null,t}function eR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==QS?t.slice(2):t;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):rt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KS,`
  `)}`}var it=_w(dw("Optional"),8);var Iw=_w(dw("SkipSelf"),4);function Sr(t,e){let n=t.hasOwnProperty(Ac);return n?t[Ac]:null}function tR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function nR(t){return t.flat(Number.POSITIVE_INFINITY)}function Gf(t,e){t.forEach(n=>Array.isArray(n)?Gf(n,e):e(n))}function ww(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rR(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function iR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Xc(t,e,n){let r=fo(t,e);return r>=0?t[r|1]=n:(r=~r,iR(t,r,e,n)),r}function ph(t,e){let n=fo(t,e);if(n>=0)return t[n|1]}function fo(t,e){return sR(t,e,1)}function sR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Mi={},ut=[],Zs=new G(""),Ew=new G("",-1),Tw=new G(""),Nc=class{get(e,n=Xs){if(n===Xs){let r=new Error(`NullInjectorError: No provider for ${rt(e)}!`);throw r.name="NullInjectorError",r}return n}},Dw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Dw||{}),Bt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Bt||{}),zn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(zn||{});function oR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Oh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];aR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function bw(t){return t===3||t===4||t===6}function aR(t){return t.charCodeAt(0)===64}function eo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?CI(t,n,i,null,e[++r]):CI(t,n,i,null,null))}}return t}function CI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Cw="ng-template";function cR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Wf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Wf(t){return t.type===4&&t.value!==Cw}function uR(t,e,n){let r=t.type===4&&!n?Cw:t.value;return e===r}function lR(t,e,n){let r=4,i=t.attrs,s=i!==null?fR(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Nt(r)&&!Nt(u))return!1;if(o&&Nt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!uR(t,u,n)||u===""&&e.length===1){if(Nt(r))return!1;o=!0}}else if(r&8){if(i===null||!cR(t,i,u,n)){if(Nt(r))return!1;o=!0}}else{let l=e[++a],h=dR(u,i,Wf(t),n);if(h===-1){if(Nt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Nt(r))return!1;o=!0}}}}return Nt(r)||o}function Nt(t){return(t&1)===0}function dR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return pR(e,t)}function Aw(t,e,n=!1){for(let r=0;r<e.length;r++)if(lR(t,e[r],n))return!0;return!1}function hR(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function fR(t){for(let e=0;e<t.length;e++){let n=t[e];if(bw(n))return e}return t.length}function pR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function mR(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function AI(t,e){return t?":not("+e.trim()+")":e}function gR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Nt(o)&&(e+=AI(s,i),i=""),r=o,s=s||!Nt(r);n++}return i!==""&&(e+=AI(s,i)),e}function yR(t){return t.map(gR).join(",")}function vR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Nt(i))break;i=s}r++}return{attrs:e,classes:n}}function Gz(t){return ho(()=>{let e=Pw(t),n=vt(tt({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Bt.Emulated,styles:t.styles||ut,_:null,schemas:t.schemas||null,tView:null,id:""});xw(n);let r=t.dependencies;return n.directiveDefs=RI(r,!1),n.pipeDefs=RI(r,!0),n.id=ER(n),n})}function _R(t){return ln(t)||Sw(t)}function IR(t){return t!==null}function Ur(t){return ho(()=>({type:t.type,bootstrap:t.bootstrap||ut,declarations:t.declarations||ut,imports:t.imports||ut,exports:t.exports||ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function SI(t,e){if(t==null)return Mi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=zn.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==zn.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Br(t){return ho(()=>{let e=Pw(t);return xw(e),e})}function $i(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ln(t){return t[US]||null}function Sw(t){return t[BS]||null}function Rw(t){return t[$S]||null}function wR(t){let e=ln(t)||Sw(t)||Rw(t);return e!==null?e.standalone:!1}function Nw(t,e){let n=t[qS]||null;if(!n&&e===!0)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return n}function Pw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SI(t.inputs,e),outputs:SI(t.outputs),debugInfo:null}}function xw(t){t.features?.forEach(e=>e(t))}function RI(t,e){if(!t)return null;let n=e?Rw:_R;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(IR)}function ER(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zt(t){return{\u0275providers:t}}function TR(...t){return{\u0275providers:Mw(!0,t),\u0275fromNgModule:!0}}function Mw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Gf(e,o=>{let a=o;kh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ow(i,s),n}function Ow(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Kf(i,s=>{e(s,r)})}}function kh(t,e,n,r){if(t=nt(t),!t)return!1;let i=null,s=EI(t),o=!s&&ln(t);if(!s&&!o){let u=t.ngModule;if(s=EI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)kh(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Gf(s.imports,h=>{kh(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Ow(l,e)}if(!a){let l=Sr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ut},i),e({provide:Tw,useValue:i,multi:!0},i),e({provide:Zs,useValue:()=>U(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Kf(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Kf(t,e){for(let n of t)gw(n)&&(n=n.\u0275providers),Array.isArray(n)?Kf(n,e):e(n)}var DR=ge({provide:String,useValue:ge});function kw(t){return t!==null&&typeof t=="object"&&DR in t}function bR(t){return!!(t&&t.useExisting)}function CR(t){return!!(t&&t.useFactory)}function Oi(t){return typeof t=="function"}function AR(t){return!!t.useClass}var Zc=new G(""),Ic={},SR={},mh;function eu(){return mh===void 0&&(mh=new Nc),mh}var $t=class{},to=class extends $t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lh(e,o=>this.processProvider(o)),this.records.set(Ew,Ci(void 0,this)),i.has("environment")&&this.records.set($t,Ci(void 0,this));let s=this.records.get(Zc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Tw,ut,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=qn(this),r=ct(void 0),i;try{return e()}finally{qn(n),ct(r)}}get(e,n=Xs,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(DI))return e[DI](this);r=Jc(r);let i,s=qn(this),o=ct(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=MR(e)&&Yc(e);l&&this.injectableDefInScope(l)?u=Ci(Fh(e),Ic):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?eu():this.parent;return n=r&ae.Optional&&n===Xs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Sc]=a[Sc]||[]).unshift(rt(e)),s)throw a;return ZS(a,e,"R3InjectorError",this.source)}else throw a}finally{ct(o),qn(s)}}resolveInjectorInitializers(){let e=re(null),n=qn(this),r=ct(void 0),i;try{let s=this.get(Zs,ut,ae.Self);for(let o of s)o()}finally{qn(n),ct(r),re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=nt(e);let n=Oi(e)?e:nt(e&&e.provide),r=NR(e);if(!Oi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ci(void 0,Ic,!0),i.factory=()=>Mh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=re(null);try{return n.value===Ic&&(n.value=SR,n.value=n.factory()),typeof n.value=="object"&&n.value&&xR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=nt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Fh(t){let e=Yc(t),n=e!==null?e.factory:Sr(t);if(n!==null)return n;if(t instanceof G)throw new K(204,!1);if(t instanceof Function)return RR(t);throw new K(204,!1)}function RR(t){if(t.length>0)throw new K(204,!1);let n=VS(t);return n!==null?()=>n.factory(t):()=>new t}function NR(t){if(kw(t))return Ci(void 0,t.useValue);{let e=Fw(t);return Ci(e,Ic)}}function Fw(t,e,n){let r;if(Oi(t)){let i=nt(t);return Sr(i)||Fh(i)}else if(kw(t))r=()=>nt(t.useValue);else if(CR(t))r=()=>t.useFactory(...Mh(t.deps||[]));else if(bR(t))r=()=>U(nt(t.useExisting));else{let i=nt(t&&(t.useClass||t.provide));if(PR(t))r=()=>new i(...Mh(t.deps));else return Sr(i)||Fh(i)}return r}function Ci(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PR(t){return!!t.deps}function xR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function MR(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function Lh(t,e){for(let n of t)Array.isArray(n)?Lh(n,e):n&&gw(n)?Lh(n.\u0275providers,e):e(n)}function Qf(t,e){t instanceof to&&t.assertNotDestroyed();let n,r=qn(t),i=ct(void 0);try{return e()}finally{qn(r),ct(i)}}function Lw(){return yw()!==void 0||YS()!=null}function Vw(t){if(!Lw())throw new K(-203,!1)}function OR(t){return typeof t=="function"}var pn=0,Q=1,$=2,je=3,Pt=4,ft=5,ki=6,no=7,We=8,Fi=9,xt=10,_e=11,ro=12,NI=13,qi=14,_t=15,po=16,Ai=17,dn=18,tu=19,jw=20,Hn=21,wc=22,Rr=23,Ue=25,Uw=1;var Nr=7,Pc=8,Li=9,Ke=10,Yf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yf||{});function Cr(t){return Array.isArray(t)&&typeof t[Uw]=="object"}function mn(t){return Array.isArray(t)&&t[Uw]===!0}function Jf(t){return(t.flags&4)!==0}function nu(t){return t.componentOffset>-1}function ru(t){return(t.flags&1)===1}function Gn(t){return!!t.template}function kR(t){return(t[$]&512)!==0}var Vh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Bw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function iu(){return $w}function $w(t){return t.type.prototype.ngOnChanges&&(t.setInput=LR),FR}iu.ngInherit=!0;function FR(){let t=Hw(this),e=t?.current;if(e){let n=t.previous;if(n===Mi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function LR(t,e,n,r,i){let s=this.declaredInputs[r],o=Hw(t)||VR(t,{previous:Mi,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Vh(l&&l.currentValue,n,u===Mi),Bw(t,e,i,n)}var qw="__ngSimpleChanges__";function Hw(t){return t[qw]||null}function VR(t,e){return t[qw]=e}var PI=null;var jt=function(t,e,n){PI?.(t,e,n)},zw="svg",jR="math",UR=!1;function BR(){return UR}function qt(t){for(;Array.isArray(t);)t=t[pn];return t}function Gw(t,e){return qt(e[t])}function It(t,e){return qt(e[t.index])}function Xf(t,e){return t.data[e]}function Zf(t,e){return t[e]}function Kn(t,e){let n=e[t];return Cr(n)?n:n[pn]}function $R(t){return(t[$]&4)===4}function ep(t){return(t[$]&128)===128}function qR(t){return mn(t[je])}function Vi(t,e){return e==null?null:t[e]}function Ww(t){t[Ai]=0}function HR(t){t[$]&1024||(t[$]|=1024,ep(t)&&io(t))}function zR(t,e){for(;t>0;)e=e[qi],t--;return e}function tp(t){return!!(t[$]&9216||t[Rr]?.dirty)}function jh(t){t[xt].changeDetectionScheduler?.notify(1),tp(t)?io(t):t[$]&64&&(BR()?(t[$]|=1024,io(t)):t[xt].changeDetectionScheduler?.notify())}function io(t){t[xt].changeDetectionScheduler?.notify();let e=so(t);for(;e!==null&&!(e[$]&8192||(e[$]|=8192,!ep(e)));)e=so(e)}function Kw(t,e){if((t[$]&256)===256)throw new K(911,!1);t[Hn]===null&&(t[Hn]=[]),t[Hn].push(e)}function GR(t,e){if(t[Hn]===null)return;let n=t[Hn].indexOf(e);n!==-1&&t[Hn].splice(n,1)}function so(t){let e=t[je];return mn(e)?e[je]:e}var ee={lFrame:tE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WR(){return ee.lFrame.elementDepthCount}function KR(){ee.lFrame.elementDepthCount++}function QR(){ee.lFrame.elementDepthCount--}function Qw(){return ee.bindingsEnabled}function Yw(){return ee.skipHydrationRootTNode!==null}function YR(t){return ee.skipHydrationRootTNode===t}function JR(){ee.skipHydrationRootTNode=null}function B(){return ee.lFrame.lView}function Ee(){return ee.lFrame.tView}function Wz(t){return ee.lFrame.contextLView=t,t[We]}function Kz(t){return ee.lFrame.contextLView=null,t}function Qe(){let t=Jw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Jw(){return ee.lFrame.currentTNode}function XR(){let t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $r(t,e){let n=ee.lFrame;n.currentTNode=t,n.isParent=e}function np(){return ee.lFrame.isParent}function rp(){ee.lFrame.isParent=!1}function ZR(){return ee.lFrame.contextLView}function Ot(){let t=ee.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function eN(){return ee.lFrame.bindingIndex}function tN(t){return ee.lFrame.bindingIndex=t}function Hi(){return ee.lFrame.bindingIndex++}function ip(t){let e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nN(){return ee.lFrame.inI18n}function rN(t,e){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uh(e)}function iN(){return ee.lFrame.currentDirectiveIndex}function Uh(t){ee.lFrame.currentDirectiveIndex=t}function sN(t){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Xw(){return ee.lFrame.currentQueryIndex}function sp(t){ee.lFrame.currentQueryIndex=t}function oN(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[ft]:null}function Zw(t,e,n){if(n&ae.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=oN(s),i===null||(s=s[qi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ee.lFrame=eE();return r.currentTNode=e,r.lView=t,!0}function op(t){let e=eE(),n=t[Q];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eE(){let t=ee.lFrame,e=t===null?null:t.child;return e===null?tE(t):e}function tE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nE(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rE=nE;function ap(){let t=nE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aN(t){return(ee.lFrame.contextLView=zR(t,ee.lFrame.contextLView))[We]}function gn(){return ee.lFrame.selectedIndex}function Pr(t){ee.lFrame.selectedIndex=t}function su(){let t=ee.lFrame;return Xf(t.tView,t.selectedIndex)}function Qz(){ee.lFrame.currentNamespace=zw}function Yz(){cN()}function cN(){ee.lFrame.currentNamespace=null}function uN(){return ee.lFrame.currentNamespace}var iE=!0;function ou(){return iE}function au(t){iE=t}function lN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=$w(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function cu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ec(t,e,n){sE(t,e,3,n)}function Tc(t,e,n,r){(t[$]&3)===n&&sE(t,e,n,r)}function gh(t,e){let n=t[$];(n&3)===e&&(n&=16383,n+=1,t[$]=n)}function sE(t,e,n,r){let i=r!==void 0?t[Ai]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ai]+=65536),(a<s||s==-1)&&(dN(t,n,e,u),t[Ai]=(t[Ai]&4294901760)+u+2),u++}function xI(t,e){jt(4,t,e);let n=re(null);try{e.call(t)}finally{re(n),jt(5,t,e)}}function dN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[$]>>14<t[Ai]>>16&&(t[$]&3)===e&&(t[$]+=16384,xI(a,s)):xI(a,s)}var Pi=-1,xr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function hN(t){return t instanceof xr}function fN(t){return(t.flags&8)!==0}function pN(t){return(t.flags&16)!==0}function oE(t){return t!==Pi}function xc(t){return t&32767}function mN(t){return t>>16}function Mc(t,e){let n=mN(t),r=e;for(;n>0;)r=r[qi],n--;return r}var Bh=!0;function Oc(t){let e=Bh;return Bh=t,e}var gN=256,aE=gN-1,cE=5,yN=0,Ut={};function vN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Js)&&(r=n[Js]),r==null&&(r=n[Js]=yN++);let i=r&aE,s=1<<i;e.data[t+(i>>cE)]|=s}function kc(t,e){let n=uE(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,yh(r.data,t),yh(e,null),yh(r.blueprint,null));let i=cp(t,e),s=t.injectorIndex;if(oE(i)){let o=xc(i),a=Mc(i,e),u=a[Q].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function yh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function uE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=pE(i),r===null)return Pi;if(n++,i=i[qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Pi}function $h(t,e,n){vN(t,e,n)}function _N(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(bw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function lE(t,e,n){if(n&ae.Optional||t!==void 0)return t;zf(e,"NodeInjector")}function dE(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[Fi],s=ct(void 0);try{return i?i.get(e,r,n&ae.Optional):vw(e,r,n&ae.Optional)}finally{ct(s)}}return lE(r,e,n)}function hE(t,e,n,r=ae.Default,i){if(t!==null){if(e[$]&2048&&!(r&ae.Self)){let o=TN(t,e,n,r,Ut);if(o!==Ut)return o}let s=fE(t,e,n,r,Ut);if(s!==Ut)return s}return dE(e,n,r,i)}function fE(t,e,n,r,i){let s=wN(n);if(typeof s=="function"){if(!Zw(e,t,r))return r&ae.Host?lE(i,n,r):dE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ae.Optional))zf(n);else return o}finally{rE()}}else if(typeof s=="number"){let o=null,a=uE(t,e),u=Pi,l=r&ae.Host?e[_t][ft]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?cp(t,e):e[a+8],u===Pi||!OI(r,!1)?a=-1:(o=e[Q],a=xc(u),e=Mc(u,e)));a!==-1;){let h=e[Q];if(MI(s,a,h.data)){let p=IN(a,e,n,o,r,l);if(p!==Ut)return p}u=e[a+8],u!==Pi&&OI(r,e[Q].data[a+8]===l)&&MI(s,a,e)?(o=h,a=xc(u),e=Mc(u,e)):a=-1}}return i}function IN(t,e,n,r,i,s){let o=e[Q],a=o.data[t+8],u=r==null?nu(a)&&Bh:r!=o&&(a.type&3)!==0,l=i&ae.Host&&s===a,h=Dc(a,o,n,u,l);return h!==null?Mr(e,o,h,a):Ut}function Dc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let C=o[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=o[u];if(y&&Gn(y)&&y.type===n)return u}return null}function Mr(t,e,n,r){let i=t[n],s=e.data;if(hN(i)){let o=i;o.resolving&&zS(HS(s[n]));let a=Oc(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ct(o.injectImpl):null,h=Zw(t,r,ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&lN(n,s[n],e)}finally{l!==null&&ct(l),Oc(a),o.resolving=!1,rE()}}return i}function wN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Js)?t[Js]:void 0;return typeof e=="number"?e>=0?e&aE:EN:e}function MI(t,e,n){let r=1<<t;return!!(n[e+(t>>cE)]&r)}function OI(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var Ar=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hE(this._tNode,this._lView,e,Jc(r),n)}};function EN(){return new Ar(Qe(),B())}function Jz(t){return ho(()=>{let e=t.prototype.constructor,n=e[Ac]||qh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ac]||qh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function qh(t){return fw(t)?()=>{let e=qh(nt(t));return e&&e()}:Sr(t)}function TN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[$]&2048&&!(o[$]&512);){let a=fE(s,o,n,r|ae.Self,Ut);if(a!==Ut)return a;let u=s.parent;if(!u){let l=o[jw];if(l){let h=l.get(n,Ut,r);if(h!==Ut)return h}u=pE(o),o=o[qi]}s=u}return i}function pE(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[ft]:null}function DN(t){return _N(Qe(),t)}function kI(t,e=null,n=null,r){let i=mE(t,e,n,r);return i.resolveInjectorInitializers(),i}function mE(t,e=null,n=null,r,i=new Set){let s=[n||ut,TR(t)];return r=r||(typeof t=="object"?void 0:rt(t)),new to(s,e||eu(),r||null,i)}var wt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Xs}static{this.NULL=new Nc}static create(n,r){if(Array.isArray(n))return kI({name:""},r,n,"");{let i=n.name??"";return kI({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=Y({token:t,providedIn:"any",factory:()=>U(Ew)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var bN="ngOriginalError";function vh(t){return t[bN]}var Mt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vh(e);for(;n&&vh(n);)n=vh(n);return n||null}},gE=new G("",{providedIn:"root",factory:()=>Z(Mt).handleError.bind(void 0)}),uu=(()=>{class t{static{this.__NG_ELEMENT_ID__=CN}static{this.__NG_ENV_ID__=n=>n}}return t})(),Hh=class extends uu{constructor(e){super(),this._lView=e}onDestroy(e){return Kw(this._lView,e),()=>GR(this._lView,e)}};function CN(){return new Hh(B())}function AN(){return zi(Qe(),B())}function zi(t,e){return new Qn(It(t,e))}var Qn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=AN}}return t})();function SN(t){return t instanceof Qn?t.nativeElement:t}var zh=class extends Vn{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Lw()&&(this.destroyRef=Z(uu,{optional:!0})??void 0)}emit(e){let n=re(null);try{super.next(e)}finally{re(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=_h(s),i&&(i=_h(i)),o&&(o=_h(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}};function _h(t){return e=>{setTimeout(t,void 0,e)}}var br=zh;function RN(){return this._results[Symbol.iterator]()}var Gh=class t{get changes(){return this._changes??=new br}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=RN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=nR(e);(this._changesDetected=!tR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function yE(t){return(t.flags&128)===128}var vE=new Map,NN=0;function PN(){return NN++}function xN(t){vE.set(t[tu],t)}function MN(t){vE.delete(t[tu])}var FI="__ngContext__";function Wn(t,e){Cr(e)?(t[FI]=e[tu],xN(e)):t[FI]=e}function _E(t){return wE(t[ro])}function IE(t){return wE(t[Pt])}function wE(t){for(;t!==null&&!mn(t);)t=t[Pt];return t}var Wh;function EE(t){Wh=t}function ON(){if(Wh!==void 0)return Wh;if(typeof document<"u")return document;throw new K(210,!1)}var lu=new G("",{providedIn:"root",factory:()=>kN}),kN="ng",up=new G(""),Et=new G("",{providedIn:"platform",factory:()=>"unknown"});var Xz=new G(""),lp=new G("",{providedIn:"root",factory:()=>ON().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var FN="h",LN="b";var VN=()=>null;function dp(t,e,n=!1){return VN(t,e,n)}var TE=!1,jN=new G("",{providedIn:"root",factory:()=>TE});var mc;function UN(){if(mc===void 0&&(mc=null,Ae.trustedTypes))try{mc=Ae.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return mc}function du(t){return UN()?.createHTML(t)||t}var gc;function BN(){if(gc===void 0&&(gc=null,Ae.trustedTypes))try{gc=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gc}function LI(t){return BN()?.createScriptURL(t)||t}var hn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lw})`}},Kh=class extends hn{getTypeName(){return"HTML"}},Qh=class extends hn{getTypeName(){return"Style"}},Yh=class extends hn{getTypeName(){return"Script"}},Jh=class extends hn{getTypeName(){return"URL"}},Xh=class extends hn{getTypeName(){return"ResourceURL"}};function Tt(t){return t instanceof hn?t.changingThisBreaksApplicationSecurity:t}function Yn(t,e){let n=$N(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lw})`)}return n===e}function $N(t){return t instanceof hn&&t.getTypeName()||null}function DE(t){return new Kh(t)}function bE(t){return new Qh(t)}function CE(t){return new Yh(t)}function AE(t){return new Jh(t)}function SE(t){return new Xh(t)}function qN(t){let e=new ef(t);return HN()?new Zh(e):e}var Zh=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(du(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},ef=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=du(e),n}};function HN(){try{return!!new window.DOMParser().parseFromString(du(""),"text/html")}catch{return!1}}var zN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hu(t){return t=String(t),t.match(zN)?t:"unsafe:"+t}function yn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function mo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var RE=yn("area,br,col,hr,img,wbr"),NE=yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PE=yn("rp,rt"),GN=mo(PE,NE),WN=mo(NE,yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),KN=mo(PE,yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VI=mo(RE,WN,KN,GN),xE=yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),QN=yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),YN=yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),JN=mo(xE,QN,YN),XN=yn("script,style,template"),tf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=tP(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=eP(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=jI(e).toLowerCase();if(!VI.hasOwnProperty(n))return this.sanitizedSomething=!0,!XN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!JN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;xE[a]&&(u=hu(u)),this.buf.push(" ",o,'="',UI(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=jI(e).toLowerCase();VI.hasOwnProperty(n)&&!RE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(UI(e))}};function ZN(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function eP(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw ME(e);return e}function tP(t){let e=t.firstChild;if(e&&ZN(t,e))throw ME(e);return e}function jI(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function ME(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var nP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rP=/([^\#-~ |!])/g;function UI(t){return t.replace(/&/g,"&amp;").replace(nP,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(rP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var yc;function OE(t,e){let n=null;try{yc=yc||qN(t);let r=e?String(e):"";n=yc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=yc.getInertBodyElement(r)}while(r!==s);let a=new tf().sanitizeChildren(BI(n)||n);return du(a)}finally{if(n){let r=BI(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function BI(t){return"content"in t&&iP(t)?t.content:null}function iP(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Gt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Gt||{});function sP(t){let e=kE();return e?e.sanitize(Gt.URL,t)||"":Yn(t,"URL")?Tt(t):hu(xi(t))}function oP(t){let e=kE();if(e)return LI(e.sanitize(Gt.RESOURCE_URL,t)||"");if(Yn(t,"ResourceURL"))return LI(Tt(t));throw new K(904,!1)}function aP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oP:sP}function Zz(t,e,n){return aP(e,n)(t)}function kE(){let t=B();return t&&t[xt].sanitizer}var cP=/^>|^->|<!--|-->|--!>|<!-$/g,uP=/(<|>)/g,lP="\u200B$1\u200B";function dP(t){return t.replace(cP,e=>e.replace(uP,lP))}function FE(t){return t instanceof Function?t():t}function hP(t){return(t??Z(wt)).get(Et)==="browser"}var Ht=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ht||{}),fP;function hp(t,e){return fP(t,e)}function Si(t,e,n,r,i){if(r!=null){let s,o=!1;mn(r)?s=r:Cr(r)&&(o=!0,r=r[pn]);let a=qt(r);t===0&&n!==null?i==null?BE(e,n,a):Fc(e,n,a,i||null,!0):t===1&&n!==null?Fc(e,n,a,i||null,!0):t===2?RP(e,a,o):t===3&&e.destroyNode(a),s!=null&&PP(e,t,s,n,i)}}function pP(t,e){return t.createText(e)}function mP(t,e,n){t.setValue(e,n)}function gP(t,e){return t.createComment(dP(e))}function LE(t,e,n){return t.createElement(e,n)}function yP(t,e){VE(t,e),e[pn]=null,e[ft]=null}function vP(t,e,n,r,i,s){r[pn]=i,r[ft]=e,mu(t,r,n,1,i,s)}function VE(t,e){e[xt].changeDetectionScheduler?.notify(1),mu(t,e,e[_e],2,null,null)}function _P(t){let e=t[ro];if(!e)return Ih(t[Q],t);for(;e;){let n=null;if(Cr(e))n=e[ro];else{let r=e[Ke];r&&(n=r)}if(!n){for(;e&&!e[Pt]&&e!==t;)Cr(e)&&Ih(e[Q],e),e=e[je];e===null&&(e=t),Cr(e)&&Ih(e[Q],e),n=e&&e[Pt]}e=n}}function IP(t,e,n,r){let i=Ke+r,s=n.length;r>0&&(n[i-1][Pt]=e),r<s-Ke?(e[Pt]=n[i],ww(n,Ke+r,e)):(n.push(e),e[Pt]=null),e[je]=n;let o=e[po];o!==null&&n!==o&&wP(o,e);let a=e[dn];a!==null&&a.insertView(t),jh(e),e[$]|=128}function wP(t,e){let n=t[Li],i=e[je][je][_t];e[_t]!==i&&(t[$]|=Yf.HasTransplantedViews),n===null?t[Li]=[e]:n.push(e)}function jE(t,e){let n=t[Li],r=n.indexOf(e);n.splice(r,1)}function oo(t,e){if(t.length<=Ke)return;let n=Ke+e,r=t[n];if(r){let i=r[po];i!==null&&i!==t&&jE(i,r),e>0&&(t[n-1][Pt]=r[Pt]);let s=Rc(t,Ke+e);yP(r[Q],r);let o=s[dn];o!==null&&o.detachView(s[Q]),r[je]=null,r[Pt]=null,r[$]&=-129}return r}function fu(t,e){if(!(e[$]&256)){let n=e[_e];n.destroyNode&&mu(t,e,n,3,null,null),_P(e)}}function Ih(t,e){if(e[$]&256)return;let n=re(null);try{e[$]&=-129,e[$]|=256,e[Rr]&&hh(e[Rr]),TP(t,e),EP(t,e),e[Q].type===1&&e[_e].destroy();let r=e[po];if(r!==null&&mn(e[je])){r!==e[je]&&jE(r,e);let i=e[dn];i!==null&&i.detachView(t)}MN(e)}finally{re(n)}}function EP(t,e){let n=t.cleanup,r=e[no];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[no]=null);let i=e[Hn];if(i!==null){e[Hn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function TP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof xr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];jt(4,a,u);try{u.call(a)}finally{jt(5,a,u)}}else{jt(4,i,s);try{s.call(i)}finally{jt(5,i,s)}}}}}function UE(t,e,n){return DP(t,e.parent,n)}function DP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Bt.None||s===Bt.Emulated)return null}return It(r,n)}}function Fc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function BE(t,e,n){t.appendChild(e,n)}function $I(t,e,n,r,i){r!==null?Fc(t,e,n,r,i):BE(t,e,n)}function bP(t,e,n,r){t.removeChild(e,n,r)}function fp(t,e){return t.parentNode(e)}function CP(t,e){return t.nextSibling(e)}function $E(t,e,n){return SP(t,e,n)}function AP(t,e,n){return t.type&40?It(t,n):null}var SP=AP,qI;function pu(t,e,n,r){let i=UE(t,r,e),s=e[_e],o=r.parent||e[ft],a=$E(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)$I(s,i,n[u],a,!1);else $I(s,i,n,a,!1);qI!==void 0&&qI(s,r,e,n,i)}function bc(t,e){if(e!==null){let n=e.type;if(n&3)return It(e,t);if(n&4)return nf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return bc(t,r);{let i=t[e.index];return mn(i)?nf(-1,i):qt(i)}}else{if(n&32)return hp(e,t)()||qt(t[e.index]);{let r=qE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=so(t[_t]);return bc(i,r)}else return bc(t,e.next)}}}return null}function qE(t,e){if(e!==null){let r=t[_t][ft],i=e.projection;return r.projection[i]}return null}function nf(t,e){let n=Ke+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return bc(r,i)}return e[Nr]}function RP(t,e,n){let r=fp(t,e);r&&bP(t,r,e,n)}function pp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Wn(qt(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)pp(t,e,n.child,r,i,s,!1),Si(e,t,i,a,s);else if(u&32){let l=hp(n,r),h;for(;h=l();)Si(e,t,i,h,s);Si(e,t,i,a,s)}else u&16?HE(t,e,r,n,i,s):Si(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mu(t,e,n,r,i,s){pp(n,r,t.firstChild,e,i,s,!1)}function NP(t,e,n){let r=e[_e],i=UE(t,n,e),s=n.parent||e[ft],o=$E(s,n,e);HE(r,0,e,n,i,o)}function HE(t,e,n,r,i,s){let o=n[_t],u=o[ft].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Si(e,t,i,h,s)}else{let l=u,h=o[je];yE(r)&&(l.flags|=128),pp(t,e,l,h,i,s,!0)}}function PP(t,e,n,r,i){let s=n[Nr],o=qt(n);s!==o&&Si(e,t,r,s,i);for(let a=Ke;a<n.length;a++){let u=n[a];mu(u[Q],u,t,e,r,s)}}function xP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Ht.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ht.Important),t.setStyle(n,r,i,s))}}function MP(t,e,n){t.setAttribute(e,"style",n)}function zE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Oh(t,e,r),i!==null&&zE(t,e,i),s!==null&&MP(t,e,s)}var pt={};function eG(t=1){WE(Ee(),B(),gn()+t,!1)}function WE(t,e,n,r){if(!r)if((e[$]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ec(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Tc(e,s,0,n)}Pr(n)}function De(t,e=ae.Default){let n=B();if(n===null)return U(t,e);let r=Qe();return hE(r,n,nt(t),e)}function tG(){let t="invalid";throw new Error(t)}function KE(t,e,n,r,i,s){let o=re(null);try{let a=null;i&zn.SignalBased&&(a=e[r][Vt]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&zn.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Bw(e,a,r,s)}finally{re(o)}}function OP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Pr(~i);else{let s=i,o=n[++r],a=n[++r];rN(o,s);let u=e[s];a(2,u)}}}finally{Pr(-1)}}function gu(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[pn]=i,p[$]=r|4|128|8|64,(l!==null||t&&t[$]&2048)&&(p[$]|=2048),Ww(p),p[je]=p[qi]=t,p[We]=n,p[xt]=o||t&&t[xt],p[_e]=a||t&&t[_e],p[Fi]=u||t&&t[Fi]||null,p[ft]=s,p[tu]=PN(),p[ki]=h,p[jw]=l,p[_t]=e.type==2?t[_t]:p,p}function Gi(t,e,n,r,i){let s=t.data[e];if(s===null)s=kP(t,e,n,r,i),nN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=XR();s.injectorIndex=o===null?-1:o.injectorIndex}return $r(s,!0),s}function kP(t,e,n,r,i){let s=Jw(),o=np(),a=o?s:s&&s.parent,u=t.data[e]=BP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function QE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function YE(t,e,n,r,i){let s=gn(),o=r&2;try{Pr(-1),o&&e.length>Ue&&WE(t,e,Ue,!1),jt(o?2:0,i),n(r,i)}finally{Pr(s),jt(o?3:1,i)}}function mp(t,e,n){if(Jf(e)){let r=re(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{re(r)}}}function gp(t,e,n){Qw()&&(WP(t,e,n,It(n,e)),(n.flags&64)===64&&ZE(t,e,n))}function yp(t,e,n=It){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function JE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vp(t,e,n,r,i,s,o,a,u,l,h){let p=Ue+r,g=p+i,y=FP(p,g),C=typeof l=="function"?l():l;return y[Q]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function FP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:pt);return n}function LP(t,e,n,r){let s=r.get(jN,TE)||n===Bt.ShadowDom,o=t.selectRootElement(e,s);return VP(o),o}function VP(t){jP(t)}var jP=()=>null;function UP(t,e,n,r){let i=nT(e);i.push(n),t.firstCreatePass&&rT(t).push(r,i.length-1)}function BP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Yw()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function HI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=zn.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?zI(r,n,l,a,u):zI(r,n,l,a)}return r}function zI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function $P(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],g=n?n.get(p):null,y=g?g.inputs:null,C=g?g.outputs:null;u=HI(0,p.inputs,h,u,y),l=HI(1,p.outputs,h,l,C);let N=u!==null&&o!==null&&!Wf(e)?ix(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function qP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _p(t,e,n,r,i,s,o,a){let u=It(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(wp(t,n,h,r,i),nu(e)&&HP(n,e.index)):e.type&3?(r=qP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function HP(t,e){let n=Kn(e,t);n[$]&16||(n[$]|=64)}function Ip(t,e,n,r){if(Qw()){let i=r===null?null:{"":-1},s=QP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&XE(t,e,n,o,i,a),i&&YP(n,r,i)}n.mergedAttrs=eo(n.mergedAttrs,n.attrs)}function XE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)$h(kc(n,e),t,r[l].type);XP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=QE(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=eo(n.mergedAttrs,h.hostAttrs),ZP(t,n,e,u,h),JP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}$P(t,n,s)}function zP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;GP(o)!=a&&o.push(a),o.push(n,r,s)}}function GP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function WP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;nu(n)&&ex(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||kc(n,e),Wn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Mr(e,t,a,n);if(Wn(l,e),o!==null&&rx(e,a-i,l,u,n,o),Gn(u)){let h=Kn(n.index,e);h[We]=Mr(e,t,a,n)}}}function ZE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=iN();try{Pr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Uh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&KP(u,l)}}finally{Pr(-1),Uh(o)}}function KP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function QP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Aw(e,o.selectors,!1))if(r||(r=[]),Gn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;rf(t,e,u)}else r.unshift(o),rf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function rf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new K(-301,!1);r.push(e[i],s)}}}function JP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gn(e)&&(n[""]=t)}}function XP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Sr(i.type,!0)),o=new xr(s,Gn(i),De);t.blueprint[r]=o,n[r]=o,zP(t,e,r,QE(t,n,i.hostVars,pt),i)}function ex(t,e,n){let r=It(e,t),i=JE(n),s=t[xt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=yu(t,gu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function tx(t,e,n,r,i,s){let o=It(t,e);nx(e[_e],o,s,t.value,n,r,i)}function nx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?xi(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function rx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];KE(r,n,u,l,h,p)}}function ix(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function eT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tT(t,e){let n=t.contentQueries;if(n!==null){let r=re(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];sp(s),a.contentQueries(2,e[o],o)}}}finally{re(r)}}}function yu(t,e){return t[ro]?t[NI][Pt]=e:t[ro]=e,t[NI]=e,e}function sf(t,e,n){sp(0);let r=re(null);try{e(t,n)}finally{re(r)}}function nT(t){return t[no]||(t[no]=[])}function rT(t){return t.cleanup||(t.cleanup=[])}function iT(t,e){let n=t[Fi],r=n?n.get(Mt,null):null;r&&r.handleError(e)}function wp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];KE(h,l,r,a,u,i)}}function sT(t,e,n){let r=Gw(e,t);mP(t[_e],r,n)}function sx(t,e){let n=Kn(e,t),r=n[Q];ox(r,n);let i=n[pn];i!==null&&n[ki]===null&&(n[ki]=dp(i,n[Fi])),Ep(r,n,n[We])}function ox(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ep(t,e,n){op(e);try{let r=t.viewQuery;r!==null&&sf(1,r,n);let i=t.template;i!==null&&YE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[dn]?.finishViewCreation(t),t.staticContentQueries&&tT(t,e),t.staticViewQueries&&sf(2,t.viewQuery,n);let s=t.components;s!==null&&ax(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[$]&=-5,ap()}}function ax(t,e){for(let n=0;n<e.length;n++)sx(t,e[n])}function vu(t,e,n,r){let i=re(null);try{let s=e.tView,a=t[$]&4096?4096:16,u=gu(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[po]=l;let h=t[dn];return h!==null&&(u[dn]=h.createEmbeddedView(s)),Ep(s,u,n),u}finally{re(i)}}function oT(t,e){let n=Ke+e;if(n<t.length)return t[n]}function ao(t,e){return!e||e.firstChild===null||yE(t)}function _u(t,e,n,r=!0){let i=e[Q];if(IP(i,e,t,n),r){let o=nf(n,t),a=e[_e],u=fp(a,t[Nr]);u!==null&&vP(i,t[ft],a,e,u,o)}let s=e[ki];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function aT(t,e){let n=oo(t,e);return n!==void 0&&fu(n[Q],n),n}function Lc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(qt(s)),mn(s)&&cx(s,r);let o=n.type;if(o&8)Lc(t,e,n.child,r);else if(o&32){let a=hp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=qE(e,n);if(Array.isArray(a))r.push(...a);else{let u=so(e[_t]);Lc(u[Q],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function cx(t,e){for(let n=Ke;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&Lc(r[Q],r,i,e)}t[Nr]!==t[pn]&&e.push(t[Nr])}var cT=[];function ux(t){return t[Rr]??lx(t)}function lx(t){let e=cT.pop()??Object.create(hx);return e.lView=t,e}function dx(t){t.lView[Rr]!==t&&(t.lView=null,cT.push(t))}var hx=vt(tt({},Ys),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{io(t.lView)},consumerOnSignalRead(){this.lView[Rr]=this}}),uT=100;function lT(t,e=!0,n=0){let r=t[xt],i=r.rendererFactory,s=!1;s||i.begin?.();try{fx(t,n)}catch(o){throw e&&iT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function fx(t,e){of(t,e);let n=0;for(;tp(t);){if(n===uT)throw new K(103,!1);n++,of(t,1)}}function px(t,e,n,r){let i=e[$];if((i&256)===256)return;let s=!1;!s&&e[xt].inlineEffectRunner?.flush(),op(e);let o=null,a=null;!s&&mx(t)&&(a=ux(e),o=lc(a));try{Ww(e),tN(t.bindingStartIndex),n!==null&&YE(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Ec(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Tc(e,p,0,null),gh(e,0)}if(gx(e),dT(e,0),t.contentQueries!==null&&tT(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Ec(e,p)}else{let p=t.contentHooks;p!==null&&Tc(e,p,1),gh(e,1)}OP(t,e);let l=t.components;l!==null&&fT(e,l,0);let h=t.viewQuery;if(h!==null&&sf(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Ec(e,p)}else{let p=t.viewHooks;p!==null&&Tc(e,p,2),gh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wc]){for(let p of e[wc])p();e[wc]=null}s||(e[$]&=-73)}catch(u){throw io(e),u}finally{a!==null&&(dc(a,o),dx(a)),ap()}}function mx(t){return t.type!==2}function dT(t,e){for(let n=_E(t);n!==null;n=IE(n))for(let r=Ke;r<n.length;r++){let i=n[r];hT(i,e)}}function gx(t){for(let e=_E(t);e!==null;e=IE(e)){if(!(e[$]&Yf.HasTransplantedViews))continue;let n=e[Li];for(let r=0;r<n.length;r++){let i=n[r],s=i[je];HR(i)}}}function yx(t,e,n){let r=Kn(e,t);hT(r,n)}function hT(t,e){ep(t)&&of(t,e)}function of(t,e){let r=t[Q],i=t[$],s=t[Rr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&hc(s)),s&&(s.dirty=!1),t[$]&=-9217,o)px(r,t,r.template,t[We]);else if(i&8192){dT(t,1);let a=r.components;a!==null&&fT(t,a,1)}}function fT(t,e,n){for(let r=0;r<e.length;r++)yx(t,e[r],n)}function Tp(t){for(t[xt].changeDetectionScheduler?.notify();t;){t[$]|=64;let e=so(t);if(kR(t)&&!e)return t;t=e}return null}var Or=class{get rootNodes(){let e=this._lView,n=e[Q];return Lc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[We]}set context(e){this._lView[We]=e}get destroyed(){return(this._lView[$]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[je];if(mn(e)){let n=e[Pc],r=n?n.indexOf(this):-1;r>-1&&(oo(e,r),Rc(n,r))}this._attachedToViewContainer=!1}fu(this._lView[Q],this._lView)}onDestroy(e){Kw(this._lView,e)}markForCheck(){Tp(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-129}reattach(){jh(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,lT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,VE(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e,jh(this._lView)}},kr=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ix}}return t})(),vx=kr,_x=class extends vx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=vu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Or(i)}};function Ix(){return Iu(Qe(),B())}function Iu(t,e){return t.type&4?new _x(e,t,zi(t,e)):null}var rG=new RegExp(`^(\\d+)*(${LN}|${FN})*(.*)`);var wx=()=>null;function co(t,e){return wx(t,e)}var Vc=class{},af=class{},jc=class{};function Ex(t){let e=Error(`No component factory found for ${rt(t)}.`);return e[Tx]=t,e}var Tx="ngComponent";var cf=class{resolveComponentFactory(e){throw Ex(e)}},wu=(()=>{class t{static{this.NULL=new cf}}return t})(),uo=class{},Eu=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Dx()}}return t})();function Dx(){let t=B(),e=Qe(),n=Kn(e.index,t);return(Cr(n)?n:t)[_e]}var bx=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>null})}}return t})(),wh={};var GI=new Set;function vn(t){GI.has(t)||(GI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function WI(...t){}function Cx(){let t=typeof Ae.requestAnimationFrame=="function",e=Ae[t?"requestAnimationFrame":"setTimeout"],n=Ae[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var fe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new br(!1),this.onMicrotaskEmpty=new br(!1),this.onStable=new br(!1),this.onError=new br(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Cx().nativeRequestAnimationFrame,Rx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ax,WI,WI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ax={};function Dp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,uf(t),t.isCheckStableRunning=!0,Dp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),uf(t))}function Rx(t){let e=()=>{Sx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(Nx(a))return n.invokeTask(i,s,o,a);try{return KI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),QI(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return KI(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),QI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,uf(t),Dp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function uf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function KI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QI(t){t._nesting--,Dp(t)}function Nx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ri=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ri||{}),Px={destroy(){}};function xx(t,e){!e&&Vw(xx);let n=e?.injector??Z(wt);if(!hP(n))return Px;vn("NgAfterNextRender");let r=n.get(bp),i=r.handler??=new df,s=e?.phase??Ri.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(uu).onDestroy(o),u=Qf(n,()=>new lf(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var lf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=Z(fe),this.errorHandler=Z(Mt,{optional:!0}),Z(Vc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},df=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ri.EarlyRead]:new Set,[Ri.Write]:new Set,[Ri.MixedReadWrite]:new Set,[Ri.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},bp=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Uc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Nh(i,a);else if(s==2){let u=a,l=e[++o];r=Nh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Bc=class extends wu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ln(e);return new Fr(n,this.ngModule)}};function YI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Mx(t){let e=t.toLowerCase();return e==="svg"?zw:e==="math"?jR:null}var hf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Jc(r);let i=this.injector.get(e,wh,r);return i!==wh||n===wh?i:this.parentInjector.get(e,n,r)}},Fr=class extends jc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=YI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return YI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=re(null);try{i=i||this.ngModule;let o=i instanceof $t?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new hf(e,o):e,u=a.get(uo,null);if(u===null)throw new K(407,!1);let l=a.get(bx,null),h=a.get(bp,null),p=a.get(Vc,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",N=r?LP(y,r,this.componentDef.encapsulation,a):LE(y,C,Mx(C)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let M=null;N!==null&&(M=dp(N,a,!0));let V=vp(0,null,null,1,0,null,null,null,null,null,null),F=gu(null,V,null,R,null,null,g,y,a,null,M);op(F);let W,le;try{let q=this.componentDef,T,v=null;q.findHostDirectiveDefs?(T=[],v=new Map,q.findHostDirectiveDefs(q,T,v),T.push(q)):T=[q];let _=Ox(F,N),E=kx(_,N,q,T,F,g,y);le=Xf(V,Ue),N&&Vx(y,q,N,r),n!==void 0&&jx(le,this.ngContentSelectors,n),W=Lx(E,q,T,v,F,[Ux]),Ep(V,F,null)}finally{ap()}return new ff(this.componentType,W,zi(le,F),F,le)}finally{re(s)}}},ff=class extends af{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Or(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;wp(s[Q],s,i,e,n),this.previousInputValues.set(e,n);let o=Kn(this._tNode.index,s);Tp(o)}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ox(t,e){let n=t[Q],r=Ue;return t[r]=e,Gi(n,r,2,"#host",null)}function kx(t,e,n,r,i,s,o){let a=i[Q];Fx(r,t,e,o);let u=null;e!==null&&(u=dp(e,i[Fi]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=gu(i,JE(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&rf(a,t,r.length-1),yu(i,p),i[t.index]=p}function Fx(t,e,n,r){for(let i of t)e.mergedAttrs=eo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Uc(e,e.mergedAttrs,!0),n!==null&&GE(r,n,e))}function Lx(t,e,n,r,i,s){let o=Qe(),a=i[Q],u=It(o,i);XE(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,g=Mr(i,a,p,o);Wn(g,i)}ZE(a,i,o),u&&Wn(u,i);let l=Mr(i,a,o.directiveStart+o.componentOffset,o);if(t[We]=i[We]=l,s!==null)for(let h of s)h(l,e);return mp(a,o,i),l}function Vx(t,e,n,r){if(r)Oh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=vR(e.selectors[0]);i&&Oh(t,n,i),s&&s.length>0&&zE(t,n,s.join(" "))}}function jx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ux(){let t=Qe();cu(B()[Q],t)}var Jn=(()=>{class t{static{this.__NG_ELEMENT_ID__=Bx}}return t})();function Bx(){let t=Qe();return mT(t,B())}var $x=Jn,pT=class extends $x{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return zi(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=cp(this._hostTNode,this._hostLView);if(oE(e)){let n=Mc(e,this._hostLView),r=xc(e),i=n[Q].data[r+8];return new Ar(i,n)}else return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=JI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ke}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=co(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ao(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!OR(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Fr(ln(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get($t,null);N&&(s=N)}let h=ln(u.componentType??{}),p=co(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,s);return this.insertImpl(y.hostView,a,ao(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[je],l=new pT(u,u[ft],u[je]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return _u(o,i,s,r),e.attachToViewContainerRef(),ww(Eh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=JI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=oo(this._lContainer,n);r&&(Rc(Eh(this._lContainer),n),fu(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=oo(this._lContainer,n);return r&&Rc(Eh(this._lContainer),n)!=null?new Or(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function JI(t){return t[Pc]}function Eh(t){return t[Pc]||(t[Pc]=[])}function mT(t,e){let n,r=e[t.index];return mn(r)?n=r:(n=eT(r,e,null,t),e[t.index]=n,yu(e,n)),Hx(n,e,t,r),new pT(n,t,e)}function qx(t,e){let n=t[_e],r=n.createComment(""),i=It(e,t),s=fp(n,i);return Fc(n,s,r,CP(n,i),!1),r}var Hx=Wx,zx=()=>!1;function Gx(t,e,n){return zx(t,e,n)}function Wx(t,e,n,r){if(t[Nr])return;let i;n.type&8?i=qt(r):i=qx(e,n),t[Nr]=i}var pf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},mf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Cp(e,n).matches!==null&&this.queries[n].setDirty()}},$c=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=tM(e):this.predicate=e}},gf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},yf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,Kx(n,s)),this.matchTNodeWithReadOption(e,n,Dc(n,e,s,!1,!1))}else r===kr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Dc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Qn||i===Jn||i===kr&&n.type&4)this.addMatch(n.index,-2);else{let s=Dc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Kx(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Qx(t,e){return t.type&11?zi(t,e):t.type&4?Iu(t,e):null}function Yx(t,e,n,r){return n===-1?Qx(e,t):n===-2?Jx(t,e,r):Mr(t,t[Q],n,e)}function Jx(t,e,n){if(n===Qn)return zi(e,t);if(n===kr)return Iu(e,t);if(n===Jn)return mT(e,t)}function gT(t,e,n,r){let i=e[dn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(Yx(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function vf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=gT(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=Ke;p<h.length;p++){let g=h[p];g[po]===g[je]&&vf(g[Q],g,l,r)}if(h[Li]!==null){let p=h[Li];for(let g=0;g<p.length;g++){let y=p[g];vf(y[Q],y,l,r)}}}}}return r}function Xx(t,e){return t[dn].queries[e].queryList}function yT(t,e,n){let r=new Gh((n&4)===4);return UP(t,e,r,r.destroy),(e[dn]??=new mf).queries.push(new pf(r))-1}function Zx(t,e,n){let r=Ee();return r.firstCreatePass&&(vT(r,new $c(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),yT(r,B(),e)}function eM(t,e,n,r){let i=Ee();if(i.firstCreatePass){let s=Qe();vT(i,new $c(e,n,r),s.index),nM(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return yT(i,B(),n)}function tM(t){return t.split(",").map(e=>e.trim())}function vT(t,e,n){t.queries===null&&(t.queries=new gf),t.queries.track(new yf(e,n))}function nM(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Cp(t,e){return t.queries.getByIndex(e)}function rM(t,e){let n=t[Q],r=Cp(n,e);return r.crossesNgTemplate?vf(n,t,e,[]):gT(n,t,r,e)}function iM(t){return typeof t=="function"&&t[Vt]!==void 0}function sG(t,e){vn("NgSignals");let n=yI(t),r=n[Vt];return e?.equal&&(r.equal=e.equal),n.set=i=>fh(r,i),n.update=i=>vI(r,i),n.asReadonly=sM.bind(n),n}function sM(){let t=this[Vt];if(t.readonlyFn===void 0){let e=()=>this();e[Vt]=t,t.readonlyFn=e}return t.readonlyFn}function _T(t){return iM(t)&&typeof t.set=="function"}function oM(t){return Object.getPrototypeOf(t.prototype).constructor}function aM(t){let e=oM(t.type),n=!0,r=[t];for(;e;){let i;if(Gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=vc(t.inputs),o.inputTransforms=vc(t.inputTransforms),o.declaredInputs=vc(t.declaredInputs),o.outputs=vc(t.outputs);let a=i.hostBindings;a&&hM(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&lM(t,u),l&&dM(t,l),cM(t,i),FS(t.outputs,i.outputs),Gn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===aM&&(n=!1)}}e=Object.getPrototypeOf(e)}uM(r)}function cM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function uM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=eo(i.hostAttrs,n=eo(n,i.hostAttrs))}}function vc(t){return t===Mi?{}:t===ut?[]:t}function lM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function dM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function hM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function fM(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var fn=class{},_f=class{};function IT(t,e){return new qc(t,e??null,[])}var qc=class extends fn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bc(this);let i=Nw(e);this._bootstrapComponents=FE(i.bootstrap),this._r3Injector=mE(e,n,[{provide:fn,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...r],rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},If=class extends _f{constructor(e){super(),this.moduleType=e}create(e){return new qc(this.moduleType,e,[])}};var Hc=class extends fn{constructor(e){super(),this.componentFactoryResolver=new Bc(this),this.instance=null;let n=new to([...e.providers,{provide:fn,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],e.parent||eu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pM(t,e,n=null){return new Hc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Wi=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Hs(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wT(t){return Ap(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function mM(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Ap(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function _n(t,e,n){return t[e]=n}function Tu(t,e){return t[e]}function lt(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ji(t,e,n,r){let i=lt(t,e,n);return lt(t,e+1,r)||i}function ET(t,e,n,r,i){let s=ji(t,e,n,r);return lt(t,e+2,i)||s}function Du(t,e,n,r,i,s){let o=ji(t,e,n,r);return ji(t,e+2,i,s)||o}function gM(t){return(t.flags&32)===32}function yM(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Gi(e,t,4,o||null,Vi(l,a));Ip(e,n,h,Vi(l,u)),cu(e,h);let p=h.tView=vp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function wf(t,e,n,r,i,s,o,a){let u=B(),l=Ee(),h=t+Ue,p=l.firstCreatePass?yM(h,l,u,e,n,r,i,s,o):l.data[h];$r(p,!1);let g=vM(l,u,p,t);ou()&&pu(l,u,g,p),Wn(g,u);let y=eT(g,u,g,p);return u[h]=y,yu(u,y),Gx(y,p,u),ru(p)&&gp(l,u,p),o!=null&&yp(u,p,a),wf}var vM=_M;function _M(t,e,n,r){return au(!0),e[_e].createComment("")}function IM(t,e,n,r){let i=B(),s=Hi();if(lt(i,s,e)){let o=Ee(),a=su();tx(a,i,t,e,n,r)}return IM}function TT(t,e,n,r){return lt(t,Hi(),n)?e+xi(n)+r:pt}function wM(t,e,n,r,i,s){let o=eN(),a=ji(t,o,n,i);return ip(2),a?e+xi(n)+r+xi(i)+s:pt}function _c(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function EM(t){return(t&2)==2}function TM(t,e){return t&131071|e<<17}function Ef(t){return t|2}function Ui(t){return(t&131068)>>2}function Th(t,e){return t&-131069|e<<2}function DM(t){return(t&1)===1}function Tf(t){return t|1}function bM(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Lr(o),u=Ui(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||fo(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Lr(t[a+1]);t[r+1]=_c(g,a),g!==0&&(t[g+1]=Th(t[g+1],r)),t[a+1]=TM(t[a+1],r)}else t[r+1]=_c(a,0),a!==0&&(t[a+1]=Th(t[a+1],r)),a=r;else t[r+1]=_c(u,0),a===0?a=r:t[u+1]=Th(t[u+1],r),u=r;l&&(t[r+1]=Ef(t[r+1])),XI(t,h,r,!0),XI(t,h,r,!1),CM(e,h,t,r,s),o=_c(a,u),s?e.classBindings=o:e.styleBindings=o}function CM(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&fo(s,e)>=0&&(n[r+1]=Tf(n[r+1]))}function XI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Lr(i):Ui(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];AM(u,e)&&(a=!0,t[o+1]=r?Tf(l):Ef(l)),o=r?Lr(l):Ui(l)}a&&(t[n+1]=r?Ef(i):Tf(i))}function AM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fo(t,e)>=0:!1}var Me={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DT(t){return t.substring(Me.key,Me.keyEnd)}function SM(t){return t.substring(Me.value,Me.valueEnd)}function RM(t){return AT(t),bT(t,Bi(t,0,Me.textEnd))}function bT(t,e){let n=Me.textEnd;return n===e?-1:(e=Me.keyEnd=PM(t,Me.key=e,n),Bi(t,e,n))}function NM(t){return AT(t),CT(t,Bi(t,0,Me.textEnd))}function CT(t,e){let n=Me.textEnd,r=Me.key=Bi(t,e,n);return n===r?-1:(r=Me.keyEnd=xM(t,r,n),r=ZI(t,r,n,58),r=Me.value=Bi(t,r,n),r=Me.valueEnd=MM(t,r,n),ZI(t,r,n,59))}function AT(t){Me.key=0,Me.keyEnd=0,Me.value=0,Me.valueEnd=0,Me.textEnd=t.length}function Bi(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function PM(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function xM(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function ZI(t,e,n,r){return e=Bi(t,e,n),e<n&&e++,e}function MM(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let u=t.charCodeAt(o++);if(u===59)return a;u===34||u===39?a=o=ew(t,u,o,n):e===o-4&&s===85&&i===82&&r===76&&u===40?a=o=ew(t,41,o,n):u>32&&(a=o),s=i,i=r,r=u&-33}return a}function ew(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function OM(t,e,n){let r=B(),i=Hi();if(lt(r,i,e)){let s=Ee(),o=su();_p(s,o,r,t,e,r[_e],n,!1)}return OM}function Df(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";wp(t,n,s[o],o,r)}function ST(t,e,n){return RT(t,e,n,!1),ST}function kM(t,e){return RT(t,e,null,!0),kM}function oG(t){NT(MT,FM,t,!1)}function FM(t,e){for(let n=NM(e);n>=0;n=CT(e,n))MT(t,DT(e),SM(e))}function aG(t){NT(qM,LM,t,!0)}function LM(t,e){for(let n=RM(e);n>=0;n=bT(e,n))Xc(t,DT(e),!0)}function RT(t,e,n,r){let i=B(),s=Ee(),o=ip(2);if(s.firstUpdatePass&&xT(s,t,o,r),e!==pt&&lt(i,o,e)){let a=s.data[gn()];OT(s,a,i,i[_e],t,i[o+1]=zM(e,n),r,o)}}function NT(t,e,n,r){let i=Ee(),s=ip(2);i.firstUpdatePass&&xT(i,null,s,r);let o=B();if(n!==pt&&lt(o,s,n)){let a=i.data[gn()];if(kT(a,r)&&!PT(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Nh(u,n||"")),Df(i,a,o,n,r)}else HM(i,a,o,o[_e],o[s+1],o[s+1]=$M(t,e,n),r,s)}}function PT(t,e){return e>=t.expandoStartIndex}function xT(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[gn()],o=PT(t,n);kT(s,r)&&e===null&&!o&&(e=!1),e=VM(i,s,e,r),bM(i,s,e,n,o,r)}}function VM(t,e,n,r){let i=sN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Dh(null,t,e,n,r),n=lo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Dh(i,t,e,n,r),s===null){let u=jM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Dh(null,t,e,u[1],r),u=lo(u,e.attrs,r),UM(t,e,r,u))}else s=BM(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function jM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ui(r)!==0)return t[Lr(r)]}function UM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Lr(i)]=r}function BM(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=lo(r,o,n)}return lo(r,e.attrs,n)}function Dh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=lo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function lo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Xc(t,o,n?!0:e[++s]))}return t===void 0?null:t}function $M(t,e,n){if(n==null||n==="")return ut;let r=[],i=Tt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function MT(t,e,n){Xc(t,e,Tt(n))}function qM(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Xc(t,r,n)}function HM(t,e,n,r,i,s,o,a){i===pt&&(i=ut);let u=0,l=0,h=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<s.length?s[l+1]:void 0,C=null,N;h===p?(u+=2,l+=2,g!==y&&(C=p,N=y)):p===null||h!==null&&h<p?(u+=2,C=h):(l+=2,C=p,N=y),C!==null&&OT(t,e,n,r,C,N,o,a),h=u<i.length?i[u]:null,p=l<s.length?s[l]:null}}function OT(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=DM(l)?tw(u,e,n,i,Ui(l),o):void 0;if(!zc(h)){zc(s)||EM(l)&&(s=tw(u,null,n,i,a,o));let p=Gw(gn(),n);xP(r,o,p,i,s)}}function tw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===pt&&(g=p?ut:void 0);let y=p?ph(g,r):h===r?g:void 0;if(l&&!zc(y)&&(y=ph(u,r)),zc(y)&&(a=y,o))return a;let C=t[i+1];i=o?Lr(C):Ui(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=ph(u,r))}return a}function zc(t){return t!==void 0}function zM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=rt(Tt(t)))),t}function kT(t,e){return(t.flags&(e?8:16))!==0}var bf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function bh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function GM(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let u=t.at(s),l=e[s],h=bh(s,u,s,l,n);if(h!==0){h<0&&t.updateValue(s,l),s++;continue}let p=t.at(o),g=e[a],y=bh(o,p,a,g,n);if(y!==0){y<0&&t.updateValue(o,g),o--,a--;continue}let C=n(s,u),N=n(o,p),R=n(s,l);if(Object.is(R,N)){let M=n(a,g);Object.is(M,C)?(t.swap(s,o),t.updateValue(o,g),a--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(r??=new Gc,i??=rw(t,s,o,n),Cf(t,r,s,R))t.updateValue(s,l),s++,o++;else if(i.has(R))r.set(C,t.detach(s)),o--;else{let M=t.create(s,e[s]);t.attach(s,M),s++,o++}}for(;s<=a;)nw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&s<=o;){let l=t.at(s),h=u.value,p=bh(s,l,s,h,n);if(p!==0)p<0&&t.updateValue(s,h),s++,u=a.next();else{r??=new Gc,i??=rw(t,s,o,n);let g=n(s,h);if(Cf(t,r,s,g))t.updateValue(s,h),s++,o++,u=a.next();else if(!i.has(g))t.attach(s,t.create(s,h)),s++,o++,u=a.next();else{let y=n(s,l);r.set(y,t.detach(s)),o--}}}for(;!u.done;)nw(t,r,n,t.length,u.value),u=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Cf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function nw(t,e,n,r,i){if(Cf(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function rw(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Gc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function cG(t,e,n){vn("NgControlFlow");let r=B(),i=Hi(),s=Nf(r,Ue+t),o=0;if(lt(r,i,e)){let a=re(null);try{if(aT(s,o),e!==-1){let u=Pf(r[Q],Ue+e),l=co(s,u.tView.ssrId),h=vu(r,u,n,{dehydratedView:l});_u(s,h,o,ao(u,l))}}finally{re(a)}}else{let a=oT(s,o);a!==void 0&&(a[We]=n)}}var Af=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ke}};function uG(t){return t}var Sf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function lG(t,e,n,r,i,s,o,a,u,l,h,p,g){vn("NgControlFlow");let y=u!==void 0,C=B(),N=a?o.bind(C[_t][We]):o,R=new Sf(y,N);C[Ue+t]=R,wf(t+1,e,n,r,i,s),y&&wf(t+2,u,l,h,p,g)}var Rf=class extends bf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ke}at(e){return this.getLView(e)[We].$implicit}attach(e,n){let r=n[ki];this.needsIndexUpdate||=e!==this.length,_u(this.lContainer,n,e,ao(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,WM(this.lContainer,e)}create(e,n){let r=co(this.lContainer,this.templateTNode.tView.ssrId);return vu(this.hostLView,this.templateTNode,new Af(this.lContainer,n,e),{dehydratedView:r})}destroy(e){fu(e[Q],e)}updateValue(e,n){this.getLView(e)[We].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[We].$index=e}getLView(e){return KM(this.lContainer,e)}};function dG(t){let e=re(null),n=gn();try{let r=B(),i=r[Q],s=r[n];if(s.liveCollection===void 0){let a=n+1,u=Nf(r,a),l=Pf(i,a);s.liveCollection=new Rf(u,r,l)}else s.liveCollection.reset();let o=s.liveCollection;if(GM(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Hi(),u=o.length===0;if(lt(r,a,u)){let l=n+2,h=Nf(r,l);if(u){let p=Pf(i,l),g=co(h,p.tView.ssrId),y=vu(r,p,void 0,{dehydratedView:g});_u(h,y,0,ao(p,g))}else aT(h,0)}}}finally{re(e)}}function Nf(t,e){return t[e]}function WM(t,e){return oo(t,e)}function KM(t,e){return oT(t,e)}function Pf(t,e){return Xf(t,e)}function QM(t,e,n,r,i,s){let o=e.consts,a=Vi(o,i),u=Gi(e,t,2,r,a);return Ip(e,n,u,Vi(o,s)),u.attrs!==null&&Uc(u,u.attrs,!1),u.mergedAttrs!==null&&Uc(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function FT(t,e,n,r){let i=B(),s=Ee(),o=Ue+t,a=i[_e],u=s.firstCreatePass?QM(o,s,i,e,n,r):s.data[o],l=JM(s,i,u,a,e,t);i[o]=l;let h=ru(u);return $r(u,!0),GE(a,l,u),!gM(u)&&ou()&&pu(s,i,l,u),WR()===0&&Wn(l,i),KR(),h&&(gp(s,i,u),mp(s,u,i)),r!==null&&yp(i,u),FT}function LT(){let t=Qe();np()?rp():(t=t.parent,$r(t,!1));let e=t;YR(e)&&JR(),QR();let n=Ee();return n.firstCreatePass&&(cu(n,t),Jf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fN(e)&&Df(n,e,B(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pN(e)&&Df(n,e,B(),e.stylesWithoutHost,!1),LT}function YM(t,e,n,r){return FT(t,e,n,r),LT(),YM}var JM=(t,e,n,r,i,s)=>(au(!0),LE(r,i,uN()));function XM(t,e,n,r,i){let s=e.consts,o=Vi(s,r),a=Gi(e,t,8,"ng-container",o);o!==null&&Uc(a,o,!0);let u=Vi(s,i);return Ip(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function VT(t,e,n){let r=B(),i=Ee(),s=t+Ue,o=i.firstCreatePass?XM(s,i,r,e,n):i.data[s];$r(o,!0);let a=eO(i,r,o,t);return r[s]=a,ou()&&pu(i,r,a,o),Wn(a,r),ru(o)&&(gp(i,r,o),mp(i,o,r)),n!=null&&yp(r,o),VT}function jT(){let t=Qe(),e=Ee();return np()?rp():(t=t.parent,$r(t,!1)),e.firstCreatePass&&(cu(e,t),Jf(t)&&e.queries.elementEnd(t)),jT}function ZM(t,e,n){return VT(t,e,n),jT(),ZM}var eO=(t,e,n,r)=>(au(!0),gP(e[_e],""));function hG(){return B()}var Dr=void 0;function tO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var nO=["en",[["a","p"],["AM","PM"],Dr],[["AM","PM"],Dr,Dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dr,"{1} 'at' {0}",Dr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",tO],Ch={};function bu(t){let e=rO(t),n=iw(e);if(n)return n;let r=e.split("-")[0];if(n=iw(r),n)return n;if(r==="en")return nO;throw new K(701,!1)}function iw(t){return t in Ch||(Ch[t]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[t]),Ch[t]}var qr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qr||{});function rO(t){return t.toLowerCase().replace(/_/g,"-")}var Wc="en-US",iO="USD";var sO=Wc;function oO(t){typeof t=="string"&&(sO=t.toLowerCase().replace(/_/g,"-"))}function aO(t,e,n,r){let i=B(),s=Ee(),o=Qe();return UT(s,i,i[_e],o,t,e,r),aO}function cO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[no],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function UT(t,e,n,r,i,s,o){let a=ru(r),l=t.firstCreatePass&&rT(t),h=e[We],p=nT(e),g=!0;if(r.type&3||o){let N=It(r,e),R=o?o(N):N,M=p.length,V=o?W=>o(qt(W[r.index])):r.index,F=null;if(!o&&a&&(F=cO(t,e,i,r.index)),F!==null){let W=F.__ngLastListenerFn__||F;W.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,g=!1}else{s=ow(r,e,h,s,!1);let W=n.listen(R,i,s);p.push(s,W),l&&l.push(i,V,M,M+1)}}else s=ow(r,e,h,s,!1);let y=r.outputs,C;if(g&&y!==null&&(C=y[i])){let N=C.length;if(N)for(let R=0;R<N;R+=2){let M=C[R],V=C[R+1],le=e[M][V].subscribe(s),q=p.length;p.push(s,le),l&&l.push(i,r.index,q,-(q+1))}}}function sw(t,e,n,r){let i=re(null);try{return jt(6,e,n),n(r)!==!1}catch(s){return iT(t,s),!1}finally{jt(7,e,n),re(i)}}function ow(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Kn(t.index,e):e;Tp(a);let u=sw(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=sw(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function fG(t=1){return aN(t)}function uO(t,e){let n=null,r=hR(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?Aw(t,s,!0):mR(r,s))return i}return n}function pG(t){let e=B()[_t][ft];if(!e.projection){let n=t?t.length:1,r=e.projection=rR(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?uO(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function mG(t,e=0,n){let r=B(),i=Ee(),s=Gi(i,Ue+t,16,null,n||null);s.projection===null&&(s.projection=e),rp(),(!r[ki]||Yw())&&(s.flags&32)!==32&&NP(i,r,s)}function lO(t,e,n){return BT(t,"",e,"",n),lO}function BT(t,e,n,r,i){let s=B(),o=TT(s,e,n,r);if(o!==pt){let a=Ee(),u=su();_p(a,u,s,t,o,s[_e],i,!1)}return BT}function gG(t,e,n,r){eM(t,e,n,r)}function yG(t,e,n){Zx(t,e,n)}function vG(t){let e=B(),n=Ee(),r=Xw();sp(r+1);let i=Cp(n,r);if(t.dirty&&$R(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=rM(e,r);t.reset(s,SN),t.notifyOnChanges()}return!0}return!1}function _G(){return Xx(B(),Xw())}function dO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function IG(t){let e=ZR();return Zf(e,Ue+t)}function wG(t,e=""){let n=B(),r=Ee(),i=t+Ue,s=r.firstCreatePass?Gi(r,i,1,e,null):r.data[i],o=hO(r,n,s,e,t);n[i]=o,ou()&&pu(r,n,o,s),$r(s,!1)}var hO=(t,e,n,r,i)=>(au(!0),pP(e[_e],r));function fO(t){return $T("",t,""),fO}function $T(t,e,n){let r=B(),i=TT(r,t,e,n);return i!==pt&&sT(r,gn(),i),$T}function pO(t,e,n,r,i){let s=B(),o=wM(s,t,e,n,r,i);return o!==pt&&sT(s,gn(),o),pO}function mO(t,e,n){_T(e)&&(e=e());let r=B(),i=Hi();if(lt(r,i,e)){let s=Ee(),o=su();_p(s,o,r,t,e,r[_e],n,!1)}return mO}function EG(t,e){let n=_T(t);return n&&t.set(e),n}function gO(t,e){let n=B(),r=Ee(),i=Qe();return UT(r,n,n[_e],i,t,e),gO}function yO(t,e,n){let r=Ee();if(r.firstCreatePass){let i=Gn(t);xf(n,r.data,r.blueprint,i,!0),xf(e,r.data,r.blueprint,i,!1)}}function xf(t,e,n,r,i){if(t=nt(t),Array.isArray(t))for(let s=0;s<t.length;s++)xf(t[s],e,n,r,i);else{let s=Ee(),o=B(),a=Qe(),u=Oi(t)?t:nt(t.provide),l=Fw(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Oi(t)||!t.multi){let y=new xr(l,i,De),C=Sh(u,e,i?h:h+g,p);C===-1?($h(kc(a,o),s,u),Ah(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[C]=y,o[C]=y)}else{let y=Sh(u,e,h+g,p),C=Sh(u,e,h,h+g),N=y>=0&&n[y],R=C>=0&&n[C];if(i&&!R||!i&&!N){$h(kc(a,o),s,u);let M=IO(i?_O:vO,n.length,i,r,l);!i&&R&&(n[C].providerFactory=M),Ah(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),o.push(M)}else{let M=qT(n[i?C:y],l,!i&&r);Ah(s,t,y>-1?y:C,M)}!i&&r&&R&&n[C].componentProviders++}}}function Ah(t,e,n,r){let i=Oi(e),s=AR(e);if(i||s){let u=(s?nt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function qT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vO(t,e,n,r){return Mf(this.multi,[])}function _O(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Mr(n,n[Q],this.providerFactory.index,r);s=a.slice(0,o),Mf(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Mf(i,s);return s}function Mf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function IO(t,e,n,r,i){let s=new xr(t,n,De);return s.multi=[],s.index=e,s.componentProviders=0,qT(s,i,r&&!n),s}function TG(t,e=[]){return n=>{n.providersResolver=(r,i)=>yO(r,i?i(t):t,e)}}var wO=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Mw(!1,n.type),i=r.length>0?pM([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Y({token:t,providedIn:"environment",factory:()=>new t(U($t))})}}return t})();function DG(t){vn("NgStandalone"),t.getStandaloneInjector=e=>e.get(wO).getOrCreateStandaloneInjector(t)}function bG(t,e,n){let r=Ot()+t,i=B();return i[r]===pt?_n(i,r,n?e.call(n):e()):Tu(i,r)}function CG(t,e,n,r){return HT(B(),Ot(),t,e,n,r)}function AG(t,e,n,r,i){return zT(B(),Ot(),t,e,n,r,i)}function SG(t,e,n,r,i,s){return EO(B(),Ot(),t,e,n,r,i,s)}function RG(t,e,n,r,i,s,o){return TO(B(),Ot(),t,e,n,r,i,s,o)}function NG(t,e,n,r,i,s,o,a){let u=Ot()+t,l=B(),h=Du(l,u,n,r,i,s);return lt(l,u+4,o)||h?_n(l,u+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Tu(l,u+5)}function PG(t,e,n,r,i,s,o,a,u){let l=Ot()+t,h=B(),p=Du(h,l,n,r,i,s);return ji(h,l+4,o,a)||p?_n(h,l+6,u?e.call(u,n,r,i,s,o,a):e(n,r,i,s,o,a)):Tu(h,l+6)}function xG(t,e,n,r,i,s,o,a,u,l){let h=Ot()+t,p=B(),g=Du(p,h,n,r,i,s);return ET(p,h+4,o,a,u)||g?_n(p,h+7,l?e.call(l,n,r,i,s,o,a,u):e(n,r,i,s,o,a,u)):Tu(p,h+7)}function MG(t,e,n,r){return DO(B(),Ot(),t,e,n,r)}function go(t,e){let n=t[e];return n===pt?void 0:n}function HT(t,e,n,r,i,s){let o=e+n;return lt(t,o,i)?_n(t,o+1,s?r.call(s,i):r(i)):go(t,o+1)}function zT(t,e,n,r,i,s,o){let a=e+n;return ji(t,a,i,s)?_n(t,a+2,o?r.call(o,i,s):r(i,s)):go(t,a+2)}function EO(t,e,n,r,i,s,o,a){let u=e+n;return ET(t,u,i,s,o)?_n(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):go(t,u+3)}function TO(t,e,n,r,i,s,o,a,u){let l=e+n;return Du(t,l,i,s,o,a)?_n(t,l+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):go(t,l+4)}function DO(t,e,n,r,i,s){let o=e+n,a=!1;for(let u=0;u<i.length;u++)lt(t,o++,i[u])&&(a=!0);return a?_n(t,o,r.apply(s,i)):go(t,o)}function OG(t,e){let n=Ee(),r,i=t+Ue;n.firstCreatePass?(r=bO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Sr(r.type,!0)),o,a=ct(De);try{let u=Oc(!1),l=s();return Oc(u),dO(n,B(),i,l),l}finally{ct(a)}}function bO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function kG(t,e,n){let r=t+Ue,i=B(),s=Zf(i,r);return GT(i,r)?HT(i,Ot(),e,s.transform,n,s):s.transform(n)}function FG(t,e,n,r){let i=t+Ue,s=B(),o=Zf(s,i);return GT(s,i)?zT(s,Ot(),e,o.transform,n,r,o):o.transform(n,r)}function GT(t,e){return t[Q].data[e].pure}function LG(t,e){return Iu(t,e)}var Vr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},WT=new Vr("17.3.12"),KT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Sp=new G(""),yo=new G(""),Cu=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Rp||(CO(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(U(fe),U(Au),U(yo))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),Au=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Rp?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function CO(t){Rp=t}var Rp;function Su(t){return!!t&&typeof t.then=="function"}function Np(t){return!!t&&typeof t.subscribe=="function"}var AO=new G(""),QT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Z(AO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Su(s))n.push(s);else if(Np(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YT=new G("");function SO(){gI(()=>{throw new K(600,!1)})}function RO(t){return t.isBoundToModule}function NO(t,e,n){try{let r=n();return Su(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var vo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(gE),this.afterRenderEffectManager=Z(bp),this.externalTestViews=new Set,this.beforeRender=new Vn,this.afterTick=new Vn,this.componentTypes=[],this.components=[],this.isStable=Z(Wi).hasPendingTasks.pipe(xe(n=>!n)),this._injector=Z($t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof jc;if(!this._injector.get(QT).done){let g=!i&&wR(n),y=!1;throw new K(405,y)}let o;i?o=n:o=this._injector.get(wu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=RO(o)?void 0:this._injector.get(fn),u=r||o.selector,l=o.create(wt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(Sp,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Rh(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new K(101,!1);let r=re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,re(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===uT)throw new K(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)PO(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Of(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Of(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Rh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(YT,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new K(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PO(t,e,n){!e&&!Of(t)||xO(t,n,e)}function Of(t){return tp(t)}function xO(t,e,n){let r;n?(r=0,t[$]|=1024):t[$]&64?r=0:r=1,lT(t,e,r)}var kf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},VG=(()=>{class t{compileModuleSync(n){return new If(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Nw(n),s=FE(i.declarations).reduce((o,a)=>{let u=ln(a);return u&&o.push(new Fr(u)),o},[]);return new kf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MO=(()=>{class t{constructor(){this.zone=Z(fe),this.applicationRef=Z(vo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function OO(t){return[{provide:fe,useFactory:t},{provide:Zs,multi:!0,useFactory:()=>{let e=Z(MO,{optional:!0});return()=>e.initialize()}},{provide:Zs,multi:!0,useFactory:()=>{let e=Z(VO);return()=>{e.initialize()}}},{provide:gE,useFactory:kO}]}function kO(){let t=Z(fe),e=Z(Mt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function FO(t){let e=OO(()=>new fe(LO(t)));return zt([[],e])}function LO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VO=(()=>{class t{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=Z(fe),this.pendingTasks=Z(Wi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jO(){return typeof $localize<"u"&&$localize.locale||Wc}var Ru=new G("",{providedIn:"root",factory:()=>Z(Ru,ae.Optional|ae.SkipSelf)||jO()}),JT=new G("",{providedIn:"root",factory:()=>iO});var XT=new G("");var Cc=null;function UO(t=[],e){return wt.create({name:e,providers:[{provide:Zc,useValue:"platform"},{provide:XT,useValue:new Set([()=>Cc=null])},...t]})}function BO(t=[]){if(Cc)return Cc;let e=UO(t);return Cc=e,SO(),$O(e),e}function $O(t){t.get(up,null)?.forEach(n=>n())}var Nu=(()=>{class t{static{this.__NG_ELEMENT_ID__=qO}}return t})();function qO(t){return HO(Qe(),B(),(t&16)===16)}function HO(t,e,n){if(nu(t)&&!n){let r=Kn(t.index,e);return new Or(r,r)}else if(t.type&47){let r=e[_t];return new Or(r,e)}return null}var Ff=class{constructor(){}supports(e){return wT(e)}create(e){return new Lf(e)}},zO=(t,e)=>e,Lf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<aw(r,i,s)?n:r,a=aw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<s.length?s[g]:s[g]=0,C=y+g;h<=C&&C<l&&(s[g]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!wT(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,mM(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Vf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Kc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Vf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},jf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Kc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new jf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Uf=class{constructor(){}supports(e){return e instanceof Map||Ap(e)}create(){return new Bf}},Bf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Ap(e)))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new $f(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},$f=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function cw(){return new Pp([new Ff])}var Pp=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:cw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||cw()),deps:[[t,new Iw,new it]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new K(901,!1)}}return t})();function uw(){return new Pu([new Uf])}var Pu=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:uw})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||uw()),deps:[[t,new Iw,new it]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new K(901,!1)}}return t})();var ZT=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(U(vo))}}static{this.\u0275mod=Ur({type:t})}static{this.\u0275inj=jr({})}}return t})();function eD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=BO(r),s=[FO(),...n||[]],a=new Hc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(fe);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Mt,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),g=i.get(XT);return g.add(p),a.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),NO(l,u,()=>{let y=a.get(QT);return y.runInitializers(),y.donePromise.then(()=>{let C=a.get(Ru,Wc);oO(C||Wc);let N=a.get(vo);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function GO(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function WO(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function jG(t,e){vn("NgSignals");let n=fI(t);return e?.equal&&(n[Vt].equal=e.equal),n}function xp(t){let e=re(null);try{return t()}finally{re(e)}}var KO=new G("",{providedIn:"root",factory:()=>Z(QO)}),QO=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new qf})}}return t})(),qf=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Z(Wi),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Hf=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=II(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Mt,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function YO(t,e){vn("NgSignals"),!e?.injector&&Vw(YO);let n=e?.injector??Z(wt),r=e?.manualCleanup!==!0?n.get(uu):null,i=new Hf(n.get(KO),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(Nu,null,{optional:!0});return!s||!(s._lView[$]&8)?i.watcher.notify():(s._lView[wc]??=[]).push(i.watcher.notify),i}function UG(t,e){let n=ln(t),r=e.elementInjector||eu();return new Fr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function BG(t){let e=ln(t);if(!e)return null;let n=new Fr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lD=null;function Hr(){return lD}function dD(t){lD??=t}var Mu=class{};var st=new G(""),$p=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>Z(JO),providedIn:"platform"})}}return t})(),i9=new G(""),JO=(()=>{class t extends $p{constructor(){super(),this._doc=Z(st),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hr().getBaseHref(this._doc)}onPopState(n){let r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function qp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function tD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function In(t){return t&&t[0]!=="?"?"?"+t:t}var ku=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>Z(XO),providedIn:"root"})}}return t})(),hD=new G(""),XO=(()=>{class t extends ku{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Z(st).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+In(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+In(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+In(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(U($p),U(hD,8))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),s9=(()=>{class t extends ku{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=qp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+In(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+In(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(U($p),U(hD,8))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),ZO=(()=>{class t{constructor(n){this._subject=new br,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=nk(tD(nD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+In(r))}normalize(n){return t.stripTrailingSlash(tk(this._basePath,nD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+In(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+In(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=In}static{this.joinWithSlash=qp}static{this.stripTrailingSlash=tD}static{this.\u0275fac=function(r){return new(r||t)(U(ku))}}static{this.\u0275prov=Y({token:t,factory:()=>ek(),providedIn:"root"})}}return t})();function ek(){return new ZO(U(ku))}function tk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nD(t){return t.replace(/\/index.html$/,"")}function nk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var fD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},pD=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(pD||{});var wn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _o(t,e){let n=bu(t),r=n[qr.NumberSymbols][e];if(typeof r>"u"){if(e===wn.CurrencyDecimal)return n[qr.NumberSymbols][wn.Decimal];if(e===wn.CurrencyGroup)return n[qr.NumberSymbols][wn.Group]}return r}function rk(t,e){return bu(t)[qr.NumberFormats][e]}function ik(t){return bu(t)[qr.Currencies]}function sk(t,e,n="en"){let r=ik(n)[t]||fD[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var ok=2;function ak(t){let e,n=fD[t];return n&&(e=n[2]),typeof e=="number"?e:ok}var ck=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rD=22,Ou=".",Io="0",uk=";",lk=",",Mp="#",iD="\xA4";function dk(t,e,n,r,i,s,o=!1){let a="",u=!1;if(!isFinite(t))a=_o(n,wn.Infinity);else{let l=mk(t);o&&(l=pk(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(s){let V=s.match(ck);if(V===null)throw new Error(`${s} is not a valid digit info`);let F=V[1],W=V[3],le=V[5];F!=null&&(h=Op(F)),W!=null&&(p=Op(W)),le!=null?g=Op(le):W!=null&&p>g&&(g=p)}gk(l,p,g);let y=l.digits,C=l.integerLen,N=l.exponent,R=[];for(u=y.every(V=>!V);C<h;C++)y.unshift(0);for(;C<0;C++)y.unshift(0);C>0?R=y.splice(C,y.length):(R=y,y=[0]);let M=[];for(y.length>=e.lgSize&&M.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)M.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&M.unshift(y.join("")),a=M.join(_o(n,r)),R.length&&(a+=_o(n,i)+R.join("")),N&&(a+=_o(n,wn.Exponential)+"+"+N)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function hk(t,e,n,r,i){let s=rk(e,pD.Currency),o=fk(s,_o(e,wn.MinusSign));return o.minFrac=ak(r),o.maxFrac=o.minFrac,dk(t,o,e,wn.CurrencyGroup,wn.CurrencyDecimal,i).replace(iD,n).replace(iD,"").trim()}function fk(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(uk),i=r[0],s=r[1],o=i.indexOf(Ou)!==-1?i.split(Ou):[i.substring(0,i.lastIndexOf(Io)+1),i.substring(i.lastIndexOf(Io)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(Mp));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Io?n.minFrac=n.maxFrac=h+1:p===Mp?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(lk);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let h=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(Mp);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function pk(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function mk(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(Ou))>-1&&(e=e.replace(Ou,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Io;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Io;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>rD&&(r=r.splice(0,rD-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function gk(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(a>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=s!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,y,C){return g=g+p,C[y]=g<10?g:g-10,u&&(C[y]===0&&y>=l?C.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Op(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Fu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var kp=/\s+/,sD=[],o9=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=sD,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(kp):sD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(kp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(kp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(De(Qn),De(Eu))}}static{this.\u0275dir=Br({type:t,selectors:[["","ngClass",""]],inputs:{klass:[zn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})(),a9=(()=>{class t{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=IT(this.ngComponentOutletNgModule,oD(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(oD(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,i]of this._inputsUsed)i?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}static{this.\u0275fac=function(r){return new(r||t)(De(Jn))}}static{this.\u0275dir=Br({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[iu]})}}return t})();function oD(t){return t.get(fn).injector}var Fp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},c9=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Fp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),aD(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);aD(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(De(Jn),De(kr),De(Pp))}}static{this.\u0275dir=Br({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function aD(t,e){t.context.$implicit=e.item}var u9=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Lp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(De(Jn),De(kr))}}static{this.\u0275dir=Br({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Lp=class{constructor(){this.$implicit=null,this.ngIf=null}};function cD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${rt(e)}'.`)}var l9=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,s]=n.split("."),o=i.indexOf("-")===-1?void 0:Ht.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||t)(De(Qn),De(Pu),De(Eu))}}static{this.\u0275dir=Br({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})(),d9=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||t)(De(Jn))}}static{this.\u0275dir=Br({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[iu]})}}return t})();function Lu(t,e){return new K(2100,!1)}var Vp=class{createSubscription(e,n){return xp(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){xp(()=>e.unsubscribe())}},jp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},yk=new jp,vk=new Vp,h9=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Su(n))return yk;if(Np(n))return vk;throw Lu(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(De(Nu,16))}}static{this.\u0275pipe=$i({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var _k=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,f9=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw Lu(t,n);return n.replace(_k,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=$i({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})(),p9=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw Lu(t,n);return n.toUpperCase()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=$i({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})();function Ik(t,e){return{key:t,value:e}}var m9=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=uD}transform(n,r=uD){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(Ik(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||t)(De(Pu,16))}}static{this.\u0275pipe=$i({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function uD(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),s=String(r);return i==s?0:i<s?-1:1}var g9=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!wk(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=sk(a,i==="symbol"?"wide":"narrow",o):a=i);try{let u=Ek(n);return hk(u,o,a,r,s)}catch(u){throw Lu(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(De(Ru,16),De(JT,16))}}static{this.\u0275pipe=$i({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function wk(t){return!(t==null||t===""||t!==t)}function Ek(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var mD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ur({type:t})}static{this.\u0275inj=jr({})}}return t})(),Hp="browser",Tk="server";function Dk(t){return t===Hp}function Vu(t){return t===Tk}var y9=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>Dk(Z(Et))?new Up(Z(st),window):new Bp})}}return t})(),Up=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=bk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function bk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Bp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ki=class{};var Eo=class{},To=class{},En=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Wp=class{encodeKey(e){return gD(e)}encodeValue(e){return gD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Rk(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var Nk=/%(\d[a-f0-9])/gi,Pk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gD(t){return encodeURIComponent(t).replace(Nk,(e,n)=>Pk[n]??e)}function ju(t){return`${t}`}var Zn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Rk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ju):[ju(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ju(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ju(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Kp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function xk(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function yD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function vD(t){return typeof Blob<"u"&&t instanceof Blob}function _D(t){return typeof FormData<"u"&&t instanceof FormData}function Mk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var wo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(xk(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new En,this.context??=new Kp,!this.params)this.params=new Zn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||yD(this.body)||vD(this.body)||_D(this.body)||Mk(this.body)?this.body:this.body instanceof Zn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_D(this.body)?null:vD(this.body)?this.body.type||null:yD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},er=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(er||{}),Do=class{constructor(e,n=Co.Ok,r="OK"){this.headers=e.headers||new En,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Uu=class t extends Do{constructor(e={}){super(e),this.type=er.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bo=class t extends Do{constructor(e={}){super(e),this.type=er.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xn=class extends Do{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Co=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Co||{});function zp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ok=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof wo)s=n;else{let u;i.headers instanceof En?u=i.headers:u=new En(i.headers);let l;i.params&&(i.params instanceof Zn?l=i.params:l=new Zn({fromObject:i.params})),s=new wo(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=ec(s).pipe(ih(u=>this.handler.handle(u)));if(n instanceof wo||i.observe==="events")return o;let a=o.pipe($n(u=>u instanceof bo));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(xe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(xe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(xe(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(xe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Zn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,zp(i,r))}post(n,r,i={}){return this.request("POST",n,zp(i,r))}put(n,r,i={}){return this.request("PUT",n,zp(i,r))}static{this.\u0275fac=function(r){return new(r||t)(U(Eo))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),kk=/^\)\]\}',?\n/,Fk="X-Request-URL";function ID(t){if(t.url)return t.url;let e=Fk.toLocaleLowerCase();return t.headers.get(e)}var Gp=(()=>{class t{constructor(){this.fetchImpl=Z(Qp,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=Z(fe)}handle(n){return new ne(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Yp,s=>r.error(new Xn({error:s}))),()=>i.abort()})}doRequest(n,r,i){return w(this,null,function*(){let s=this.createRequestInit(n),o;try{let y=this.fetchImpl(n.urlWithParams,tt({signal:r},s));Lk(y),i.next({type:er.Sent}),o=yield y}catch(y){i.error(new Xn({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new En(o.headers),u=o.statusText,l=ID(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new Uu({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),C=[],N=o.body.getReader(),R=0,M,V,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:le,value:q}=yield N.read();if(le)break;if(C.push(q),R+=q.length,n.reportProgress){V=n.responseType==="text"?(V??"")+(M??=new TextDecoder).decode(q,{stream:!0}):void 0;let T=()=>i.next({type:er.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:V});F?F.run(T):T()}}}));let W=this.concatChunks(C,R);try{let le=o.headers.get("Content-Type")??"";p=this.parseBody(n,W,le)}catch(le){i.error(new Xn({error:le,headers:new En(o.headers),status:o.status,statusText:o.statusText,url:ID(o)??n.urlWithParams}));return}}h===0&&(h=p?Co.Ok:0),h>=200&&h<300?(i.next(new bo({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Xn({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(kk,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),Qp=class{};function Yp(){}function Lk(t){t.then(Yp,Yp)}function DD(t,e){return e(t)}function Vk(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function jk(t,e,n){return(r,i)=>Qf(n,()=>e(r,s=>t(s,i)))}var Uk=new G(""),Jp=new G(""),Bk=new G(""),bD=new G("");function $k(){let t=null;return(e,n)=>{t===null&&(t=(Z(Uk,{optional:!0})??[]).reduceRight(Vk,DD));let r=Z(Wi),i=r.add();return t(e,n).pipe(oc(()=>r.remove(i)))}}var wD=(()=>{class t extends Eo{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=Z(Wi);let i=Z(bD,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Jp),...this.injector.get(Bk,[])]));this.chain=i.reduceRight((s,o)=>jk(s,o,this.injector),DD)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(oc(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)(U(To),U($t))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})();var qk=/^\)\]\}',?\n/;function Hk(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var ED=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Rt(r.\u0275loadImpl()):ec(null)).pipe(ah(()=>new ne(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new En(o.getAllResponseHeaders()),M=Hk(o)||n.url;return u=new Uu({headers:R,status:o.status,statusText:N,url:M}),u},h=()=>{let{headers:N,status:R,statusText:M,url:V}=l(),F=null;R!==Co.NoContent&&(F=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=F?Co.Ok:0);let W=R>=200&&R<300;if(n.responseType==="json"&&typeof F=="string"){let le=F;F=F.replace(qk,"");try{F=F!==""?JSON.parse(F):null}catch(q){F=le,W&&(W=!1,F={error:q,text:F})}}W?(s.next(new bo({body:F,headers:N,status:R,statusText:M,url:V||void 0})),s.complete()):s.error(new Xn({error:F,headers:N,status:R,statusText:M,url:V||void 0}))},p=N=>{let{url:R}=l(),M=new Xn({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(M)},g=!1,y=N=>{g||(s.next(l()),g=!0);let R={type:er.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},C=N=>{let R={type:er.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:er.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(U(Ki))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),CD=new G(""),zk="XSRF-TOKEN",Gk=new G("",{providedIn:"root",factory:()=>zk}),Wk="X-XSRF-TOKEN",Kk=new G("",{providedIn:"root",factory:()=>Wk}),Bu=class{},Qk=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(U(st),U(Et),U(Gk))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})();function Yk(t,e){let n=t.url.toLowerCase();if(!Z(CD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=Z(Bu).getToken(),i=Z(Kk);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Xp=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Xp||{});function AD(t,e){return{\u0275kind:t,\u0275providers:e}}function Jk(...t){let e=[Ok,ED,wD,{provide:Eo,useExisting:wD},{provide:To,useExisting:ED},{provide:Jp,useValue:Yk,multi:!0},{provide:CD,useValue:!0},{provide:Bu,useClass:Qk}];for(let n of t)e.push(...n.\u0275providers);return zt(e)}var TD=new G("");function Xk(){return AD(Xp.LegacyInterceptors,[{provide:TD,useFactory:$k},{provide:Jp,useExisting:TD,multi:!0}])}function R9(){return AD(Xp.Fetch,[Gp,{provide:To,useExisting:Gp},{provide:bD,useExisting:Gp}])}var N9=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ur({type:t})}static{this.\u0275inj=jr({providers:[Jk(Xk())]})}}return t})();var tm=class extends Mu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},nm=class t extends tm{static makeCurrent(){dD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Zk();return n==null?null:e1(n)}resetBaseElement(){Ao=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fu(document.cookie,e)}},Ao=null;function Zk(){return Ao=Ao||document.querySelector("base"),Ao?Ao.getAttribute("href"):null}function e1(t){return new URL(t,document.baseURI).pathname}var rm=class{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new K(5103,!1);return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ae.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Hr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},t1=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),im=new G(""),PD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(U(im),U(fe))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),$u=class{constructor(e){this._doc=e}},Zp="ng-app-id",xD=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vu(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Zp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Zp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Zp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(U(st),U(lu),U(lp,8),U(Et))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),em={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},om=/%COMP%/g,MD="%COMP%",n1=`_nghost-${MD}`,r1=`_ngcontent-${MD}`,i1=!0,s1=new G("",{providedIn:"root",factory:()=>i1});function o1(t){return r1.replace(om,t)}function a1(t){return n1.replace(om,t)}function OD(t,e){return e.map(n=>n.replace(om,t))}var SD=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Vu(a),this.defaultRenderer=new So(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Bt.ShadowDom&&(r=vt(tt({},r),{encapsulation:Bt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof qu?i.applyToHost(n):i instanceof Ro&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Bt.Emulated:s=new qu(u,l,r,this.appId,h,o,a,p);break;case Bt.ShadowDom:return new sm(u,l,n,r,o,a,this.nonce,p);default:s=new Ro(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(U(PD),U(xD),U(lu),U(s1),U(st),U(Et),U(fe),U(lp))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),So=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(em[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(RD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(RD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=em[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=em[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ht.DashCase|Ht.Important)?e.style.setProperty(n,r,i&Ht.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ht.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function RD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var sm=class extends So{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=OD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ro=class extends So{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?OD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qu=class extends Ro{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=o1(l),this.hostAttr=a1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},c1=(()=>{class t extends $u{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(U(st))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),ND=["alt","control","meta","shift"],u1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},d1=(()=>{class t extends $u{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),ND.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=u1[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ND.forEach(o=>{if(o!==i){let a=l1[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(U(st))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})();function H9(t,e){return eD(tt({rootComponent:t},h1(e)))}function h1(t){return{appProviders:[...kD,...t?.providers??[]],platformProviders:g1}}function f1(){nm.makeCurrent()}function p1(){return new Mt}function m1(){return EE(document),document}var g1=[{provide:Et,useValue:Hp},{provide:up,useValue:f1,multi:!0},{provide:st,useFactory:m1,deps:[]}];var y1=new G(""),v1=[{provide:yo,useClass:rm,deps:[]},{provide:Sp,useClass:Cu,deps:[fe,Au,yo]},{provide:Cu,useClass:Cu,deps:[fe,Au,yo]}],kD=[{provide:Zc,useValue:"root"},{provide:Mt,useFactory:p1,deps:[]},{provide:im,useClass:c1,multi:!0,deps:[st,fe,Et]},{provide:im,useClass:d1,multi:!0,deps:[st]},SD,xD,PD,{provide:uo,useExisting:SD},{provide:Ki,useClass:t1,deps:[]},[]],z9=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:lu,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(U(y1,12))}}static{this.\u0275mod=Ur({type:t})}static{this.\u0275inj=jr({providers:[...kD,...v1],imports:[mD,ZT]})}}return t})();var G9=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(U(st))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=U(I1),i},providedIn:"root"})}}return t})(),I1=(()=>{class t extends _1{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Gt.NONE:return r;case Gt.HTML:return Yn(r,"HTML")?Tt(r):OE(this._doc,String(r)).toString();case Gt.STYLE:return Yn(r,"Style")?Tt(r):r;case Gt.SCRIPT:if(Yn(r,"Script"))return Tt(r);throw new K(5200,!1);case Gt.URL:return Yn(r,"URL")?Tt(r):hu(String(r));case Gt.RESOURCE_URL:if(Yn(r,"ResourceURL"))return Tt(r);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(n){return DE(n)}bypassSecurityTrustStyle(n){return bE(n)}bypassSecurityTrustScript(n){return CE(n)}bypassSecurityTrustUrl(n){return AE(n)}bypassSecurityTrustResourceUrl(n){return SE(n)}static{this.\u0275fac=function(r){return new(r||t)(U(st))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var LD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},VD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new cm;let g=s<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},E1=function(t){let e=LD(t);return VD.encodeByteArray(e,!0)},No=function(t){return E1(t).replace(/\./g,"")},lm=function(t){try{return VD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function T1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var D1=()=>T1().__FIREBASE_DEFAULTS__,b1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&lm(t[1]);return e&&JSON.parse(e)},zu=()=>{try{return D1()||b1()||C1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dm=t=>{var e,n;return(n=(e=zu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jD=t=>{let e=dm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hm=()=>{var t;return(t=zu())===null||t===void 0?void 0:t.config},fm=t=>{var e;return(e=zu())===null||e===void 0?void 0:e[`_${t}`]};var Hu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function UD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[No(JSON.stringify(n)),No(JSON.stringify(o)),""].join(".")}function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function A1(){var t;let e=(t=zu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $D(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zD(){let t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GD(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pm(){try{return typeof indexedDB=="object"}catch{return!1}}function WD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var S1="FirebaseError",mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}},Tn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?R1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mt(i,a,r)}};function R1(t,e){return t.replace(N1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var N1=/\{\$([^}]+)}/g;function KD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(FD(s)&&FD(o)){if(!zr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function FD(t){return t!==null&&typeof t=="object"}function Po(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qi(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QD(t,e){let n=new um(t,e);return n.subscribe.bind(n)}var um=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=am),i.error===void 0&&(i.error=am),i.complete===void 0&&(i.complete=am);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function P1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function am(){}var Q9=4*60*60*1e3;function be(t){return t&&t._delegate?t._delegate:t}var Dt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Gr="[DEFAULT]";var mm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Hu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M1(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function x1(t){return t===Gr?void 0:t}function M1(t){return t.instantiationMode==="EAGER"}var Gu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new mm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var O1=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),k1={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},F1=se.INFO,L1={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},V1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=L1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},tr=class{constructor(e){this.name=e,this._logLevel=F1,this._logHandler=V1,this._userLogHandler=null,O1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var j1=(t,e)=>e.some(n=>t instanceof n),YD,JD;function U1(){return YD||(YD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return JD||(JD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XD=new WeakMap,ym=new WeakMap,ZD=new WeakMap,gm=new WeakMap,_m=new WeakMap;function $1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XD.set(n,t)}).catch(()=>{}),_m.set(e,t),e}function q1(t){if(ym.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ym.set(t,e)}var vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eb(t){vm=t(vm)}function H1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Wu(this),e,...n);return ZD.set(r,e.sort?e.sort():[e]),Wt(r)}:B1().includes(t)?function(...e){return t.apply(Wu(this),e),Wt(XD.get(this))}:function(...e){return Wt(t.apply(Wu(this),e))}}function z1(t){return typeof t=="function"?H1(t):(t instanceof IDBTransaction&&q1(t),j1(t,U1())?new Proxy(t,vm):t)}function Wt(t){if(t instanceof IDBRequest)return $1(t);if(gm.has(t))return gm.get(t);let e=z1(t);return e!==t&&(gm.set(t,e),_m.set(e,t)),e}var Wu=t=>_m.get(t);function nb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Wt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wt(o.result),u.oldVersion,u.newVersion,Wt(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var G1=["get","getKey","getAll","getAllKeys","count"],W1=["put","add","delete","clear"],Im=new Map;function tb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=W1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G1.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Im.set(e,s),s}eb(t=>vt(tt({},t),{get:(e,n,r)=>tb(e,n)||t.get(e,n,r),has:(e,n)=>!!tb(e,n)||t.has(e,n)}));var Em=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function K1(t){let e=t.getComponent();return e?.type==="VERSION"}var Tm="@firebase/app",rb="0.10.13";var Dn=new tr("@firebase/app"),Q1="@firebase/app-compat",Y1="@firebase/analytics-compat",J1="@firebase/analytics",X1="@firebase/app-check-compat",Z1="@firebase/app-check",eF="@firebase/auth",tF="@firebase/auth-compat",nF="@firebase/database",rF="@firebase/data-connect",iF="@firebase/database-compat",sF="@firebase/functions",oF="@firebase/functions-compat",aF="@firebase/installations",cF="@firebase/installations-compat",uF="@firebase/messaging",lF="@firebase/messaging-compat",dF="@firebase/performance",hF="@firebase/performance-compat",fF="@firebase/remote-config",pF="@firebase/remote-config-compat",mF="@firebase/storage",gF="@firebase/storage-compat",yF="@firebase/firestore",vF="@firebase/vertexai-preview",_F="@firebase/firestore-compat",IF="firebase",wF="10.14.1";var Dm="[DEFAULT]",EF={[Tm]:"fire-core",[Q1]:"fire-core-compat",[J1]:"fire-analytics",[Y1]:"fire-analytics-compat",[Z1]:"fire-app-check",[X1]:"fire-app-check-compat",[eF]:"fire-auth",[tF]:"fire-auth-compat",[nF]:"fire-rtdb",[rF]:"fire-data-connect",[iF]:"fire-rtdb-compat",[sF]:"fire-fn",[oF]:"fire-fn-compat",[aF]:"fire-iid",[cF]:"fire-iid-compat",[uF]:"fire-fcm",[lF]:"fire-fcm-compat",[dF]:"fire-perf",[hF]:"fire-perf-compat",[fF]:"fire-rc",[pF]:"fire-rc-compat",[mF]:"fire-gcs",[gF]:"fire-gcs-compat",[yF]:"fire-fst",[_F]:"fire-fst-compat",[vF]:"fire-vertex","fire-js":"fire-js",[IF]:"fire-js-all"};var xo=new Map,TF=new Map,bm=new Map;function ib(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rr(t){let e=t.name;if(bm.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,t);for(let n of xo.values())ib(n,t);for(let n of TF.values())ib(n,t);return!0}function Oo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t.settings!==void 0}var DF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Tn("app","Firebase",DF);var Cm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}};var ir=wF;function Rm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw nr.create("bad-app-name",{appName:String(i)});if(n||(n=hm()),!n)throw nr.create("no-options");let s=xo.get(i);if(s){if(zr(n,s.options)&&zr(r,s.config))return s;throw nr.create("duplicate-app",{appName:i})}let o=new Gu(i);for(let u of bm.values())o.addComponent(u);let a=new Cm(n,r,o);return xo.set(i,a),a}function Ji(t=Dm){let e=xo.get(t);if(!e&&t===Dm&&hm())return Rm();if(!e)throw nr.create("no-app",{appName:t});return e}function Ku(){return Array.from(xo.values())}function Oe(t,e,n){var r;let i=(r=EF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(a.join(" "));return}rr(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bF="firebase-heartbeat-database",CF=1,Mo="firebase-heartbeat-store",wm=null;function cb(){return wm||(wm=nb(bF,CF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mo)}catch(n){console.warn(n)}}}}).catch(t=>{throw nr.create("idb-open",{originalErrorMessage:t.message})})),wm}function AF(t){return w(this,null,function*(){try{let n=(yield cb()).transaction(Mo),r=yield n.objectStore(Mo).get(ub(t));return yield n.done,r}catch(e){if(e instanceof mt)Dn.warn(e.message);else{let n=nr.create("idb-get",{originalErrorMessage:e?.message});Dn.warn(n.message)}}})}function sb(t,e){return w(this,null,function*(){try{let r=(yield cb()).transaction(Mo,"readwrite");yield r.objectStore(Mo).put(e,ub(t)),yield r.done}catch(n){if(n instanceof mt)Dn.warn(n.message);else{let r=nr.create("idb-set",{originalErrorMessage:n?.message});Dn.warn(r.message)}}})}function ub(t){return`${t.name}!${t.options.appId}`}var SF=1024,RF=30*24*60*60*1e3,Am=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Sm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ob();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=RF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ob(),{heartbeatsToSend:r,unsentEntries:i}=NF(this._heartbeatsCache.heartbeats),s=No(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dn.warn(n),""}})}};function ob(){return new Date().toISOString().substring(0,10)}function NF(t,e=SF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ab(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ab(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Sm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return pm()?WD().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield AF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ab(t){return No(JSON.stringify({version:2,heartbeats:t})).length}function PF(t){rr(new Dt("platform-logger",e=>new Em(e),"PRIVATE")),rr(new Dt("heartbeat",e=>new Am(e),"PRIVATE")),Oe(Tm,rb,t),Oe(Tm,rb,"esm2017"),Oe("fire-js","")}PF("");function Ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Sb=Ab,Rb=new Tn("auth","Firebase",Ab());var el=new tr("@firebase/auth");function xF(t,...e){el.logLevel<=se.WARN&&el.warn(`Auth (${ir}): ${t}`,...e)}function Yu(t,...e){el.logLevel<=se.ERROR&&el.error(`Auth (${ir}): ${t}`,...e)}function Yt(t,...e){throw Jm(t,...e)}function Wr(t,...e){return Jm(t,...e)}function Nb(t,e,n){let r=Object.assign(Object.assign({},Sb()),{[e]:n});return new Tn("auth","Firebase",r).create(e,{appName:t.name})}function or(t){return Nb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Rb.create(t,...e)}function H(t,e,...n){if(!t)throw Jm(e,...n)}function bn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yu(e),new Error(e)}function ar(t,e){t||bn(e)}function Mm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MF(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function OF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MF()||qD()||"connection"in navigator)?navigator.onLine:!0}function kF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Kr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=BD()||HD()}get(){return OF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Xm(t,e){ar(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var tl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var FF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var LF=new Kr(3e4,6e4);function Yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function cr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return Pb(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Po(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return $D()||(y.referrerPolicy="no-referrer"),tl.fetch()(xb(t,t.config.apiHost,n,p),y)}))})}function Pb(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},FF),e);try{let i=new Om(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Qu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Qu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Qu(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Nb(t,h,l);Yt(t,h)}}catch(i){if(i instanceof mt)throw i;Yt(t,"network-request-failed",{message:String(i)})}})}function dl(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield cr(t,e,n,r,i);return"mfaPendingCredential"in l&&Yt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function xb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Xm(t.config,i):`${t.config.apiScheme}://${i}`}function VF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Om=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),LF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Qu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Wr(t,e,r);return i.customData._tokenResponse=n,i}function db(t){return t!==void 0&&t.enterprise!==void 0}var km=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function jF(t,e){return w(this,null,function*(){return cr(t,"GET","/v2/recaptchaConfig",Yr(t,e))})}function UF(t,e){return w(this,null,function*(){return cr(t,"POST","/v1/accounts:delete",e)})}function Mb(t,e){return w(this,null,function*(){return cr(t,"POST","/v1/accounts:lookup",e)})}function ko(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Zm(t,e=!1){return w(this,null,function*(){let n=be(t),r=yield n.getIdToken(e),i=eg(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ko(Nm(i.auth_time)),issuedAtTime:ko(Nm(i.iat)),expirationTime:ko(Nm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Nm(t){return Number(t)*1e3}function eg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{let i=lm(n);return i?JSON.parse(i):(Yu("Failed to decode base64 JWT payload"),null)}catch(i){return Yu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hb(t){let e=eg(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Lo(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof mt&&BF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function BF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Fm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Vo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ko(this.lastLoginAt),this.creationTime=ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Lo(t,Mb(n,{idToken:r}));H(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ob(s.providerUserInfo):[],a=$F(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vo(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function tg(t){return w(this,null,function*(){let e=be(t);yield nl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $F(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ob(t){return t.map(e=>{var{providerId:n}=e,r=nh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qF(t,e){return w(this,null,function*(){let n=yield Pb(t,{},()=>w(this,null,function*(){let r=Po({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xb(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HF(t,e){return w(this,null,function*(){return cr(t,"POST","/v2/accounts:revokeToken",Yr(t,e))})}var Fo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){H(e.length!==0,"internal-error");let n=hb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(H(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield qF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return bn("not implemented")}};function sr(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Xi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=nh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Lo(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Zm(this,e)}reload(){return tg(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield nl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Kt(this.auth.app))return Promise.reject(or(this.auth));let e=yield this.getIdToken();return yield Lo(this,UF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,M=(l=n.createdAt)!==null&&l!==void 0?l:void 0,V=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:F,emailVerified:W,isAnonymous:le,providerData:q,stsTokenManager:T}=n;H(F&&T,e,"internal-error");let v=Fo.fromJSON(this.name,T);H(typeof F=="string",e,"internal-error"),sr(p,e.name),sr(g,e.name),H(typeof W=="boolean",e,"internal-error"),H(typeof le=="boolean",e,"internal-error"),sr(y,e.name),sr(C,e.name),sr(N,e.name),sr(R,e.name),sr(M,e.name),sr(V,e.name);let _=new t({uid:F,auth:e,email:g,emailVerified:W,displayName:p,isAnonymous:le,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:M,lastLoginAt:V});return q&&Array.isArray(q)&&(_.providerData=q.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Fo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];H(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Ob(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Fo;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var fb=new Map;function Cn(t){ar(t instanceof Function,"Expected a class definition");let e=fb.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fb.set(t,e),e)}var zF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Lm=zF;function Ju(t,e,n){return`firebase:${t}:${e}:${n}`}var rl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ju(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ju("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Xi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Cn(Lm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Cn(Lm),o=Ju(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Xi._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function pb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ub(e))return"Blackberry";if(Bb(e))return"Webos";if(Fb(e))return"Safari";if((e.includes("chrome/")||Lb(e))&&!e.includes("edge/"))return"Chrome";if(jb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function kb(t=Fe()){return/firefox\//i.test(t)}function Fb(t=Fe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(t=Fe()){return/crios\//i.test(t)}function Vb(t=Fe()){return/iemobile/i.test(t)}function jb(t=Fe()){return/android/i.test(t)}function Ub(t=Fe()){return/blackberry/i.test(t)}function Bb(t=Fe()){return/webos/i.test(t)}function ng(t=Fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GF(t=Fe()){var e;return ng(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WF(){return zD()&&document.documentMode===10}function $b(t=Fe()){return ng(t)||jb(t)||Bb(t)||Ub(t)||/windows phone/i.test(t)||Vb(t)}function qb(t,e=[]){let n;switch(t){case"Browser":n=pb(Fe());break;case"Worker":n=`${pb(Fe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ir}/${r}`}var Vm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function KF(n){return w(this,arguments,function*(t,e={}){return cr(t,"GET","/v2/passwordPolicy",Yr(t,e))})}var QF=6,jm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:QF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Um=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new il(this),this.idTokenSubscription=new il(this),this.beforeStateQueue=new Vm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield rl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield Mb(this,{idToken:e}),r=yield Xi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Kt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield nl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=kF()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Kt(this.app))return Promise.reject(or(this));let n=e?be(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Kt(this.app)?Promise.reject(or(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kt(this.app)?Promise.reject(or(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Cn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield KF(this),n=new jm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Cn(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=yield rl.create(this,[Cn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Zi(t){return be(t)}var il=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QD(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var hl={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YF(t){hl=t}function Hb(t){return hl.loadJS(t)}function JF(){return hl.recaptchaEnterpriseScript}function XF(){return hl.gapiScript}function zb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var ZF="recaptcha-enterprise",eL="NO_RECAPTCHA",Bm=class{constructor(e){this.type=ZF,this.auth=Zi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){jF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new km(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;db(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(eL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&db(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JF();u.length!==0&&(u+=a),Hb(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function mb(t,e,n,r=!1){return w(this,null,function*(){let i=new Bm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function gb(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield mb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield mb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function rg(t,e){let n=Oo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(zr(s,e??{}))return i;Yt(i,"already-initialized")}return n.initialize({options:e})}function tL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Cn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ig(t,e,n){let r=Zi(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=Gb(e),{host:o,port:a}=nL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||rL()}function Gb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nL(t){let e=Gb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:yb(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:yb(o)}}}function yb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function rL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var jo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}};function iL(t,e){return w(this,null,function*(){return cr(t,"POST","/v1/accounts:signUp",e)})}function sL(t,e){return w(this,null,function*(){return dl(t,"POST","/v1/accounts:signInWithPassword",Yr(t,e))})}function oL(t,e){return w(this,null,function*(){return dl(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))})}function aL(t,e){return w(this,null,function*(){return dl(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))})}var Uo=class t extends jo{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(e,n,"signInWithPassword",sL);case"emailLink":return oL(e,{email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(e,r,"signUpPassword",iL);case"emailLink":return aL(e,{idToken:n,email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Pm(t,e){return w(this,null,function*(){return dl(t,"POST","/v1/accounts:signInWithIdp",Yr(t,e))})}function cL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uL(t){let e=Qi(Yi(t)).link,n=e?Qi(Yi(e)).deep_link_id:null,r=Qi(Yi(t)).deep_link_id;return(r?Qi(Yi(r)).link:null)||r||n||e||t}var sl=class t{constructor(e){var n,r,i,s,o,a;let u=Qi(Yi(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=cL((i=u.mode)!==null&&i!==void 0?i:null);H(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=uL(e);try{return new t(n)}catch{return null}}};var Wb=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Uo._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=sl.parseLink(r);return H(i,"argument-error"),Uo._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),ol=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $m=class extends ol{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Bo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Xi._fromIdTokenResponse(e,r,i),o=vb(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=vb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function vb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var qm=class t extends mt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Kb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qm._fromErrorAndOperation(t,s,e,r):s})}function lL(t,e,n=!1){return w(this,null,function*(){let r=yield Lo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Bo._forOperation(t,"link",r)})}function dL(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Kt(r.app))return Promise.reject(or(r));let i="reauthenticate";try{let s=yield Lo(t,Kb(r,i,e,t),n);H(s.idToken,r,"internal-error");let o=eg(s.idToken);H(o,r,"internal-error");let{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),Bo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Yt(r,"user-mismatch"),s}})}function Qb(t,e,n=!1){return w(this,null,function*(){if(Kt(t.app))return Promise.reject(or(t));let r="signIn",i=yield Kb(t,r,e),s=yield Bo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function sg(t,e){return w(this,null,function*(){return Qb(Zi(t),e)})}function hL(t){return w(this,null,function*(){let e=Zi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Yb(t,e,n){return Kt(t.app)?Promise.reject(or(t)):sg(be(t),Wb.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&hL(t),r}))}function og(t,e,n,r){return be(t).onIdTokenChanged(e,n,r)}function ag(t,e,n){return be(t).beforeAuthStateChanged(e,n)}var al="__sak";var cl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(al,"1"),this.storage.removeItem(al),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var fL=1e3,pL=10,mL=(()=>{class t extends cl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$b(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);WF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,pL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},fL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Fn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Fn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Fn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Jb=mL;var gL=(()=>{class t extends cl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),cg=gL;function yL(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var vL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield yL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Xb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Hm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=Xb("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Qt(){return window}function _L(t){Qt().location.href=t}function Zb(){return typeof Qt().WorkerGlobalScope<"u"&&typeof Qt().importScripts=="function"}function IL(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function wL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EL(){return Zb()?self:null}var e0="firebaseLocalStorageDb",TL=1,ul="firebaseLocalStorage",t0="fbase_key",Qr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function fl(t,e){return t.transaction([ul],e?"readwrite":"readonly").objectStore(ul)}function DL(){let t=indexedDB.deleteDatabase(e0);return new Qr(t).toPromise()}function zm(){let t=indexedDB.open(e0,TL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ul,{keyPath:t0})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ul)?e(r):(r.close(),yield DL(),e(yield zm()))}))})}function _b(t,e,n){return w(this,null,function*(){let r=fl(t,!0).put({[t0]:e,value:n});return new Qr(r).toPromise()})}function bL(t,e){return w(this,null,function*(){let n=fl(t,!1).get(e),r=yield new Qr(n).toPromise();return r===void 0?null:r.value})}function Ib(t,e){let n=fl(t,!0).delete(e);return new Qr(n).toPromise()}var CL=800,AL=3,SL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield zm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>AL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Zb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=vL._getInstance(EL()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield IL(),!this.activeServiceWorker)return;this.sender=new Hm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||wL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield zm();return yield _b(n,al,"1"),yield Ib(n,al),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>_b(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>bL(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>Ib(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=fl(s,!1).getAll();return new Qr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),n0=SL;var E3=zb("rcb"),T3=new Kr(3e4,6e4);function RL(t,e){return e?Cn(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var $o=class extends jo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function NL(t){return Qb(t.auth,new $o(t),t.bypassAuthState)}function PL(t){let{auth:e,user:n}=t;return H(n,e,"internal-error"),dL(n,new $o(t),t.bypassAuthState)}function xL(t){return w(this,null,function*(){let{auth:e,user:n}=t;return H(n,e,"internal-error"),lL(n,new $o(t),t.bypassAuthState)})}var Gm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NL;case"linkViaPopup":case"linkViaRedirect":return xL;case"reauthViaPopup":case"reauthViaRedirect":return PL;default:Yt(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var D3=new Kr(2e3,1e4);var ML="pendingRedirect",Xu=new Map,Wm=class t extends Gm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Xu.get(this.auth._key());if(!e){try{let r=(yield OL(this.resolver,this.auth))?yield Fn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Fn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Fn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function OL(t,e){return w(this,null,function*(){let n=LL(e),r=FL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function kL(t,e){Xu.set(t._key(),e)}function FL(t){return Cn(t._redirectPersistence)}function LL(t){return Ju(ML,t.config.apiKey,t.name)}function VL(t,e,n=!1){return w(this,null,function*(){if(Kt(t.app))return Promise.reject(or(t));let r=Zi(t),i=RL(r,e),o=yield new Wm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var jL=10*60*1e3,Km=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!r0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jL&&this.cachedEventUids.clear(),this.cachedEventUids.has(wb(e))}saveEventToCache(e){this.cachedEventUids.add(wb(e)),this.lastProcessedEventTime=Date.now()}};function wb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r0(t);default:return!1}}function BL(n){return w(this,arguments,function*(t,e={}){return cr(t,"GET","/v1/projects",e)})}var $L=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qL=/^https?/;function HL(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield BL(t);for(let n of e)try{if(zL(n))return}catch{}Yt(t,"unauthorized-domain")})}function zL(t){let e=Mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qL.test(n))return!1;if($L.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var GL=new Kr(3e4,6e4);function Eb(){let t=Qt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WL(t){return new Promise((e,n)=>{var r,i,s;function o(){Eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Eb(),n(Wr(t,"network-request-failed"))},timeout:GL.get()})}if(!((i=(r=Qt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qt().gapi)===null||s===void 0)&&s.load)o();else{let a=zb("iframefcb");return Qt()[a]=()=>{gapi.load?o():n(Wr(t,"network-request-failed"))},Hb(`${XF()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Zu=null,e})}var Zu=null;function KL(t){return Zu=Zu||WL(t),Zu}var QL=new Kr(5e3,15e3),YL="__/auth/iframe",JL="emulator/auth/iframe",XL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eV(t){let e=t.config;H(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Xm(e,JL):`https://${t.config.authDomain}/${YL}`,r={apiKey:e.apiKey,appName:t.name,v:ir},i=ZL.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Po(r).slice(1)}`}function tV(t){return w(this,null,function*(){let e=yield KL(t),n=Qt().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:eV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XL,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Wr(t,"network-request-failed"),a=Qt().setTimeout(()=>{s(o)},QL.get());function u(){Qt().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var nV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rV=500,iV=600,sV="_blank",oV="http://localhost",ll=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function aV(t,e,n,r=rV,i=iV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},nV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Fe().toLowerCase();n&&(a=Lb(l)?sV:n),kb(l)&&(e=e||oV,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,C])=>`${g}${y}=${C},`,"");if(GF(l)&&a!=="_self")return cV(e||"",a),new ll(null);let p=window.open(e||"",a,h);H(p,t,"popup-blocked");try{p.focus()}catch{}return new ll(p)}function cV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var uV="__/auth/handler",lV="emulator/auth/handler",dV=encodeURIComponent("fac");function Tb(t,e,n,r,i,s){return w(this,null,function*(){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ir,eventId:i};if(e instanceof ol){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof $m){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${dV}=${encodeURIComponent(u)}`:"";return`${hV(t)}?${Po(a).slice(1)}${l}`})}function hV({config:t}){return t.emulator?Xm(t,lV):`https://${t.authDomain}/${uV}`}var xm="webStorageSupport",Qm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cg,this._completeRedirectFn=VL,this._overrideRedirectResult=kL}_openPopup(e,n,r,i){return w(this,null,function*(){var s;ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Tb(e,n,r,Mm(),i);return aV(e,o,Xb())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield Tb(e,n,r,Mm(),i);return _L(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ar(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield tV(e),r=new Km(e);return n.register("authEvent",i=>(H(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[xm];o!==void 0&&n(!!o),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $b()||Fb()||ng()}},i0=Qm;var Db="@firebase/auth",bb="1.7.9";var Ym=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function fV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pV(t){rr(new Dt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qb(t)},l=new Um(r,i,s,u);return tL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rr(new Dt("auth-internal",e=>{let n=Zi(e.getProvider("auth").getImmediate());return(r=>new Ym(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(Db,bb,fV(t)),Oe(Db,bb,"esm2017")}var mV=5*60,gV=fm("authIdTokenMaxAge")||mV,Cb=null,yV=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gV)return;let i=n?.token;Cb!==i&&(Cb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ug(t=Ji()){let e=Oo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=rg(t,{popupRedirectResolver:i0,persistence:[n0,Jb,cg]}),r=fm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=yV(s.toString());ag(n,o,()=>o(n.currentUser)),og(n,a=>o(a))}}let i=dm("auth");return i&&ig(n,`http://${i}`),n}function vV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pV("Browser");var l2="firebase",d2="10.14.1";Oe(l2,d2,"app");var Xr=new Vr("ANGULARFIRE2_VERSION");function ml(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var qo=(t,e)=>{let n=e?[e]:Ku(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ts=class{constructor(){return qo(h2)}},h2="app-check";function es(){}var pl=class{zone;delegate;constructor(e,n=th){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},lg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es)),n.pipe(ac({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ns=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pl(Zone.current)),this.insideAngular=n.run(()=>new pl(Zone.current,eh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(U(fe))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function f2(t){return gl().ngZone.runOutsideAngular(()=>t())}function Jr(t){return gl().ngZone.run(()=>t())}function p2(t){return m2(gl())(t)}function m2(t){return function(n){return n=n.lift(new lg(t.ngZone)),n.pipe(Bn(t.outsideAngular),Un(t.insideAngular))}}var g2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Jr(()=>t.apply(void 0,r))},Be=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Jr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es))),r[s]=g2(r[s],n));let i=f2(()=>t.apply(this,r));if(!e)if(i instanceof ne){let s=gl();return i.pipe(Bn(s.outsideAngular),Un(s.insideAngular))}else return Jr(()=>i);return i instanceof ne?i.pipe(p2):i instanceof Promise?Jr(()=>new Promise((s,o)=>i.then(a=>Jr(()=>s(a)),a=>Jr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Jr(()=>i)};var An=class{constructor(e){return e}},Zr=class{constructor(){return Ku()}};function y2(t){return t&&t.length===1?t[0]:new An(Ji())}var dg=new G("angularfire2._apps"),v2={provide:An,useFactory:y2,deps:[[new it,dg]]},_2={provide:Zr,deps:[[new it,dg]]};function I2(t){return(e,n)=>{let r=n.get(Et);Oe("angularfire",Xr.full,"core"),Oe("angularfire",Xr.full,"app"),Oe("angular",WT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new An(i)}}function _W(t,...e){return zt([v2,_2,{provide:dg,useFactory:I2(t),multi:!0,deps:[fe,wt,ns,...e]}])}var IW=Be(Rm,!0);var s0="auth",Ho=class{constructor(e){return e}},zo=class{constructor(){return qo(s0)}};var hg=new G("angularfire2.auth-instances");function w2(t,e){let n=ml(s0,t,e);return n&&new Ho(n)}function E2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ho(r)}}var T2={provide:zo,deps:[[new it,hg]]},D2={provide:Ho,useFactory:w2,deps:[[new it,hg],An]};function RW(t,...e){return Oe("angularfire",Xr.full,"auth"),zt([D2,T2,{provide:hg,useFactory:E2(t),multi:!0,deps:[fe,wt,ns,Zr,[new it,ts],...e]}])}var NW=Be(ug,!0);var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a0={};var ur,fg;(function(){var t;function e(T,v){function _(){}_.prototype=v.prototype,T.D=v.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(E,D,A){for(var I=Array(arguments.length-2),on=2;on<arguments.length;on++)I[on-2]=arguments[on];return v.prototype[D].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)E[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)E[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=T.g[0],_=T.g[1],D=T.g[2];var A=T.g[3],I=v+(A^_&(D^A))+E[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+E[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+E[2]+606105819&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+E[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+E[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+E[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+E[6]+2821735955&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+E[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+E[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+E[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+E[10]+4294925233&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+E[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+E[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+E[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+E[14]+2792965006&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+E[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(D^A&(_^D))+E[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+E[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+E[11]+643717713&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+E[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+E[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+E[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+E[15]+3634488961&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+E[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+E[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+E[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+E[3]+4107603335&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+E[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+E[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+E[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+E[7]+1735328473&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+E[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(_^D^A)+E[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+E[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+E[11]+1839030562&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+E[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+E[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+E[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+E[7]+4139469664&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+E[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+E[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+E[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+E[3]+3572445317&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+E[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+E[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+E[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+E[15]+530742520&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+E[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(D^(_|~A))+E[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+E[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+E[14]+2878612391&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+E[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+E[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+E[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+E[10]+4293915773&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+E[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+E[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+E[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+E[6]+2734768916&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+E[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+E[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+E[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+E[2]+718787259&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var _=v-this.blockSize,E=this.B,D=this.h,A=0;A<v;){if(D==0)for(;A<=_;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<v;)if(E[D++]=T.charCodeAt(A++),D==this.blockSize){i(this,E),D=0;break}}else for(;A<v;)if(E[D++]=T[A++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var _=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=_&255,_/=256;for(this.u(T),T=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)T[_++]=this.g[v]>>>E&255;return T};function s(T,v){var _=a;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=v(T)}function o(T,v){this.h=v;for(var _=[],E=!0,D=T.length-1;0<=D;D--){var A=T[D]|0;E&&A==v||(_[D]=A,E=!1)}this.g=_}var a={};function u(T){return-128<=T&&128>T?s(T,function(v){return new o([v|0],0>v?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],_=1,E=0;T>=_;E++)v[E]=T/_|0,_*=4294967296;return new o(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),E=p,D=0;D<T.length;D+=8){var A=Math.min(8,T.length-D),I=parseInt(T.substring(D,D+A),v);8>A?(A=l(Math.pow(v,A)),E=E.j(A).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),g=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);T+=(0<=E?E:4294967296+E)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),_=this,E="";;){var D=W(_,v).g;_=M(_,D.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=D,C(_))return A+E;for(;6>A.length;)A="0"+A;E=A+E}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=M(this,T),N(T)?-1:C(T)?0:1};function R(T){for(var v=T.g.length,_=[],E=0;E<v;E++)_[E]=~T.g[E];return new o(_,~T.h).add(g)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),_=[],E=0,D=0;D<=v;D++){var A=E+(this.i(D)&65535)+(T.i(D)&65535),I=(A>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);E=I>>>16,A&=65535,I&=65535,_[D]=I<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function M(T,v){return T.add(R(v))}t.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<T.g.length;D++){var A=this.i(E)>>>16,I=this.i(E)&65535,on=T.i(D)>>>16,Ds=T.i(D)&65535;_[2*E+2*D]+=I*Ds,V(_,2*E+2*D),_[2*E+2*D+1]+=A*Ds,V(_,2*E+2*D+1),_[2*E+2*D+1]+=I*on,V(_,2*E+2*D+1),_[2*E+2*D+2]+=A*on,V(_,2*E+2*D+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new o(_,0)};function V(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function F(T,v){this.g=T,this.h=v}function W(T,v){if(C(v))throw Error("division by zero");if(C(T))return new F(p,p);if(N(T))return v=W(R(T),v),new F(R(v.g),R(v.h));if(N(v))return v=W(T,R(v)),new F(R(v.g),v.h);if(30<T.g.length){if(N(T)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,E=v;0>=E.l(T);)_=le(_),E=le(E);var D=q(_,1),A=q(E,1);for(E=q(E,2),_=q(_,2);!C(E);){var I=A.add(E);0>=I.l(T)&&(D=D.add(_),A=I),E=q(E,1),_=q(_,1)}return v=M(T,D.j(v)),new F(D,v)}for(D=p;0<=T.l(v);){for(_=Math.max(1,Math.floor(T.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),A=l(_),I=A.j(v);N(I)||0<I.l(T);)_-=E,A=l(_),I=A.j(v);C(A)&&(A=g),D=D.add(A),T=M(T,I)}return new F(D,T)}t.A=function(T){return W(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&T.i(E);return new o(_,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|T.i(E);return new o(_,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^T.i(E);return new o(_,this.h^T.h)};function le(T){for(var v=T.g.length+1,_=[],E=0;E<v;E++)_[E]=T.i(E)<<1|T.i(E-1)>>>31;return new o(_,T.h)}function q(T,v){var _=v>>5;v%=32;for(var E=T.g.length-_,D=[],A=0;A<E;A++)D[A]=0<v?T.i(A+_)>>>v|T.i(A+_+1)<<32-v:T.i(A+_);return new o(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fg=a0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,ur=a0.Integer=o}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sn={};var pg,b2,rs,mg,Go,vl,gg,yg,vg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yl=="object"&&yl];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,m=!1,b={next:function(){if(!m&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,b,S){for(var O=Array(arguments.length-2),me=2;me<arguments.length;me++)O[me-2]=arguments[me];return d.prototype[b].apply(m,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=c.length||0,S=m.length||0;c.length=b+S;for(let O=0;O<S;O++)c[b+O]=m[O]}else c.push(m)}}class M{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var le=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function q(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=gd;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class on{constructor(){this.h=this.g=null}add(d,f){let m=Ds.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ds=new M(()=>new lA,c=>c.reset());class lA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let bs,Cs=!1,gd=new on,Av=()=>{let c=a.Promise.resolve(void 0);bs=()=>{c.then(dA)}};var dA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=Ds;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Cs=!1};function xn(){this.s=this.s,this.C=this.C}xn.prototype.s=!1,xn.prototype.ma=function(){this.s||(this.s=!0,this.N())},xn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var hA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function As(c,d){if(qe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(le){e:{try{W(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&As.aa.h.call(this)}}C(As,qe);var fA={2:"touch",3:"pen",4:"mouse"};As.prototype.h=function(){As.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),pA=0;function mA(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++pA,this.da=this.fa=!1}function ya(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function va(c){this.src=c,this.g={},this.h=0}va.prototype.add=function(c,d,f,m,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var O=vd(c,d,m,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new mA(d,this.src,S,!!m,b),d.fa=f,c.push(d)),d};function yd(c,d){var f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(m,b,1),S&&(ya(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function vd(c,d,f,m){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==m)return b}return-1}var _d="closure_lm_"+(1e6*Math.random()|0),Id={};function Sv(c,d,f,m,b){if(m&&m.once)return Nv(c,d,f,m,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Sv(c,d[S],f,m,b);return null}return f=Dd(f),c&&c[Ss]?c.K(d,f,l(m)?!!m.capture:!!m,b):Rv(c,d,f,!1,m,b)}function Rv(c,d,f,m,b,S){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,me=Ed(c);if(me||(c[_d]=me=new va(c)),f=me.add(d,f,m,O,S),f.proxy)return f;if(m=gA(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)hA||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(xv(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gA(){function c(f){return d.call(c.src,c.listener,f)}let d=yA;return c}function Nv(c,d,f,m,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Nv(c,d[S],f,m,b);return null}return f=Dd(f),c&&c[Ss]?c.L(d,f,l(m)?!!m.capture:!!m,b):Rv(c,d,f,!0,m,b)}function Pv(c,d,f,m,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)Pv(c,d[S],f,m,b);else m=l(m)?!!m.capture:!!m,f=Dd(f),c&&c[Ss]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=vd(S,f,m,b),-1<f&&(ya(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=Ed(c))&&(d=c.g[d.toString()],c=-1,d&&(c=vd(d,f,m,b)),(f=-1<c?d[c]:null)&&wd(f))}function wd(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ss])yd(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(xv(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Ed(d))?(yd(f,c),f.h==0&&(f.src=null,d[_d]=null)):ya(c)}}}function xv(c){return c in Id?Id[c]:Id[c]="on"+c}function yA(c,d){if(c.da)c=!0;else{d=new As(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&wd(c),c=f.call(m,d)}return c}function Ed(c){return c=c[_d],c instanceof va?c:null}var Td="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dd(c){return typeof c=="function"?c:(c[Td]||(c[Td]=function(d){return c.handleEvent(d)}),c[Td])}function He(){xn.call(this),this.i=new va(this),this.M=this,this.F=null}C(He,xn),He.prototype[Ss]=!0,He.prototype.removeEventListener=function(c,d,f,m){Pv(this,c,d,f,m)};function Ze(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new qe(d,c);else if(d instanceof qe)d.target=d.target||c;else{var b=d;d=new qe(m,c),E(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];b=_a(O,m,!0,d)&&b}if(O=d.g=c,b=_a(O,m,!0,d)&&b,b=_a(O,m,!1,d)&&b,f)for(S=0;S<f.length;S++)O=d.g=f[S],b=_a(O,m,!1,d)&&b}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)ya(f[m]);delete c.g[d],c.h--}}this.F=null},He.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},He.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function _a(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var me=O.listener,Ve=O.ha||O.src;O.fa&&yd(c.i,O),b=me.call(Ve,m)!==!1&&b}}return b&&!m.defaultPrevented}function Mv(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Ov(c){c.g=Mv(()=>{c.g=null,c.i&&(c.i=!1,Ov(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class vA extends xn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ov(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){xn.call(this),this.h=c,this.g={}}C(Rs,xn);var kv=[];function Fv(c){q(c.g,function(d,f){this.g.hasOwnProperty(f)&&wd(d)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Fv(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bd=a.JSON.stringify,_A=a.JSON.parse,IA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Cd(){}Cd.prototype.h=null;function Lv(c){return c.h||(c.h=c.i())}function Vv(){}var Ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ad(){qe.call(this,"d")}C(Ad,qe);function Sd(){qe.call(this,"c")}C(Sd,qe);var mr={},jv=null;function Ia(){return jv=jv||new He}mr.La="serverreachability";function Uv(c){qe.call(this,mr.La,c)}C(Uv,qe);function Ps(c){let d=Ia();Ze(d,new Uv(d))}mr.STAT_EVENT="statevent";function Bv(c,d){qe.call(this,mr.STAT_EVENT,c),this.stat=d}C(Bv,qe);function et(c){let d=Ia();Ze(d,new Bv(d,c))}mr.Ma="timingevent";function $v(c,d){qe.call(this,mr.Ma,c),this.size=d}C($v,qe);function xs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function wA(c,d,f,m,b,S){c.info(function(){if(c.g)if(S)for(var O="",me=S.split("&"),Ve=0;Ve<me.length;Ve++){var de=me[Ve].split("=");if(1<de.length){var ze=de[0];de=de[1];var Ge=ze.split("_");O=2<=Ge.length&&Ge[1]=="type"?O+(ze+"="+de+"&"):O+(ze+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function EA(c,d,f,m,b,S,O){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+O})}function pi(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+DA(c,f)+(m?" "+m:"")})}function TA(c,d){c.info(function(){return"TIMEOUT: "+d})}Ms.prototype.info=function(){};function DA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return bd(f)}catch{return d}}var wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rd;function Ea(){}C(Ea,Cd),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},Rd=new Ea;function Mn(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hv}function Hv(){this.i=null,this.g="",this.h=!1}var zv={},Nd={};function Pd(c,d,f){c.L=1,c.v=Ca(an(d)),c.m=f,c.P=!0,Gv(c,null)}function Gv(c,d){c.F=Date.now(),Ta(c),c.A=an(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),o_(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Hv,c.g=D_(c.j,f?d:null,!c.m),0<c.O&&(c.M=new vA(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(kv[0]=b.toString()),b=kv);for(var S=0;S<b.length;S++){var O=Sv(f,b[S],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ps(),wA(c.i,c.u,c.A,c.l,c.R,c.m)}Mn.prototype.ca=function(c){c=c.target;let d=this.M;d&&cn(c)==3?d.j():this.Y(c)},Mn.prototype.Y=function(c){try{if(c==this.g)e:{let Ge=cn(this.g);var d=this.g.Ba();let yi=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||f_(this.g)))){this.J||Ge!=4||d==7||(d==8||0>=yi?Ps(3):Ps(2)),xd(this);var f=this.g.Z();this.X=f;t:if(Wv(this)){var m=f_(this.g);c="";var b=m.length,S=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),Os(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(S&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,EA(this.i,this.u,this.A,this.l,this.R,Ge,f),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Ve=this.g;if((me=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(me)){var de=me;break t}}de=null}if(f=de)pi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Md(this,f);else{this.o=!1,this.s=3,et(12),gr(this),Os(this);break e}}if(this.P){f=!0;let At;for(;!this.J&&this.C<O.length;)if(At=bA(this,O),At==Nd){Ge==4&&(this.s=4,et(14),f=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(At==zv){this.s=4,et(15),pi(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else pi(this.i,this.l,At,null),Md(this,At);if(Wv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||O.length!=0||this.h.h||(this.s=1,et(16),f=!1),this.o=this.o&&f,!f)pi(this.i,this.l,O,"[Invalid Chunked Response]"),gr(this),Os(this);else if(0<O.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),jd(ze),ze.M=!0,et(11))}}else pi(this.i,this.l,O,null),Md(this,O);Ge==4&&gr(this),this.o&&!this.J&&(Ge==4?I_(this.j,this):(this.o=!1,Ta(this)))}else $A(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),gr(this),Os(this)}}}catch{}finally{}};function Wv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bA(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Nd:(f=Number(d.substring(f,m)),isNaN(f)?zv:(m+=1,m+f>d.length?Nd:(d=d.slice(m,m+f),c.C=m+f,d)))}Mn.prototype.cancel=function(){this.J=!0,gr(this)};function Ta(c){c.S=Date.now()+c.I,Kv(c,c.I)}function Kv(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xs(g(c.ba,c),d)}function xd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Mn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(TA(this.i,this.A),this.L!=2&&(Ps(),et(17)),gr(this),this.s=2,Os(this)):Kv(this,this.S-c)};function Os(c){c.j.G==0||c.J||I_(c.j,c)}function gr(c){xd(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Fv(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Md(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Od(f.h,c))){if(!c.K&&Od(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Pa(f),Ra(f);else break e;Vd(f),et(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=xs(g(f.Za,f),6e3));if(1>=Jv(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else vr(f,11)}else if((c.K||f.g==c)&&Pa(f),!V(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let de=b[d];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];let ze=de[3];ze!=null&&(f.la=ze,f.j.info("VER="+f.la));let Ge=de[4];Ge!=null&&(f.Aa=Ge,f.j.info("SVER="+f.Aa));let yi=de[5];yi!=null&&typeof yi=="number"&&0<yi&&(m=1.5*yi,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let At=c.g;if(At){let Ma=At.g?At.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var S=m.h;S.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(kd(S,S.h),S.h=null))}if(m.D){let Ud=At.g?At.g.getResponseHeader("X-HTTP-Session-Id"):null;Ud&&(m.ya=Ud,ye(m.I,m.D,Ud))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var O=c;if(m.qa=T_(m,m.J?m.ia:null,m.W),O.K){Xv(m.h,O);var me=O,Ve=m.L;Ve&&(me.I=Ve),me.B&&(xd(me),Ta(me)),m.g=O}else v_(m);0<f.i.length&&Na(f)}else de[0]!="stop"&&de[0]!="close"||vr(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?vr(f,7):Ld(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}Ps(4)}catch{}}var CA=class{constructor(c,d){this.g=c,this.map=d}};function Qv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jv(c){return c.h?1:c.g?c.g.size:0}function Od(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function kd(c,d){c.g?c.g.add(d):c.h=d}function Xv(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Qv.prototype.cancel=function(){if(this.i=Zv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Zv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function AA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function SA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function e_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=SA(c),m=AA(c),b=m.length,S=0;S<b;S++)d.call(void 0,m[S],f&&f[S],c)}var t_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),b=null;if(0<=m){var S=c[f].substring(0,m);b=c[f].substring(m+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yr){this.h=c.h,Da(this,c.j),this.o=c.o,this.g=c.g,ba(this,c.s),this.l=c.l;var d=c.i,f=new Ls;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),n_(this,f),this.m=c.m}else c&&(d=String(c).match(t_))?(this.h=!1,Da(this,d[1]||"",!0),this.o=ks(d[2]||""),this.g=ks(d[3]||"",!0),ba(this,d[4]),this.l=ks(d[5]||"",!0),n_(this,d[6]||"",!0),this.m=ks(d[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}yr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Fs(d,r_,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Fs(d,r_,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Fs(f,f.charAt(0)=="/"?xA:PA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Fs(f,OA)),c.join("")};function an(c){return new yr(c)}function Da(c,d,f){c.j=f?ks(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ba(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function n_(c,d,f){d instanceof Ls?(c.i=d,kA(c.i,c.h)):(f||(d=Fs(d,MA)),c.i=new Ls(d,c.h))}function ye(c,d,f){c.i.set(d,f)}function Ca(c){return ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ks(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,NA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function NA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var r_=/[#\/\?@]/g,PA=/[#\?:]/g,xA=/[#\?]/g,MA=/[#\?@]/g,OA=/#/g;function Ls(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&RA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ls.prototype,t.add=function(c,d){On(this),this.i=null,c=mi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function i_(c,d){On(c),d=mi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function s_(c,d){return On(c),d=mi(c,d),c.g.has(d)}t.forEach=function(c,d){On(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)},t.na=function(){On(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=c[m];for(let S=0;S<b.length;S++)f.push(d[m])}return f},t.V=function(c){On(this);let d=[];if(typeof c=="string")s_(this,c)&&(d=d.concat(this.g.get(mi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return On(this),this.i=null,c=mi(this,c),s_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function o_(c,d,f){i_(c,d),0<f.length&&(c.i=null,c.g.set(mi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let S=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var b=S;O[m]!==""&&(b+="="+encodeURIComponent(String(O[m]))),c.push(b)}}return this.i=c.join("&")};function mi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function kA(c,d){d&&!c.j&&(On(c),c.i=null,c.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(i_(this,m),o_(this,b,f))},c)),c.j=d}function FA(c,d){let f=new Ms;if(a.Image){let m=new Image;m.onload=y(kn,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(kn,f,"TestLoadImage: error",!1,d,m),m.onabort=y(kn,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(kn,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function LA(c,d){let f=new Ms,m=new AbortController,b=setTimeout(()=>{m.abort(),kn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(S=>{clearTimeout(b),S.ok?kn(f,"TestPingServer: ok",!0,d):kn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),kn(f,"TestPingServer: error",!1,d)})}function kn(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function VA(){this.g=new IA}function jA(c,d,f){let m=f||"";try{e_(c,function(b,S){let O=b;l(b)&&(O=bd(b)),d.push(m+S+"="+encodeURIComponent(O))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Vs(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Vs,Cd),Vs.prototype.g=function(){return new Aa(this.l,this.j)},Vs.prototype.i=function(c){return function(){return c}}({});function Aa(c,d){He.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Aa,He),t=Aa.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Us(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function a_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?js(this):Us(this),this.readyState==3&&a_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,js(this))},t.Qa=function(c){this.g&&(this.response=c,js(this))},t.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Us(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Us(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function c_(c){let d="";return q(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Fd(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=c_(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ye(c,d,f))}function we(c){He.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(we,He);var UA=/^https?$/i,BA=["POST","PUT"];t=we.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rd.g(),this.v=this.o?Lv(this.o):Lv(Rd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){u_(this,S);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())f.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BA,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{h_(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){u_(this,S)}};function u_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,l_(c),Sa(c)}function l_(c){c.A||(c.A=!0,Ze(c,"complete"),Ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ze(this,"complete"),Ze(this,"abort"),Sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),we.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d_(this):this.bb())},t.bb=function(){d_(this)};function d_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||cn(c)!=4||c.Z()!=2)){if(c.u&&cn(c)==4)Mv(c.Ea,0,c);else if(Ze(c,"readystatechange"),cn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=O===0){var b=String(c.D).match(t_)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!UA.test(b?b.toLowerCase():"")}f=m}if(f)Ze(c,"complete"),Ze(c,"success");else{c.m=6;try{var S=2<cn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",l_(c)}}finally{Sa(c)}}}}function Sa(c,d){if(c.g){h_(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ze(c,"ready");try{f.onreadystatechange=m}catch{}}}function h_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),_A(d)}};function f_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $A(c){let d={};c=(c.g&&2<=cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(V(c[m]))continue;var f=D(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}T(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function p_(c){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qv(c&&c.concurrentRequestLimit),this.Da=new VA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=p_.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){et(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=T_(this,null,this.W),Na(this)};function Ld(c){if(m_(c),c.G==3){var d=c.U++,f=an(c.I);if(ye(f,"SID",c.K),ye(f,"RID",d),ye(f,"TYPE","terminate"),$s(c,f),d=new Mn(c,c.j,d),d.L=2,d.v=Ca(an(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=D_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ta(d)}E_(c)}function Ra(c){c.g&&(jd(c),c.g.cancel(),c.g=null)}function m_(c){Ra(c),c.u&&(a.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Na(c){if(!Yv(c.h)&&!c.s){c.s=!0;var d=c.Ga;bs||Av(),Cs||(bs(),Cs=!0),gd.add(d,c),c.B=0}}function qA(c,d){return Jv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xs(g(c.Ga,c,d),w_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Mn(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=y_(this,b,d),f=an(this.I),ye(f,"RID",c),ye(f,"CVER",22),this.D&&ye(f,"X-HTTP-Session-Id",this.D),$s(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(c_(S)))+"&"+d:this.m&&Fd(f,this.m,S)),kd(this.h,b),this.Ua&&ye(f,"TYPE","init"),this.P?(ye(f,"$req",d),ye(f,"SID","null"),b.T=!0,Pd(b,f,null)):Pd(b,f,d),this.G=2}}else this.G==3&&(c?g_(this,c):this.i.length==0||Yv(this.h)||g_(this))};function g_(c,d){var f;d?f=d.l:f=c.U++;let m=an(c.I);ye(m,"SID",c.K),ye(m,"RID",f),ye(m,"AID",c.T),$s(c,m),c.m&&c.o&&Fd(m,c.m,c.o),f=new Mn(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=y_(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),kd(c.h,f),Pd(f,m,d)}function $s(c,d){c.H&&q(c.H,function(f,m){ye(d,m,f)}),c.l&&e_({},function(f,m){ye(d,m,f)})}function y_(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let me=!0;for(let Ve=0;Ve<f;Ve++){let de=b[Ve].g,ze=b[Ve].map;if(de-=S,0>de)S=Math.max(0,b[Ve].g-100),me=!1;else try{jA(ze,O,"req"+de+"_")}catch{m&&m(ze)}}if(me){m=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function v_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;bs||Av(),Cs||(bs(),Cs=!0),gd.add(d,c),c.v=0}}function Vd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xs(g(c.Fa,c),w_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,__(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xs(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Ra(this),__(this))};function jd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function __(c){c.g=new Mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=an(c.qa);ye(d,"RID","rpc"),ye(d,"SID",c.K),ye(d,"AID",c.T),ye(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ye(d,"TO",c.ja),ye(d,"TYPE","xmlhttp"),$s(c,d),c.m&&c.o&&Fd(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Ca(an(d)),f.m=null,f.P=!0,Gv(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Ra(this),Vd(this),et(19))};function Pa(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function I_(c,d){var f=null;if(c.g==d){Pa(c),jd(c),c.g=null;var m=2}else if(Od(c.h,d))f=d.D,Xv(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=Ia(),Ze(m,new $v(m,f)),Na(c)}else v_(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&qA(c,d)||m==2&&Vd(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:vr(c,5);break;case 4:vr(c,10);break;case 3:vr(c,6);break;default:vr(c,2)}}}function w_(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function vr(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let b=!m;m=new yr(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Da(m,"https"),Ca(m),b?FA(m.toString(),f):LA(m.toString(),f)}else et(2);c.G=0,c.l&&c.l.sa(d),E_(c),m_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function E_(c){if(c.G=0,c.ka=[],c.l){let d=Zv(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function T_(c,d,f){var m=f instanceof yr?an(f):new yr(f);if(m.g!="")d&&(m.g=d+"."+m.g),ba(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new yr(null);m&&Da(S,m),d&&(S.g=d),b&&ba(S,b),f&&(S.l=f),m=S}return f=c.D,d=c.ya,f&&d&&ye(m,f,d),ye(m,"VER",c.la),$s(c,m),m}function D_(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new we(new Vs({eb:f})):new we(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b_(){}t=b_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xa(){}xa.prototype.g=function(c,d){return new dt(c,d)};function dt(c,d){He.call(this),this.g=new p_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!V(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new gi(this)}C(dt,He),dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dt.prototype.close=function(){Ld(this.g)},dt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=bd(c),c=f);d.i.push(new CA(d.Ya++,c)),d.G==3&&Na(d)},dt.prototype.N=function(){this.g.l=null,delete this.j,Ld(this.g),delete this.g,dt.aa.N.call(this)};function C_(c){Ad.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(C_,Ad);function A_(){Sd.call(this),this.status=1}C(A_,Sd);function gi(c){this.g=c}C(gi,b_),gi.prototype.ua=function(){Ze(this.g,"a")},gi.prototype.ta=function(c){Ze(this.g,new C_(c))},gi.prototype.sa=function(c){Ze(this.g,new A_)},gi.prototype.ra=function(){Ze(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,dt.prototype.send=dt.prototype.o,dt.prototype.open=dt.prototype.m,dt.prototype.close=dt.prototype.close,vg=Sn.createWebChannelTransport=function(){return new xa},yg=Sn.getStatEventTarget=function(){return Ia()},gg=Sn.Event=mr,vl=Sn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,Go=Sn.ErrorCode=wa,qv.COMPLETE="complete",mg=Sn.EventType=qv,Vv.EventType=Ns,Ns.OPEN="a",Ns.CLOSE="b",Ns.ERROR="c",Ns.MESSAGE="d",He.prototype.listen=He.prototype.K,rs=Sn.WebChannel=Vv,b2=Sn.FetchXmlHttpFactory=Vs,we.prototype.listenOnce=we.prototype.L,we.prototype.getLastError=we.prototype.Ka,we.prototype.getLastErrorCode=we.prototype.Ba,we.prototype.getStatus=we.prototype.Z,we.prototype.getResponseJson=we.prototype.Oa,we.prototype.getResponseText=we.prototype.oa,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Ha,pg=Sn.XhrIo=we}).apply(typeof yl<"u"?yl:typeof self<"u"?self:typeof window<"u"?window:{});var c0="@firebase/firestore";var Le=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Le.UNAUTHENTICATED=new Le(null),Le.GOOGLE_CREDENTIALS=new Le("google-credentials-uid"),Le.FIRST_PARTY=new Le("first-party-uid"),Le.MOCK_USER=new Le("mock-user");var Es="10.14.0";var ri=new tr("@firebase/firestore");function Wo(){return ri.logLevel}function L(t,...e){if(ri.logLevel<=se.DEBUG){let n=e.map(iv);ri.debug(`Firestore (${Es}): ${t}`,...n)}}function Rn(t,...e){if(ri.logLevel<=se.ERROR){let n=e.map(iv);ri.error(`Firestore (${Es}): ${t}`,...n)}}function ls(t,...e){if(ri.logLevel<=se.WARN){let n=e.map(iv);ri.warn(`Firestore (${Es}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){let e=`FIRESTORE (${Es}) INTERNAL ASSERTION FAILED: `+t;throw Rn(e),new Error(e)}function pe(t,e){t||z()}function J(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Tl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Dg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Le.UNAUTHENTICATED))}shutdown(){}},bg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Cg=class{constructor(e){this.t=e,this.currentUser=Le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new Tl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new Le(e)}},Ag=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Le.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Sg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ag(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Le.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ng=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){pe(this.o===void 0);let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new Rg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function C2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Dl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=C2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function ds(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var $e=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $e(0,0))}static max(){return new t(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var bl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ie=class t extends bl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new k(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yt=class t extends bl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return A2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new k(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new k(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new k(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ie.fromString(e))}static fromName(e){return new t(Ie.fromString(e).popFirst(5))}static empty(){return new t(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ie(e.slice()))}};var Pg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Pg.UNKNOWN_ID=-1;function S2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new ii(i,j.empty(),e)}function R2(t){return new ii(t.readTime,t.key,-1)}var ii=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),j.empty(),-1)}static max(){return new t(te.max(),j.empty(),-1)}};function N2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function da(t){return w(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==P2)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function x2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ha(t){return t.name==="IndexedDbTransactionError"}var q0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function rd(t){return t==null}function Zo(t){return t===0&&1/t==-1/0}function M2(t){return typeof t=="number"&&Number.isInteger(t)&&!Zo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var O2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HW=[...O2,"documentOverlays"],k2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],F2=k2,L2=[...F2,"indexConfiguration","indexState","indexEntries"];var zW=[...L2,"globals"];function u0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Te=class t{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new as(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new as(this.root,e,this.comparator,!1)}getReverseIterator(){return new as(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new as(this.root,e,this.comparator,!0)}},as=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zt=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class t{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cl(this.data.getIterator())}getIteratorFrom(e){return new Cl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Cl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bt=class t{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Je(yt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Al=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xe=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Al("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xe.EMPTY_BYTE_STRING=new Xe("");var V2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nn(t){if(pe(!!t),typeof t=="string"){let e=0,n=V2.exec(t);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(t.seconds),nanos:ve(t.nanos)}}function ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dr(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}function sv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ov(t){let e=t.mapValue.fields.__previous_value__;return sv(e)?ov(e):e}function ea(t){let e=Nn(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}var Mg=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Sl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var _l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sv(t)?4:G0(t)?9007199254740991:z0(t)?10:11:z()}function nn(t,e){if(t===e)return!0;let n=si(t);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ea(t).isEqual(ea(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Nn(i.timestampValue),a=Nn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return dr(i.bytesValue).isEqual(dr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ve(i.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ve(i.integerValue)===ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ve(i.doubleValue),a=ve(s.doubleValue);return o===a?Zo(o)===Zo(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ds(t.arrayValue.values||[],e.arrayValue.values||[],nn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(u0(o)!==u0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!nn(o[u],a[u])))return!1;return!0}(t,e);default:return z()}}function ta(t,e){return(t.values||[]).find(n=>nn(n,e))!==void 0}function hs(t,e){if(t===e)return 0;let n=si(t),r=si(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ve(s.integerValue||s.doubleValue),u=ve(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return l0(t.timestampValue,e.timestampValue);case 4:return l0(ea(t),ea(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){let a=dr(s),u=dr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=he(a[l],u[l]);if(h!==0)return h}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=he(ve(s.latitude),ve(o.latitude));return a!==0?a:he(ve(s.longitude),ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return d0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},g=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=g.value)===null||u===void 0?void 0:u.arrayValue,N=he(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:d0(y,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_l.mapValue&&o===_l.mapValue)return 0;if(s===_l.mapValue)return 1;if(o===_l.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=he(u[p],h[p]);if(g!==0)return g;let y=hs(a[u[p]],l[h[p]]);if(y!==0)return y}return he(u.length,h.length)}(t.mapValue,e.mapValue);default:throw z()}}function l0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Nn(t),r=Nn(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function d0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=hs(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function fs(t){return Og(t)}function Og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Og(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Og(n.fields[o])}`;return i+"}"}(t.mapValue):z()}function h0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kg(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function f0(t){return!!t&&"nullValue"in t}function p0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wl(t){return!!t&&"mapValue"in t}function z0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qo(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());wl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Qo(this.value))}};function W0(t){let e=[];return hi(t.fields,(n,r)=>{let i=new yt([n]);if(wl(r)){let s=W0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new bt(e)}var Ft=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ps=class{constructor(e,n){this.position=e,this.inclusive=n}};function m0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=hs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function g0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nn(t.position[n],e.position[n]))return!1;return!0}var oi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function j2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Rl=class{},Ne=class t extends Rl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lg(e,n,r):n==="array-contains"?new Ug(e,r):n==="in"?new Bg(e,r):n==="not-in"?new $g(e,r):n==="array-contains-any"?new qg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vg(e,r):new jg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hs(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Lt=class t extends Rl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return K0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function K0(t){return t.op==="and"}function Q0(t){return U2(t)&&K0(t)}function U2(t){for(let e of t.filters)if(e instanceof Lt)return!1;return!0}function Fg(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(Q0(t))return t.filters.map(e=>Fg(e)).join(",");{let e=t.filters.map(n=>Fg(n)).join(",");return`${t.op}(${e})`}}function Y0(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&nn(r.value,i.value)}(t,e):t instanceof Lt?function(r,i){return i instanceof Lt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Y0(o,i.filters[a]),!0):!1}(t,e):void z()}function J0(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof Lt?function(n){return n.op.toString()+" {"+n.getFilters().map(J0).join(" ,")+"}"}(t):"Filter"}var Lg=class extends Ne{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},Vg=class extends Ne{constructor(e,n){super(e,"in",n),this.keys=X0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},jg=class extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=X0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function X0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var Ug=class extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return av(n)&&ta(n.arrayValue,this.value)}},Bg=class extends Ne{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}},$g=class extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ta(this.value.arrayValue,n)}},qg=class extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ta(this.value.arrayValue,r))}};var Hg=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function y0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Hg(t,e,n,r,i,s,o)}function cv(t){let e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.ue=n}return e.ue}function uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!g0(t.startAt,e.startAt)&&g0(t.endAt,e.endAt)}function zg(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var hr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function B2(t,e,n,r,i,s,o,a){return new hr(t,e,n,r,i,s,o,a)}function id(t){return new hr(t)}function v0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z0(t){return t.collectionGroup!==null}function Yo(t){let e=J(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(yt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new oi(s,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new oi(yt.keyField(),r))}return e.ce}function en(t){let e=J(t);return e.le||(e.le=$2(e,Yo(t))),e.le}function $2(t,e){if(t.limitType==="F")return y0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new oi(i.field,s)});let n=t.endAt?new ps(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ps(t.startAt.position,t.startAt.inclusive):null;return y0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gg(t,e){let n=t.filters.concat([e]);return new hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wg(t,e,n){return new hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sd(t,e){return uv(en(t),en(e))&&t.limitType===e.limitType}function eC(t){return`${cv(en(t))}|lt:${t.limitType}`}function is(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>J0(i)).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fs(i)).join(",")),`Target(${r})`}(en(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):j.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Yo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=m0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Yo(r),i)||r.endAt&&!function(o,a,u){let l=m0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Yo(r),i))}(t,e)}function q2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tC(t){return(e,n)=>{let r=!1;for(let i of Yo(t)){let s=H2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function H2(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?hs(u,l):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}var fr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}};var z2=new Te(j.comparator);function Pn(){return z2}var nC=new Te(j.comparator);function Ko(...t){let e=nC;for(let n of t)e=e.insert(n.key,n);return e}function rC(t){let e=nC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return Jo()}function iC(){return Jo()}function Jo(){return new fr(t=>t.toString(),(t,e)=>t.isEqual(e))}var G2=new Te(j.comparator),W2=new Je(j.comparator);function oe(...t){let e=W2;for(let n of t)e=e.add(n);return e}var K2=new Je(he);function Q2(){return K2}function lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zo(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function Y2(t,e){return M2(e)?sC(e):lv(t,e)}var ms=class{constructor(){this._=void 0}};function J2(t,e,n){return t instanceof gs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sv(s)&&(s=ov(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ai?aC(t,e):t instanceof ci?cC(t,e):function(i,s){let o=oC(i,s),a=_0(o)+_0(i.Pe);return kg(o)&&kg(i.Pe)?sC(a):lv(i.serializer,a)}(t,e)}function X2(t,e,n){return t instanceof ai?aC(t,e):t instanceof ci?cC(t,e):n}function oC(t,e){return t instanceof ys?function(r){return kg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var gs=class extends ms{},ai=class extends ms{constructor(e){super(),this.elements=e}};function aC(t,e){let n=uC(e);for(let r of t.elements)n.some(i=>nn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ci=class extends ms{constructor(e){super(),this.elements=e}};function cC(t,e){let n=uC(e);for(let r of t.elements)n=n.filter(i=>!nn(i,r));return{arrayValue:{values:n}}}var ys=class extends ms{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function _0(t){return ve(t.integerValue||t.doubleValue)}function uC(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ai&&i instanceof ai||r instanceof ci&&i instanceof ci?ds(r.elements,i.elements,nn):r instanceof ys&&i instanceof ys?nn(r.Pe,i.Pe):r instanceof gs&&i instanceof gs}(t.transform,e.transform)}var Kg=class{constructor(e,n){this.version=e,this.transformResults=n}},Ct=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function El(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vs=class{};function lC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _s(t.key,Ct.none()):new ui(t.key,t.data,Ct.none());{let n=t.data,r=gt.empty(),i=new Je(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new rn(t.key,r,new bt(i.toArray()),Ct.none())}}function ej(t,e,n){t instanceof ui?function(i,s,o){let a=i.value.clone(),u=w0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof rn?function(i,s,o){if(!El(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=w0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(dC(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xo(t,e,n,r){return t instanceof ui?function(s,o,a,u){if(!El(s.precondition,o))return a;let l=s.value.clone(),h=E0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof rn?function(s,o,a,u){if(!El(s.precondition,o))return a;let l=E0(s.fieldTransforms,u,o),h=o.data;return h.setAll(dC(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return El(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=oC(r.transform,i||null);s!=null&&(n===null&&(n=gt.empty()),n.set(r.field,s))}return n||null}function I0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ds(r,i,(s,o)=>Z2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ui=class extends vs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},rn=class extends vs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function dC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function w0(t,e,n){let r=new Map;pe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,X2(o,a,n[i]))}return r}function E0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,J2(s,o,e))}return r}var _s=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qg=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&ej(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=iC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=lC(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(n,r)=>I0(n,r))&&ds(this.baseMutations,e.baseMutations,(n,r)=>I0(n,r))}},Jg=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length);let i=function(){return G2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Xg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Zg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Se,ue;function nj(t){switch(t){default:return z();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function hC(t){if(t===void 0)return Rn("GRPC error has no .code"),P.UNKNOWN;switch(t){case Se.OK:return P.OK;case Se.CANCELLED:return P.CANCELLED;case Se.UNKNOWN:return P.UNKNOWN;case Se.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Se.INTERNAL:return P.INTERNAL;case Se.UNAVAILABLE:return P.UNAVAILABLE;case Se.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Se.NOT_FOUND:return P.NOT_FOUND;case Se.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Se.ABORTED:return P.ABORTED;case Se.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Se.DATA_LOSS:return P.DATA_LOSS;default:return z()}}(ue=Se||(Se={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var T0=null;function rj(){return new TextEncoder}var ij=new ur([4294967295,4294967295],0);function D0(t){let e=rj().encode(t),n=new fg;return n.update(e),new Uint8Array(n.digest())}function b0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ur([n,r],0),new ur([i,s],0)]}var ey=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ti(`Invalid padding: ${n}`);if(r<0)throw new ti(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ti(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ti(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ur.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ur.fromNumber(r)));return i.compare(ij)===1&&(i=new ur([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=D0(e),[r,i]=b0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=D0(e),[r,i]=b0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ti=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,na.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Te(he),Pn(),oe())}},na=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,oe(),oe(),oe())}};var cs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Pl=class{constructor(e,n){this.targetId=e,this.me=n}},xl=class{constructor(e,n,r=Xe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ml=class{constructor(){this.fe=0,this.ge=A0(),this.pe=Xe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new na(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=A0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},ty=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pn(),this.qe=C0(),this.Qe=new Te(he)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(zg(s))if(r===0){let o=new j(s.path);this.Ue(n,o,Ft.newNoDocument(o,te.min()))}else pe(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}T0?.et(function(h,p,g,y,C){var N,R,M,V,F,W;let le={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},q=p.unchangedNames;return q&&(le.bloomFilter={applied:C===0,hashCount:(N=q?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(V=(M=(R=q?.bits)===null||R===void 0?void 0:R.bitmap)===null||M===void 0?void 0:M.length)!==null&&V!==void 0?V:0,padding:(W=(F=q?.bits)===null||F===void 0?void 0:F.padding)!==null&&W!==void 0?W:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),le}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=dr(r).toUint8Array()}catch(u){if(u instanceof Al)return ls("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new ey(o,i,s)}catch(u){return ls(u instanceof ti?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&zg(a.target)){let u=new j(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ft.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=oe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Nl(e,n,this.Qe,this.ke,r);return this.ke=Pn(),this.qe=C0(),this.Qe=new Te(he),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ml,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Je(he),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ml),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function C0(){return new Te(j.comparator)}function A0(){return new Te(j.comparator)}var sj={asc:"ASCENDING",desc:"DESCENDING"},oj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aj={and:"AND",or:"OR"},ny=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ry(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function Ol(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cj(t,e){return Ol(t,e.toTimestamp())}function tn(t){return pe(!!t),te.fromTimestamp(function(n){let r=Nn(n);return new $e(r.seconds,r.nanos)}(t))}function dv(t,e){return iy(t,e).canonicalString()}function iy(t,e){let n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pC(t){let e=Ie.fromString(t);return pe(_C(e)),e}function sy(t,e){return dv(t.databaseId,e.path)}function _g(t,e){let n=pC(e);if(n.get(1)!==t.databaseId.projectId)throw new k(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(gC(n))}function mC(t,e){return dv(t.databaseId,e)}function uj(t){let e=pC(t);return e.length===4?Ie.emptyPath():gC(e)}function oy(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gC(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S0(t,e,n){return{name:sy(t,e),fields:n.value.mapValue.fields}}function lj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(pe(h===void 0||typeof h=="string"),Xe.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Xe.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?P.UNKNOWN:hC(l.code);return new k(h,l.message||"")}(o);n=new xl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_g(t,r.document.name),s=tn(r.document.updateTime),o=r.document.createTime?tn(r.document.createTime):te.min(),a=new gt({mapValue:{fields:r.document.fields}}),u=Ft.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new cs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_g(t,r.document),s=r.readTime?tn(r.readTime):te.min(),o=Ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new cs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_g(t,r.document),s=r.removedTargetIds||[];n=new cs([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Zg(i,s),a=r.targetId;n=new Pl(a,o)}}return n}function dj(t,e){let n;if(e instanceof ui)n={update:S0(t,e.key,e.value)};else if(e instanceof _s)n={delete:sy(t,e.key)};else if(e instanceof rn)n={update:S0(t,e.key,e.data),updateMask:Ij(e.fieldMask)};else{if(!(e instanceof Qg))return z();n={verify:sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof gs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ai)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ci)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ys)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:z()}(t,e.precondition)),n}function hj(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tn(i.updateTime):tn(s);return o.isEqual(te.min())&&(o=tn(s)),new Kg(o,i.transformResults||[])}(n,e))):[]}function fj(t,e){return{documents:[mC(t,e.path)]}}function pj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mC(t,i);let s=function(l){if(l.length!==0)return vC(Lt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ss(g.field),direction:yj(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=ry(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function mj(t){let e=uj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let g=yC(p);return g instanceof Lt&&Q0(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(C){return new oi(os(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,rd(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new ps(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new ps(y,g)}(n.endAt)),B2(e,i,o,s,a,"F",u,l)}function gj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=os(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=os(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=os(n.unaryFilter.field);return Ne.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=os(n.unaryFilter.field);return Ne.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lt.create(n.compositeFilter.filters.map(r=>yC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function yj(t){return sj[t]}function vj(t){return oj[t]}function _j(t){return aj[t]}function ss(t){return{fieldPath:t.canonicalString()}}function os(t){return yt.fromServerFormat(t.fieldPath)}function vC(t){return t instanceof Ne?function(n){if(n.op==="=="){if(p0(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NAN"}};if(f0(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p0(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NOT_NAN"}};if(f0(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(n.field),op:vj(n.op),value:n.value}}}(t):t instanceof Lt?function(n){let r=n.getFilters().map(i=>vC(i));return r.length===1?r[0]:{compositeFilter:{op:_j(n.op),filters:r}}}(t):z()}function Ij(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _C(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ra=class t{constructor(e,n,r,i,s=te.min(),o=te.min(),a=Xe.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ay=class{constructor(e){this.ct=e}};function wj(t){let e=mj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wg(e,e.limit,"L"):e}var kl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Zo(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Nn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(dr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?G0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):z0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ve(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),j.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};kl.vt=new kl;var cy=class{constructor(){this.un=new uy}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ii.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},uy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ie.comparator)).toArray()}};var WW=new Uint8Array(0);var Jt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);var ia=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var ly=class{constructor(){this.changes=new fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var dy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var hy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xo(r.mutation,i,bt.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){let i=ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ko();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pn(),o=Jo(),a=function(){return Jo()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof rn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Xo(h.mutation,l,h.mutation.getFieldMask(),$e.now())):o.set(l.key,bt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new dy(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Jo(),i=new Te((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||bt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=iC();h.forEach(g=>{if(!s.has(g)){let y=lC(n.get(g),r.get(g));y!==null&&p.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(ei()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,oe())).next(h=>({batchId:a,changes:rC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Ko();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ko();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,g){return new hr(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Ft.newInvalidDocument(h)))});let a=Ko();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Xo(h.mutation,l,bt.empty(),$e.now()),od(n,l)&&(a=a.insert(u,l))}),a})}};var fy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:wj(i.bundledQuery),readTime:tn(i.readTime)}}(n)),x.resolve()}};var py=class{constructor(){this.overlays=new Te(j.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ei();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=ei(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Te((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=ei(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ei(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Xg(n,r));let s=this.Ir.get(n);s===void 0&&(s=oe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var my=class{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var sa=class{constructor(){this.Tr=new Je(Re.Er),this.dr=new Je(Re.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Re(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Re(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new j(new Ie([])),r=new Re(n,e),i=new Re(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new j(new Ie([])),r=new Re(n,e),i=new Re(n,e+1),s=oe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Re(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Re=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return j.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||j.comparator(e.key,n.key)}};var gy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Je(Re.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Yg(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Re(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Re(n,0),i=new Re(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(he);return n.forEach(i=>{let s=new Re(i,0),o=new Re(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;j.isDocumentKey(s)||(s=s.child(""));let o=new Re(new j(s),0),a=new Je(he);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Re(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Re(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var yy=class{constructor(e){this.Mr=e,this.docs=function(){return new Te(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Pn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pn(),o=n.path,a=new j(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||N2(R2(h),r)<=0||(i.has(h.key)||od(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){z()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vy(this)}getSize(e){return x.resolve(this.size)}},vy=class extends ly{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var _y=class{constructor(e){this.persistence=e,this.Nr=new fr(n=>cv(n),uv),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sa,this.targetCount=0,this.kr=ia.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ia(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Iy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new q0(0),this.Kr=!1,this.Kr=!0,this.$r=new my,this.referenceDelegate=e(this),this.Ur=new _y(this),this.indexManager=new cy,this.remoteDocumentCache=function(i){return new yy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ay(n),this.Gr=new fy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new py,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new wy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},wy=class extends xg{constructor(e){super(),this.currentSequenceNumber=e}},Ey=class t{constructor(e){this.persistence=e,this.Jr=new sa,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=j.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ty=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=oe(),i=oe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Dy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var by=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GD()?8:x2(Fe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Dy;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wo()<=se.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Wo()<=se.DEBUG&&L("QueryEngine","Query:",is(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wo()<=se.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,en(n))):x.resolve())}Yi(e,n){if(v0(n))return x.resolve(null);let r=en(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wg(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=oe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Wg(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return v0(n)||i.isEqual(te.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(Wo()<=se.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),is(n)),this.rs(e,o,n,S2(i,-1)).next(a=>a))})}ts(e,n){let r=new Je(tC(e));return n.forEach((i,s)=>{od(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Wo()<=se.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",is(n)),this.Ji.getDocumentsMatchingQuery(e,n,ii.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Cy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Te(he),this._s=new fr(s=>cv(s),uv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function Ej(t,e,n,r){return new Cy(t,e,n,r)}function IC(t,e){return w(this,null,function*(){let n=J(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=oe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Tj(t,e){let n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=x.resolve();return g.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);pe(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=oe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wC(t){let e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Dj(t,e){let n=J(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Xe.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,M){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(g,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=Pn(),l=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(bj(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function bj(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Cj(t,e){let n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Aj(t,e){let n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ra(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Ay(t,e,n){return w(this,null,function*(){let r=J(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ha(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function R0(t,e,n){let r=J(t),i=te.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=J(u),g=p._s.get(h);return g!==void 0?x.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,o,en(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:oe())).next(a=>(Sj(r,q2(e),a),{documents:a,Ts:s})))}function Sj(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Fl=class{constructor(){this.activeTargetIds=Q2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Sy=class{constructor(){this.so=new Fl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Fl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ry=class{_o(e){}shutdown(){}};var Ll=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Il=null;function Ig(){return Il===null?Il=function(){return 268435456+Math.round(2147483648*Math.random())}():Il++,"0x"+Il.toString(16)}var Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ny=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ye="WebChannelConnection",Py=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Ig(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(L("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ls("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Es}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Rj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Ig();return new Promise((o,a)=>{let u=new pg;u.setWithCredentials(!0),u.listenOnce(mg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Go.NO_ERROR:let h=u.getResponseJson();L(Ye,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Go.TIMEOUT:L(Ye,`RPC '${e}' ${s} timed out`),a(new k(P.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:let p=u.getStatus();if(L(Ye,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let C=function(R){let M=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(M)>=0?M:P.UNKNOWN}(y.status);a(new k(C,y.message))}else a(new k(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new k(P.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{L(Ye,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(Ye,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Ig(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vg(),a=yg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");L(Ye,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),g=!1,y=!1,C=new Ny({Io:R=>{y?L(Ye,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(L(Ye,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),L(Ye,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,M,V)=>{R.listen(M,F=>{try{V(F)}catch(W){setTimeout(()=>{throw W},0)}})};return N(p,rs.EventType.OPEN,()=>{y||(L(Ye,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,rs.EventType.CLOSE,()=>{y||(y=!0,L(Ye,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,rs.EventType.ERROR,R=>{y||(y=!0,ls(Ye,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new k(P.UNAVAILABLE,"The operation could not be completed")))}),N(p,rs.EventType.MESSAGE,R=>{var M;if(!y){let V=R.data[0];pe(!!V);let F=V,W=F.error||((M=F[0])===null||M===void 0?void 0:M.error);if(W){L(Ye,`RPC '${e}' stream ${i} received error:`,W);let le=W.status,q=function(_){let E=Se[_];if(E!==void 0)return hC(E)}(le),T=W.message;q===void 0&&(q=P.INTERNAL,T="Unknown error status: "+le+" with message "+W.message),y=!0,C.So(new k(q,T)),p.close()}else L(Ye,`RPC '${e}' stream ${i} received:`,V),C.bo(V)}}),N(a,gg.STAT_EVENT,R=>{R.stat===vl.PROXY?L(Ye,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===vl.NOPROXY&&L(Ye,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function wg(){return typeof document<"u"?document:null}function ad(t){return new ny(t,!0)}var Vl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var jl=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vl(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new k(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},xy=class extends jl{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=lj(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?tn(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=oy(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=zg(u)?{documents:fj(s,u)}:{query:pj(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fC(s,o.resumeToken);let l=ry(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Ol(s,o.snapshotVersion.toTimestamp());let l=ry(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=gj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=oy(this.serializer),n.removeTarget=e,this.a_(n)}},My=class extends jl{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return pe(!!e.streamToken),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=hj(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=oy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>dj(this.serializer,r))};this.a_(n)}};var Oy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new k(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,iy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(P.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,iy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(P.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},ky=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Rn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Fy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){fi(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=J(u);l.L_.add(4),yield fa(l),l.q_.set("Unknown"),l.L_.delete(4),yield cd(l)})}(this))}))}),this.q_=new ky(r,i)}};function cd(t){return w(this,null,function*(){if(fi(t))for(let e of t.B_)yield e(!0)})}function fa(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function EC(t,e){let n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),mv(n)?pv(n):Ts(n).r_()&&fv(n,e))}function hv(t,e){let n=J(t),r=Ts(n);n.N_.delete(e),r.r_()&&TC(n,e),n.N_.size===0&&(r.r_()?r.o_():fi(n)&&n.q_.set("Unknown"))}function fv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ts(t).A_(e)}function TC(t,e){t.Q_.xe(e),Ts(t).R_(e)}function pv(t){t.Q_=new ty({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ts(t).start(),t.q_.v_()}function mv(t){return fi(t)&&!Ts(t).n_()&&t.N_.size>0}function fi(t){return J(t).L_.size===0}function DC(t){t.Q_=void 0}function Nj(t){return w(this,null,function*(){t.q_.set("Online")})}function Pj(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{fv(t,e)})})}function xj(t,e){return w(this,null,function*(){DC(t),mv(t)?(t.q_.M_(e),pv(t)):t.q_.set("Unknown")})}function Mj(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof xl&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ul(t,r)}else if(e instanceof cs?t.Q_.Ke(e):e instanceof Pl?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield wC(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(Xe.EMPTY_BYTE_STRING,h.snapshotVersion)),TC(s,u);let p=new ra(h.target,u,l,h.sequenceNumber);fv(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield Ul(t,r)}})}function Ul(t,e,n){return w(this,null,function*(){if(!ha(e))throw e;t.L_.add(1),yield fa(t),t.q_.set("Offline"),n||(n=()=>wC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield cd(t)}))})}function bC(t,e){return e().catch(n=>Ul(t,n,e))}function ud(t){return w(this,null,function*(){let e=J(t),n=pr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Oj(e);)try{let i=yield Cj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,kj(e,i)}catch(i){yield Ul(e,i)}CC(e)&&AC(e)})}function Oj(t){return fi(t)&&t.O_.length<10}function kj(t,e){t.O_.push(e);let n=pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function CC(t){return fi(t)&&!pr(t).n_()&&t.O_.length>0}function AC(t){pr(t).start()}function Fj(t){return w(this,null,function*(){pr(t).p_()})}function Lj(t){return w(this,null,function*(){let e=pr(t);for(let n of t.O_)e.m_(n.mutations)})}function Vj(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Jg.from(r,e,n);yield bC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ud(t)})}function jj(t,e){return w(this,null,function*(){e&&pr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return nj(o)&&o!==P.ABORTED}(i.code)){let s=r.O_.shift();pr(r).s_(),yield bC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ud(r)}})}(t,e)),CC(t)&&AC(t)})}function N0(t,e){return w(this,null,function*(){let n=J(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=fi(n);n.L_.add(3),yield fa(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield cd(n)})}function Uj(t,e){return w(this,null,function*(){let n=J(t);e?(n.L_.delete(2),yield cd(n)):e||(n.L_.add(2),yield fa(n),n.q_.set("Unknown"))})}function Ts(t){return t.K_||(t.K_=function(n,r,i){let s=J(n);return s.w_(),new xy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Nj.bind(null,t),Ro:Pj.bind(null,t),mo:xj.bind(null,t),d_:Mj.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),mv(t)?pv(t):t.q_.set("Unknown")):(yield t.K_.stop(),DC(t))}))),t.K_}function pr(t){return t.U_||(t.U_=function(n,r,i){let s=J(n);return s.w_(),new My(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Fj.bind(null,t),mo:jj.bind(null,t),f_:Lj.bind(null,t),g_:Vj.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield ud(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Ly=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gv(t,e){if(Rn("AsyncQueue",`${e}: ${t}`),ha(t))return new k(P.UNAVAILABLE,`${e}: ${t}`);throw t}var Bl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Ko(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var $l=class{constructor(){this.W_=new Te(j.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Is=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Bl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Vy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},jy=class{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=J(n),s=i.queries;i.queries=P0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new k(P.ABORTED,"Firestore shutting down"))}};function P0(){return new fr(t=>eC(t),sd)}function SC(t,e){return w(this,null,function*(){let n=J(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Vy,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=gv(o,`Initialization of query '${is(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&yv(n)})}function RC(t,e){return w(this,null,function*(){let n=J(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Bj(t,e){let n=J(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&yv(n)}function $j(t,e,n){let r=J(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function yv(t){t.Y_.forEach(e=>{e.next()})}var Uy,x0;(x0=Uy||(Uy={})).ea="default",x0.Cache="cache";var ql=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Uy.Cache}};var Hl=class{constructor(e){this.key=e}},zl=class{constructor(e){this.key=e}},By=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=tC(e),this.Ra=new Bl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new $l,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=od(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return N(y)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Is(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $l,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new zl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Hl(r))}),n}ba(e){this.Ta=e.Ts,this.da=oe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Is.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$y=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},qy=class{constructor(e){this.key=e,this.va=!1}},Hy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fr(a=>eC(a),sd),this.Ma=new Map,this.xa=new Set,this.Oa=new Te(j.comparator),this.Na=new Map,this.La=new sa,this.Ba={},this.ka=new Map,this.qa=ia.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function qj(t,e,n=!0){return w(this,null,function*(){let r=kC(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield NC(r,e,n,!0),i})}function Hj(t,e){return w(this,null,function*(){let n=kC(t);yield NC(n,e,!0,!1)})}function NC(t,e,n,r){return w(this,null,function*(){let i=yield Aj(t.localStore,en(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield zj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&EC(t.remoteStore,i),a})}function zj(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,g,y)=>function(N,R,M,V){return w(this,null,function*(){let F=R.view.ma(M);F.ns&&(F=yield R0(N.localStore,R.query,!1).then(({documents:T})=>R.view.ma(T,F)));let W=V&&V.targetChanges.get(R.targetId),le=V&&V.targetMismatches.get(R.targetId)!=null,q=R.view.applyChanges(F,N.isPrimaryClient,W,le);return O0(N,R.targetId,q.wa),q.snapshot})}(t,p,g,y);let s=yield R0(t.localStore,e,!0),o=new By(e,s.Ts),a=o.ma(s.documents),u=na.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);O0(t,n,l.wa);let h=new $y(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function Gj(t,e,n){return w(this,null,function*(){let r=J(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!sd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hv(r.remoteStore,i.targetId),zy(r,i.targetId)}).catch(da))):(zy(r,i.targetId),yield Ay(r.localStore,i.targetId,!0))})}function Wj(t,e){return w(this,null,function*(){let n=J(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hv(n.remoteStore,r.targetId))})}function Kj(t,e,n){return w(this,null,function*(){let r=tU(t);try{let i=yield function(o,a){let u=J(o),l=$e.now(),h=a.reduce((y,C)=>y.add(C.key),oe()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Pn(),N=oe();return u.cs.getEntries(y,h).next(R=>{C=R,C.forEach((M,V)=>{V.isValidDocument()||(N=N.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let M=[];for(let V of a){let F=tj(V,p.get(V.key).overlayedDocument);F!=null&&M.push(new rn(V.key,F,W0(F.value.mapValue),Ct.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,M,a)}).next(R=>{g=R;let M=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,M)})}).then(()=>({batchId:g.batchId,changes:rC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Te(he)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield pa(r,i.changes),yield ud(r.remoteStore)}catch(i){let s=gv(i,"Failed to persist write");n.reject(s)}})}function PC(t,e){return w(this,null,function*(){let n=J(t);try{let r=yield Dj(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?pe(o.va):i.removedDocuments.size>0&&(pe(o.va),o.va=!1))}),yield pa(n,r,e)}catch(r){yield da(r)}})}function M0(t,e,n){let r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=J(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&yv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qj(t,e,n){return w(this,null,function*(){let r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Te(j.comparator);o=o.insert(s,Ft.newNoDocument(s,te.min()));let a=oe().add(s),u=new Nl(te.min(),new Map,new Te(he),o,a);yield PC(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),vv(r)}else yield Ay(r.localStore,e,!1).then(()=>zy(r,e,n)).catch(da)})}function Yj(t,e){return w(this,null,function*(){let n=J(t),r=e.batch.batchId;try{let i=yield Tj(n.localStore,e);MC(n,r,null),xC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pa(n,i)}catch(i){yield da(i)}})}function Jj(t,e,n){return w(this,null,function*(){let r=J(t);try{let i=yield function(o,a){let u=J(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(pe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);MC(r,e,n),xC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pa(r,i)}catch(i){yield da(i)}})}function xC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function MC(t,e,n){let r=J(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||OC(t,r)})}function OC(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(hv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),vv(t))}function O0(t,e,n){for(let r of n)r instanceof Hl?(t.La.addReference(r.key,e),Xj(t,r)):r instanceof zl?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||OC(t,r.key)):z()}function Xj(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),vv(t))}function vv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new j(Ie.fromString(e)),r=t.qa.next();t.Na.set(r,new qy(n)),t.Oa=t.Oa.insert(n,r),EC(t.remoteStore,new ra(en(id(n.path)),r,"TargetPurposeLimboResolution",q0.oe))}}function pa(t,e,n){return w(this,null,function*(){let r=J(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Ty.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>x.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ha(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(g,N)}}})}(r.localStore,s))})}function Zj(t,e){return w(this,null,function*(){let n=J(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield IC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new k(P.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pa(n,r.hs)}})}function eU(t,e){let n=J(t),r=n.Na.get(e);if(r&&r.va)return oe().add(r.key);{let i=oe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function kC(t){let e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qj.bind(null,e),e.Ca.d_=Bj.bind(null,e.eventManager),e.Ca.$a=$j.bind(null,e.eventManager),e}function tU(t){let e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jj.bind(null,e),e}var k0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=ad(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return Ej(this.persistence,new by,n.initialUser,this.serializer)}Ga(n){return new Iy(Ey.Zr,this.serializer)}Wa(n){return new Sy}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var nU=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>M0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zj.bind(null,this.syncEngine),yield Uj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new jy}()}createDatastore(n){let r=ad(n.databaseInfo.databaseId),i=function(o){return new Py(o)}(n.databaseInfo);return function(o,a,u,l){return new Oy(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new Fy(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>M0(this.syncEngine,r,0),function(){return Ll.D()?new Ll:new Ry}())}createSyncEngine(n,r){return function(s,o,a,u,l,h,p){let g=new Hy(s,o,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=J(s);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield fa(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Gl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Gy=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Le.UNAUTHENTICATED,this.clientId=Dl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=gv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Eg(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield IC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function F0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield rU(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N0(e.remoteStore,i)),t._onlineComponents=e})}function rU(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Eg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),yield Eg(t,new k0)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Eg(t,new k0);return t._offlineComponents})}function FC(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield F0(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield F0(t,new nU))),t._onlineComponents})}function iU(t){return FC(t).then(e=>e.syncEngine)}function Wy(t){return w(this,null,function*(){let e=yield FC(t),n=e.eventManager;return n.onListen=qj.bind(null,e.syncEngine),n.onUnlisten=Gj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wj.bind(null,e.syncEngine),n})}function sU(t,e,n={}){let r=new Xt;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,u,l){let h=new Gl({next:g=>{h.Za(),o.enqueueAndForget(()=>RC(s,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new k(P.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new k(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new ql(id(a.path),h,{includeMetadataChanges:!0,_a:!0});return SC(s,p)}(yield Wy(t),t.asyncQueue,e,n,r)})),r.promise}function LC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var L0=new Map;function VC(t,e,n){if(!n)throw new k(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oU(t,e,n,r){if(e===!0&&r===!0)throw new k(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V0(t){if(!j.isDocumentKey(t))throw new k(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j0(t){if(j.isDocumentKey(t))throw new k(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ld(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function kt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ld(t);throw new k(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Wl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ws=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new k(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new k(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Dg;switch(r.type){case"firstParty":return new Sg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=L0.get(n);r&&(L("ComponentProvider","Removing Datastore"),L0.delete(n),r.terminate())}(this),Promise.resolve()}};function jC(t,e,n,r={}){var i;let s=(t=kt(t,ws))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Le.MOCK_USER;else{a=UD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new k(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Le(l)}t._authCredentials=new bg(new Tl(a,u))}}var li=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},lr=class t extends li{constructor(e,n,r){super(e,n,id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function UC(t,e,...n){if(t=be(t),VC("collection","path",e),t instanceof ws){let r=Ie.fromString(e,...n);return j0(r),new lr(t,null,r)}{if(!(t instanceof ot||t instanceof lr))throw new k(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ie.fromString(e,...n));return j0(r),new lr(t.firestore,null,r)}}function _v(t,e,...n){if(t=be(t),arguments.length===1&&(e=Dl.newId()),VC("doc","path",e),t instanceof ws){let r=Ie.fromString(e,...n);return V0(r),new ot(t,null,new j(r))}{if(!(t instanceof ot||t instanceof lr))throw new k(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ie.fromString(e,...n));return V0(r),new ot(t.firestore,t instanceof lr?t.converter:null,new j(r))}}var Kl=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Vl(this,"async_queue_retry"),this.Vu=()=>{let r=wg();r&&L("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=wg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Xt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ha(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Ly.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&z()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function U0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var sn=class extends ws{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Kl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Kl(e),this._firestoreClient=void 0,yield e}})}};function BC(t,e){let n=typeof t=="object"?t:Ji(),r=typeof t=="string"?t:e||"(default)",i=Oo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=jD("firestore");s&&jC(i,...s)}return i}function dd(t){if(t._terminated)throw new k(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aU(t),t._firestoreClient}function aU(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Mg(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Gy(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var oa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xe.fromBase64String(e))}catch(n){throw new k(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var di=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var aa=class{constructor(e){this._methodName=e}};var ca=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var ua=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var cU=/^__.*__$/,Ky=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ui(e,this.data,n,this.fieldTransforms)}},Ql=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new rn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function $C(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var Qy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($C(this.Cu)&&cU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Yy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ad(e)}Qu(e,n,r,i=!1){return new Qy({Cu:e,methodName:n,qu:r,path:yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hd(t){let e=t._freezeSettings(),n=ad(t._databaseId);return new Yy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qC(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Iv("Data must be an object, but it was:",o,r);let a=GC(r,o),u,l;if(s.merge)u=new bt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let g=Jy(e,p,n);if(!o.contains(g))throw new k(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);KC(h,g)||h.push(g)}u=new bt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Ky(new gt(a),u,l)}var Yl=class t extends aa{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function HC(t,e,n,r){let i=t.Qu(1,e,n);Iv("Data must be an object, but it was:",i,r);let s=[],o=gt.empty();hi(r,(u,l)=>{let h=wv(e,u,n);l=be(l);let p=i.Nu(h);if(l instanceof Yl)s.push(h);else{let g=ma(l,p);g!=null&&(s.push(h),o.set(h,g))}});let a=new bt(s);return new Ql(o,a,i.fieldTransforms)}function zC(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[Jy(e,r,n)],u=[i];if(s.length%2!=0)throw new k(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Jy(e,s[g])),u.push(s[g+1]);let l=[],h=gt.empty();for(let g=a.length-1;g>=0;--g)if(!KC(l,a[g])){let y=a[g],C=u[g];C=be(C);let N=o.Nu(y);if(C instanceof Yl)l.push(y);else{let R=ma(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new bt(l);return new Ql(h,p,o.fieldTransforms)}function uU(t,e,n,r=!1){return ma(n,t.Qu(r?4:3,e))}function ma(t,e){if(WC(t=be(t)))return Iv("Unsupported field value:",e,t),GC(t,e);if(t instanceof aa)return function(r,i){if(!$C(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=ma(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=$e.fromDate(r);return{timestampValue:Ol(i.serializer,s)}}if(r instanceof $e){let s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ol(i.serializer,s)}}if(r instanceof ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:fC(i.serializer,r._byteString)};if(r instanceof ot){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ua)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return lv(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ld(r)}`)}(t,e)}function GC(t,e){let n={};return H0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hi(t,(r,i)=>{let s=ma(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof ca||t instanceof oa||t instanceof ot||t instanceof aa||t instanceof ua)}function Iv(t,e,n){if(!WC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ld(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Jy(t,e,n){if((e=be(e))instanceof di)return e._internalPath;if(typeof e=="string")return wv(t,e);throw Jl("Field path arguments must be of type string or ",t,!1,void 0,n)}var lU=new RegExp("[~\\*/\\[\\]]");function wv(t,e,n){if(e.search(lU)>=0)throw Jl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new di(...e.split("."))._internalPath}catch{throw Jl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jl(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new k(P.INVALID_ARGUMENT,a+t+u)}function KC(t,e){return t.some(n=>n.isEqual(e))}var Xl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(fd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Xy=class extends Xl{data(){return super.data()}};function fd(t,e){return typeof e=="string"?wv(t,e):e instanceof di?e._internalPath:e._delegate._internalPath}function dU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var la=class{},Zl=class extends la{};function QC(t,e,...n){let r=[];e instanceof la&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof Zy).length,a=s.filter(u=>u instanceof ed).length;if(o>1||o>0&&a>0)throw new k(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ed=class t extends Zl{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return XC(e._query,n),new li(e.firestore,e.converter,Gg(e._query,n))}_parse(e){let n=hd(e.firestore);return function(s,o,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new k(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){$0(p,h);let y=[];for(let C of p)y.push(B0(u,s,C));g={arrayValue:{values:y}}}else g=B0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||$0(p,h),g=uU(a,o,p,h==="in"||h==="not-in");return Ne.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function YC(t,e,n){let r=e,i=fd("where",t);return ed._create(i,r,n)}var Zy=class t extends la{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)XC(o,u),o=Gg(o,u)}(e._query,n),new li(e.firestore,e.converter,Gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var ev=class t extends Zl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new k(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oi(s,o)}(e._query,this._field,this._direction);return new li(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new hr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function JC(t,e="asc"){let n=e,r=fd("orderBy",t);return ev._create(r,n)}function B0(t,e,n){if(typeof(n=be(n))=="string"){if(n==="")throw new k(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z0(e)&&n.indexOf("/")!==-1)throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ie.fromString(n));if(!j.isDocumentKey(r))throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h0(t,new j(r))}if(n instanceof ot)return h0(t,n._key);throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(n)}.`)}function $0(t,e){if(!Array.isArray(t)||t.length===0)throw new k(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XC(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var tv=class{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return hi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ve(o.doubleValue));return new ua(s)}convertGeoPoint(e){return new ca(ve(e.latitude),ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){let n=Nn(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ie.fromString(e);pe(_C(r));let i=new Sl(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(n)||Rn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function ZC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ni=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},td=class extends Xl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new us(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(fd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},us=class extends td{data(e={}){return super.data(e)}},nv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ni(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new us(this._firestore,this._userDataWriter,r.key,r,new ni(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new us(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ni(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new us(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ni(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:hU(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function hU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function eA(t){t=kt(t,ot);let e=kt(t.firestore,sn);return sU(dd(e),t._key).then(n=>iA(e,t,n))}var nd=class extends tv{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}};function tA(t,e,n,...r){t=kt(t,ot);let i=kt(t.firestore,sn),s=hd(i),o;return o=typeof(e=be(e))=="string"||e instanceof di?zC(s,"updateDoc",t._key,e,n,r):HC(s,"updateDoc",t._key,e),pd(i,[o.toMutation(t._key,Ct.exists(!0))])}function nA(t){return pd(kt(t.firestore,sn),[new _s(t._key,Ct.none())])}function rA(t,e){let n=kt(t.firestore,sn),r=_v(t),i=ZC(t.converter,e);return pd(n,[qC(hd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ct.exists(!1))]).then(()=>r)}function Ev(t,...e){var n,r,i;t=be(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||U0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(U0(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ot)l=kt(t.firestore,sn),h=id(t._key.path),u={next:p=>{e[o]&&e[o](iA(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=kt(t,li);l=kt(p.firestore,sn),h=p._query;let g=new nd(l);u={next:y=>{e[o]&&e[o](new nv(l,g,p,y))},error:e[o+1],complete:e[o+2]},dU(t._query)}return function(g,y,C,N){let R=new Gl(N),M=new ql(y,R,C);return g.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return SC(yield Wy(g),M)})),()=>{R.Za(),g.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return RC(yield Wy(g),M)}))}}(dd(l),h,a,u)}function pd(t,e){return function(r,i){let s=new Xt;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return Kj(yield iU(r),i,s)})),s.promise}(dd(t),e)}function iA(t,e,n){let r=n.docs.get(e._key),i=new nd(t);return new td(t,i,e._key,r,new ni(n.hasPendingWrites,n.fromCache),e.converter)}var rv=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hd(e)}set(e,n,r){this._verifyNotCommitted();let i=Tg(e,this._firestore),s=ZC(i.converter,n,r),o=qC(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ct.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=Tg(e,this._firestore),o;return o=typeof(n=be(n))=="string"||n instanceof di?zC(this._dataReader,"WriteBatch.update",s._key,n,r,i):HC(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ct.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Tg(e,this._firestore);return this._mutations=this._mutations.concat(new _s(n._key,Ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new k(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Tg(t,e){if((t=be(t)).firestore!==e)throw new k(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function fU(t){return dd(t=kt(t,sn)),new rv(t,e=>pd(t,e))}(function(e,n=!0){(function(i){Es=i})(ir),rr(new Dt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new sn(new Cg(r.getProvider("auth-internal")),new Ng(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Oe(c0,"4.7.3",e),Oe(c0,"4.7.3","esm2017")})();var md=function(){return md=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},md.apply(this,arguments)};var gU={includeMetadataChanges:!1};function Tv(t,e){return e===void 0&&(e=gU),new ne(function(n){var r=Ev(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function sA(t){return Tv(t,{includeMetadataChanges:!0})}function oA(t,e){return e===void 0&&(e={}),sA(t).pipe(xe(function(n){return Dv(n,e)}))}function Dv(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:md(md({},r),(n={},n[e.idField]=t.id,n))}function aA(t){return Tv(t,{includeMetadataChanges:!0}).pipe(xe(function(e){return e.docs}))}function cA(t,e){return e===void 0&&(e={}),aA(t).pipe(xe(function(n){return n.map(function(r){return Dv(r,e)})}))}var ga=class{constructor(e){return e}},uA="firestore",bv=class{constructor(){return qo(uA)}};var Cv=new G("angularfire2.firestore-instances");function yU(t,e){let n=ml(uA,t,e);return n&&new ga(n)}function vU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ga(r)}}var _U={provide:bv,deps:[[new it,Cv]]},IU={provide:ga,useFactory:yU,deps:[[new it,Cv],An]};function v5(t,...e){return Oe("angularfire",Xr.full,"fst"),zt([IU,_U,{provide:Cv,useFactory:vU(t),multi:!0,deps:[fe,wt,ns,Zr,[new it,zo],[new it,ts],...e]}])}var _5=Be(cA,!0);var I5=Be(oA,!0);var w5=Be(rA,!0);var E5=Be(UC,!0);var T5=Be(nA,!0);var D5=Be(_v,!0);var b5=Be(eA,!0);var C5=Be(BC,!0);var A5=Be(JC,!0);var S5=Be(QC,!0);var R5=Be(tA,!0);var N5=Be(YC,!0);export{tt as a,vt as b,YA as c,wU as d,EU as e,w as f,Pe as g,F_ as h,ne as i,Jd as j,Xd as k,Vn as l,Hs as m,Gs as n,Rt as o,ec as p,dS as q,hS as r,un as s,tS as t,xe as u,IS as v,Tr as w,rh as x,ic as y,ES as z,TS as A,$n as B,tI as C,ih as D,Ws as E,sh as F,DS as G,oc as H,rI as I,oh as J,CS as K,iI as L,sI as M,ah as N,AS as O,ac as P,K as Q,hw as R,Y as S,jr as T,zz as U,G as V,ae as W,U as X,Z as Y,it as Z,Iw as _,zn as $,Gz as aa,Ur as ba,Br as ca,$i as da,zt as ea,TR as fa,$t as ga,Qf as ha,Vw as ia,iu as ja,Wz as ka,Kz as la,Qz as ma,Yz as na,Jz as oa,DN as pa,wt as qa,uu as ra,Qn as sa,br as ta,Et as ua,Xz as va,sP as wa,Zz as xa,eG as ya,De as za,tG as Aa,kr as Ba,Vc as Ca,uo as Da,Eu as Ea,fe as Fa,xx as Ga,Jn as Ha,sG as Ia,aM as Ja,fM as Ka,_f as La,pM as Ma,Wi as Na,wf as Oa,IM as Pa,OM as Qa,ST as Ra,kM as Sa,oG as Ta,aG as Ua,cG as Va,uG as Wa,lG as Xa,dG as Ya,FT as Za,LT as _a,YM as $a,VT as ab,jT as bb,ZM as cb,hG as db,aO as eb,fG as fb,pG as gb,mG as hb,lO as ib,gG as jb,yG as kb,vG as lb,_G as mb,IG as nb,wG as ob,fO as pb,$T as qb,pO as rb,mO as sb,EG as tb,gO as ub,TG as vb,DG as wb,bG as xb,CG as yb,AG as zb,SG as Ab,RG as Bb,NG as Cb,PG as Db,xG as Eb,MG as Fb,OG as Gb,kG as Hb,FG as Ib,LG as Jb,KT as Kb,Su as Lb,AO as Mb,YT as Nb,vo as Ob,VG as Pb,Nu as Qb,GO as Rb,WO as Sb,jG as Tb,YO as Ub,UG as Vb,BG as Wb,Hr as Xb,st as Yb,i9 as Zb,ku as _b,XO as $b,s9 as ac,ZO as bc,o9 as cc,a9 as dc,c9 as ec,u9 as fc,l9 as gc,d9 as hc,h9 as ic,f9 as jc,p9 as kc,m9 as lc,g9 as mc,mD as nc,Dk as oc,y9 as pc,Ok as qc,Jk as rc,R9 as sc,N9 as tc,SD as uc,H9 as vc,z9 as wc,G9 as xc,_1 as yc,jD as zc,UD as Ac,mt as Bc,be as Cc,Dt as Dc,rr as Ec,Oo as Fc,ir as Gc,Ji as Hc,Oe as Ic,Yb as Jc,ug as Kc,Xr as Lc,ml as Mc,qo as Nc,ts as Oc,ns as Pc,Be as Qc,An as Rc,Zr as Sc,_W as Tc,IW as Uc,Ho as Vc,zo as Wc,RW as Xc,NW as Yc,UC as Zc,_v as _c,eA as $c,tA as ad,fU as bd,ga as cd,v5 as dd,_5 as ed,I5 as fd,w5 as gd,E5 as hd,T5 as id,D5 as jd,b5 as kd,C5 as ld,A5 as md,S5 as nd,R5 as od,N5 as pd};

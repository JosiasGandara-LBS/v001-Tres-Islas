var D0=Object.create;var nd=Object.defineProperty,T0=Object.defineProperties,b0=Object.getOwnPropertyDescriptor,C0=Object.getOwnPropertyDescriptors,A0=Object.getOwnPropertyNames,da=Object.getOwnPropertySymbols,Nv=Object.getPrototypeOf,rd=Object.prototype.hasOwnProperty,Rv=Object.prototype.propertyIsEnumerable,S0=Reflect.get;var Sv=(t,e,n)=>e in t?nd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xt=(t,e)=>{for(var n in e||={})rd.call(e,n)&&Sv(t,n,e[n]);if(da)for(var n of da(e))Rv.call(e,n)&&Sv(t,n,e[n]);return t},Pt=(t,e)=>T0(t,C0(e));var f2=(t,e)=>{var n={};for(var r in t)rd.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&da)for(var r of da(t))e.indexOf(r)<0&&Rv.call(t,r)&&(n[r]=t[r]);return n};var p2=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var N0=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of A0(e))!rd.call(t,i)&&i!==n&&nd(t,i,{get:()=>e[i],enumerable:!(r=b0(e,i))||r.enumerable});return t};var m2=(t,e,n)=>(n=t!=null?D0(Nv(t)):{},N0(e||!t||!t.__esModule?nd(n,"default",{value:t,enumerable:!0}):n,t));var bn=(t,e,n)=>S0(Nv(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function ni(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Xt=ni(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function G(t){return typeof t=="function"}var ha=ni(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function or(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Re=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(s){e=s instanceof ha?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{xv(s)}catch(o){e=e??[],o instanceof ha?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ha(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&or(n,e)}remove(e){let{_finalizers:n}=this;n&&or(n,e),e instanceof t&&e._removeParent(this)}};Re.EMPTY=(()=>{let t=new Re;return t.closed=!0,t})();var id=Re.EMPTY;function fa(t){return t instanceof Re||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function xv(t){G(t)?t():t.unsubscribe()}var Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ri={setTimeout(t,e,...n){let{delegate:r}=ri;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ri;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pa(t){ri.setTimeout(()=>{let{onUnhandledError:e}=Dt;if(e)e(t);else throw t})}function Ns(){}var Pv=sd("C",void 0,void 0);function Mv(t){return sd("E",void 0,t)}function Ov(t){return sd("N",t,void 0)}function sd(t,e,n){return{kind:t,value:e,error:n}}var ar=null;function ii(t){if(Dt.useDeprecatedSynchronousErrorHandling){let e=!ar;if(e&&(ar={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ar;if(ar=null,n)throw r}}else t()}function kv(t){Dt.useDeprecatedSynchronousErrorHandling&&ar&&(ar.errorThrown=!0,ar.error=t)}var cr=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fa(e)&&e.add(this)):this.destination=P0}static create(e,n,r){return new Cn(e,n,r)}next(e){this.isStopped?ad(Ov(e),this):this._next(e)}error(e){this.isStopped?ad(Mv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ad(Pv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},R0=Function.prototype.bind;function od(t,e){return R0.call(t,e)}var cd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ma(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ma(r)}else ma(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ma(n)}}},Cn=class extends cr{constructor(e,n,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Dt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&od(e.next,s),error:e.error&&od(e.error,s),complete:e.complete&&od(e.complete,s)}):i=e}this.destination=new cd(i)}};function ma(t){Dt.useDeprecatedSynchronousErrorHandling?kv(t):pa(t)}function x0(t){throw t}function ad(t,e){let{onStoppedNotification:n}=Dt;n&&ri.setTimeout(()=>n(t,e))}var P0={closed:!0,next:Ns,error:x0,complete:Ns};function M0(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=new Cn({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Xt)}});t.subscribe(s)})}var si=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ut(t){return t}function Fv(...t){return ud(t)}function ud(t){return t.length===0?ut:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Y=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=k0(n)?n:new Cn(n,r,i);return ii(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Lv(r),new r((i,s)=>{let o=new Cn({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[si](){return this}pipe(...n){return ud(n)(this)}toPromise(n){return n=Lv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Lv(t){var e;return(e=t??Dt.Promise)!==null&&e!==void 0?e:Promise}function O0(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function k0(t){return t&&t instanceof cr||O0(t)&&fa(t)}function ld(t){return G(t?.lift)}function ie(t){return e=>{if(ld(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,n,r,i){return new dd(t,e,n,r,i)}var dd=class extends cr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hd(){return ie((t,e)=>{let n=null;t._refCount++;let r=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fd=class extends Y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ld(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let n=this.getSubject();e.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return hd()(this)}};var Vv=ni(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var An=(()=>{class t extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ga(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Vv}next(n){ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?id:(this.currentObservers=null,s.push(n),new Re(()=>{this.currentObservers=null,or(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Y;return n.source=this,n}}return t.create=(e,n)=>new ga(e,n),t})(),ga=class extends An{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:id}};var Rs=class extends An{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pd={now(){return(pd.delegate||Date).now()},delegate:void 0};var ya=class extends Re{constructor(e,n){super()}schedule(e,n=0){return this}};var xs={setInterval(t,e,...n){let{delegate:r}=xs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oi=class extends ya{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return xs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&xs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,or(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ai=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ai.now=pd.now;var ci=class extends ai{constructor(e,n=ai.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ui=new ci(oi),md=ui;var va=class extends oi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var _a=class extends ci{};var gd=new _a(va);var Ps=new Y(t=>t.complete());function Ia(t){return t&&G(t.schedule)}function Uv(t){return t[t.length-1]}function wa(t){return G(Uv(t))?t.pop():void 0}function Sn(t){return Ia(Uv(t))?t.pop():void 0}function yd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function jv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ur(t){return this instanceof ur?(this.v=t,this):new ur(t)}function $v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(A){return Promise.resolve(A).then(v,p)}}function c(v,A){r[v]&&(i[v]=function(x){return new Promise(function(N,O){s.push([v,x,N,O])>1||u(v,x)})},A&&(i[v]=A(i[v])))}function u(v,A){try{l(r[v](A))}catch(x){g(s[0][3],x)}}function l(v){v.value instanceof ur?Promise.resolve(v.value.v).then(h,p):g(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,A){v(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Hv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jv=="function"?jv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Ea=t=>t&&typeof t.length=="number"&&typeof t!="function";function Da(t){return G(t?.then)}function Ta(t){return G(t[si])}function ba(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function Ca(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function F0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Aa=F0();function Sa(t){return G(t?.[Aa])}function Na(t){return $v(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ur(n.read());if(i)return yield ur(void 0);yield yield ur(r)}}finally{n.releaseLock()}})}function Ra(t){return G(t?.getReader)}function Ce(t){if(t instanceof Y)return t;if(t!=null){if(Ta(t))return L0(t);if(Ea(t))return V0(t);if(Da(t))return U0(t);if(ba(t))return qv(t);if(Sa(t))return j0(t);if(Ra(t))return B0(t)}throw Ca(t)}function L0(t){return new Y(e=>{let n=t[si]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function V0(t){return new Y(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function U0(t){return new Y(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pa)})}function j0(t){return new Y(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function qv(t){return new Y(e=>{$0(t,e).catch(n=>e.error(n))})}function B0(t){return qv(Na(t))}function $0(t,e){var n,r,i,s;return Bv(this,void 0,void 0,function*(){try{for(n=Hv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function nt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Nn(t,e=0){return ie((n,r)=>{n.subscribe(X(r,i=>nt(r,t,()=>r.next(i),e),()=>nt(r,t,()=>r.complete(),e),i=>nt(r,t,()=>r.error(i),e)))})}function Rn(t,e=0){return ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function zv(t,e){return Ce(t).pipe(Rn(e),Nn(e))}function Gv(t,e){return Ce(t).pipe(Rn(e),Nn(e))}function Wv(t,e){return new Y(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Kv(t,e){return new Y(n=>{let r;return nt(n,e,()=>{r=t[Aa](),nt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function xa(t,e){if(!t)throw new Error("Iterable cannot be null");return new Y(n=>{nt(n,e,()=>{let r=t[Symbol.asyncIterator]();nt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Qv(t,e){return xa(Na(t),e)}function Yv(t,e){if(t!=null){if(Ta(t))return zv(t,e);if(Ea(t))return Wv(t,e);if(Da(t))return Gv(t,e);if(ba(t))return xa(t,e);if(Sa(t))return Kv(t,e);if(Ra(t))return Qv(t,e)}throw Ca(t)}function Mt(t,e){return e?Yv(t,e):Ce(t)}function Jv(...t){let e=Sn(t);return Mt(t,e)}function H0(t,e){let n=G(t)?t:()=>t,r=i=>i.error(n());return new Y(e?i=>e.schedule(r,0,i):r)}function q0(t){return!!t&&(t instanceof Y||G(t.lift)&&G(t.subscribe))}function Zv(t){return t instanceof Date&&!isNaN(t)}function rt(t,e){return ie((n,r)=>{let i=0;n.subscribe(X(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:z0}=Array;function G0(t,e){return z0(e)?t(...e):t(e)}function Pa(t){return rt(e=>G0(t,e))}var{isArray:W0}=Array,{getPrototypeOf:K0,prototype:Q0,keys:Y0}=Object;function Ma(t){if(t.length===1){let e=t[0];if(W0(e))return{args:e,keys:null};if(J0(e)){let n=Y0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function J0(t){return t&&typeof t=="object"&&K0(t)===Q0}function Oa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Z0(...t){let e=Sn(t),n=wa(t),{args:r,keys:i}=Ma(t);if(r.length===0)return Mt([],e);let s=new Y(X0(r,e,i?o=>Oa(i,o):ut));return n?s.pipe(Pa(n)):s}function X0(t,e,n=ut){return r=>{Xv(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)Xv(e,()=>{let l=Mt(t[u],e),h=!1;l.subscribe(X(r,p=>{s[u]=p,h||(h=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Xv(t,e,n){t?nt(n,t,e):e()}function e_(t,e,n,r,i,s,o,c){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=x=>l<r?A(x):u.push(x),A=x=>{s&&e.next(x),l++;let N=!1;Ce(n(x,h++)).subscribe(X(e,O=>{i?.(O),s?v(O):e.next(O)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let O=u.shift();o?nt(e,o,()=>A(O)):A(O)}g()}catch(O){e.error(O)}}))};return t.subscribe(X(e,v,()=>{p=!0,g()})),()=>{c?.()}}function lr(t,e,n=1/0){return G(e)?lr((r,i)=>rt((s,o)=>e(r,s,i,o))(Ce(t(r,i))),n):(typeof e=="number"&&(n=e),ie((r,i)=>e_(r,i,t,n)))}function vd(t=1/0){return lr(ut,t)}function t_(){return vd(1)}function ka(...t){return t_()(Mt(t,Sn(t)))}function eA(t){return new Y(e=>{Ce(t()).subscribe(e)})}function tA(...t){let e=wa(t),{args:n,keys:r}=Ma(t),i=new Y(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Ce(n[h]).subscribe(X(s,g=>{p||(p=!0,l--),c[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Oa(r,c):c),s.complete())}))}});return e?i.pipe(Pa(e)):i}function n_(t=0,e,n=md){let r=-1;return e!=null&&(Ia(e)?n=e:r=e),new Y(i=>{let s=Zv(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function nA(t=0,e=ui){return t<0&&(t=0),n_(t,t,e)}function li(t,e){return ie((n,r)=>{let i=0;n.subscribe(X(r,s=>t.call(e,s,i++)&&r.next(s)))})}function r_(t){return ie((e,n)=>{let r=null,i=!1,s;r=e.subscribe(X(n,void 0,void 0,o=>{s=Ce(t(o,r_(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function i_(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(X(o,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function rA(t,e){return G(e)?lr(t,e,1):lr(t,1)}function Ms(t){return ie((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _d(t){return t<=0?()=>Ps:ie((e,n)=>{let r=0;e.subscribe(X(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function iA(t){return rt(()=>t)}function Fa(t=sA){return ie((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sA(){return new Xt}function oA(t){return ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function s_(t,e){let n=arguments.length>=2;return r=>r.pipe(t?li((i,s)=>t(i,s,r)):ut,_d(1),n?Ms(e):Fa(()=>new Xt))}function Id(t){return t<=0?()=>Ps:ie((e,n)=>{let r=[];e.subscribe(X(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function aA(t,e){let n=arguments.length>=2;return r=>r.pipe(t?li((i,s)=>t(i,s,r)):ut,Id(1),n?Ms(e):Fa(()=>new Xt))}function o_(t,e){return ie(i_(t,e,arguments.length>=2,!0))}function a_(...t){let e=Sn(t);return ie((n,r)=>{(e?ka(t,n,e):ka(t,n)).subscribe(r)})}function cA(t,e){return ie((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(X(r,u=>{i?.unsubscribe();let l=0,h=s++;Ce(t(u,h)).subscribe(i=X(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function uA(t){return ie((e,n)=>{Ce(t).subscribe(X(n,()=>n.complete(),Ns)),!n.closed&&e.subscribe(n)})}function wd(t,e,n){let r=G(t)||e||n?{next:t,error:e,complete:n}:t;return r?ie((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(X(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ut}function c_(t,e){return Object.is(t,e)}var Me=null,Os=!1,La=1,Ot=Symbol("SIGNAL");function Z(t){let e=Me;return Me=t,e}function lA(){return Os}var Fs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bd(t){if(Os)throw new Error("");if(Me===null)return;Me.consumerOnSignalRead(t);let e=Me.nextProducerIndex++;if(di(Me),e<Me.producerNode.length&&Me.producerNode[e]!==t&&ks(Me)){let n=Me.producerNode[e];$a(n,Me.producerIndexOfThis[e])}Me.producerNode[e]!==t&&(Me.producerNode[e]=t,Me.producerIndexOfThis[e]=ks(Me)?f_(t,Me,e):0),Me.producerLastReadVersion[e]=t.version}function dA(){La++}function u_(t){if(!(ks(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===La)){if(!t.producerMustRecompute(t)&&!Ba(t)){t.dirty=!1,t.lastCleanEpoch=La;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=La}}function l_(t){if(t.liveConsumerNode===void 0)return;let e=Os;Os=!0;try{for(let n of t.liveConsumerNode)n.dirty||h_(n)}finally{Os=e}}function d_(){return Me?.consumerAllowSignalWrites!==!1}function h_(t){t.dirty=!0,l_(t),t.consumerMarkedDirty?.(t)}function Ua(t){return t&&(t.nextProducerIndex=0),Z(t)}function ja(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ks(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$a(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ba(t){di(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(u_(n),r!==n.version))return!0}return!1}function Cd(t){if(di(t),ks(t))for(let e=0;e<t.producerNode.length;e++)$a(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function f_(t,e,n){if(p_(t),di(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=f_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function $a(t,e){if(p_(t),di(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)$a(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];di(i),i.producerIndexOfThis[r]=e}}function ks(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function di(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function p_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function m_(t){let e=Object.create(hA);e.computation=t;let n=()=>{if(u_(e),bd(e),e.value===Va)throw e.error;return e.value};return n[Ot]=e,n}var Ed=Symbol("UNSET"),Dd=Symbol("COMPUTING"),Va=Symbol("ERRORED"),hA=Pt(xt({},Fs),{value:Ed,dirty:!0,error:null,equal:c_,producerMustRecompute(t){return t.value===Ed||t.value===Dd},producerRecomputeValue(t){if(t.value===Dd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Dd;let n=Ua(t),r;try{r=t.computation()}catch(i){r=Va,t.error=i}finally{ja(t,n)}if(e!==Ed&&e!==Va&&r!==Va&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function fA(){throw new Error}var g_=fA;function y_(){g_()}function v_(t){g_=t}var pA=null;function __(t){let e=Object.create(w_);e.value=t;let n=()=>(bd(e),e.value);return n[Ot]=e,n}function Ad(t,e){d_()||y_(),t.equal(t.value,e)||(t.value=e,mA(t))}function I_(t,e){d_()||y_(),Ad(t,e(t.value))}var w_=Pt(xt({},Fs),{equal:c_,value:void 0});function mA(t){t.version++,dA(),l_(t),pA?.()}function E_(t,e,n){let r=Object.create(gA);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=u=>{r.cleanupFn=u};function s(u){return u.fn===null&&u.schedule===null}function o(u){s(u)||(Cd(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=Td)}let c=()=>{if(r.fn===null)return;if(lA())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Ba(r))return;r.hasRun=!0;let u=Ua(r);try{r.cleanupFn(),r.cleanupFn=Td,r.fn(i)}finally{ja(r,u)}};return r.ref={notify:()=>h_(r),run:c,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[Ot]:r},r.ref}var Td=()=>{},gA=Pt(xt({},Fs),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Td});var hI="https://g.co/ng/security#xss",re=class extends Error{constructor(e,n){super(fI(e,n)),this.code=e}};function fI(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Js(t){return{toString:t}.toString()}var Ha="__parameters__";function yA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pI(t,e,n){return Js(()=>{let r=yA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,h){let p=u.hasOwnProperty(Ha)?u[Ha]:Object.defineProperty(u,Ha,{value:[]})[Ha];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mt=globalThis;function fe(t){for(let e in t)if(t[e]===fe)return e;throw Error("Could not find renamed property on target object.")}function vA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qd(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var _A=fe({__forward_ref__:fe});function mI(t){return t.__forward_ref__=mI,t.toString=function(){return et(this())},t}function Xe(t){return gI(t)?t():t}function gI(t){return typeof t=="function"&&t.hasOwnProperty(_A)&&t.__forward_ref__===mI}function de(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function of(t){return{providers:t.providers||[],imports:t.imports||[]}}function bc(t){return D_(t,yI)||D_(t,vI)}function Wq(t){return bc(t)!==null}function D_(t,e){return t.hasOwnProperty(e)?t[e]:null}function IA(t){let e=t&&(t[yI]||t[vI]);return e||null}function T_(t){return t&&(t.hasOwnProperty(b_)||t.hasOwnProperty(wA))?t[b_]:null}var yI=fe({\u0275prov:fe}),b_=fe({\u0275inj:fe}),vI=fe({ngInjectableDef:fe}),wA=fe({ngInjectorDef:fe}),oe=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=de({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _I(t){return t&&!!t.\u0275providers}var EA=fe({\u0275cmp:fe}),DA=fe({\u0275dir:fe}),TA=fe({\u0275pipe:fe}),bA=fe({\u0275mod:fe}),nc=fe({\u0275fac:fe}),Ls=fe({__NG_ELEMENT_ID__:fe}),C_=fe({__NG_ENV_ID__:fe});function vi(t){return typeof t=="string"?t:t==null?"":String(t)}function CA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():vi(t)}function AA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,t)}function af(t,e){throw new re(-201,!1)}var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{}),zd;function II(){return zd}function it(t){let e=zd;return zd=t,e}function wI(t,e,n){let r=bc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ne.Optional)return null;if(e!==void 0)return e;af(t,"Injector")}var SA={},Vs=SA,Gd="__NG_DI_FLAG__",rc="ngTempTokenPath",NA="ngTokenPath",RA=/\n/gm,xA="\u0275",A_="__source",gi;function PA(){return gi}function xn(t){let e=gi;return gi=t,e}function MA(t,e=ne.Default){if(gi===void 0)throw new re(-203,!1);return gi===null?wI(t,void 0,e):gi.get(t,e&ne.Optional?null:void 0,e)}function Ie(t,e=ne.Default){return(II()||MA)(Xe(t),e)}function ue(t,e=ne.Default){return Ie(t,Cc(e))}function Cc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wd(t){let e=[];for(let n=0;n<t.length;n++){let r=Xe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new re(900,!1);let i,s=ne.Default;for(let o=0;o<r.length;o++){let c=r[o],u=OA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(Ie(i,s))}else e.push(Ie(r))}return e}function EI(t,e){return t[Gd]=e,t.prototype[Gd]=e,t}function OA(t){return t[Gd]}function kA(t,e,n,r){let i=t[rc];throw e[A_]&&i.unshift(e[A_]),t.message=FA(`
`+t.message,i,n,r),t[NA]=i,t[rc]=null,t}function FA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==xA?t.slice(2):t;let i=et(e);if(Array.isArray(e))i=e.map(et).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):et(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(RA,`
  `)}`}var at=EI(pI("Optional"),8);var DI=EI(pI("SkipSelf"),4);function mr(t,e){let n=t.hasOwnProperty(nc);return n?t[nc]:null}function LA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function VA(t){return t.flat(Number.POSITIVE_INFINITY)}function cf(t,e){t.forEach(n=>Array.isArray(n)?cf(n,e):e(n))}function TI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ic(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function UA(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function jA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Ac(t,e,n){let r=Zs(t,e);return r>=0?t[r|1]=n:(r=~r,jA(t,r,e,n)),r}function Sd(t,e){let n=Zs(t,e);if(n>=0)return t[n|1]}function Zs(t,e){return BA(t,e,1)}function BA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var _i={},st=[],sc=new oe(""),bI=new oe("",-1),CI=new oe(""),oc=class{get(e,n=Vs){if(n===Vs){let r=new Error(`NullInjectorError: No provider for ${et(e)}!`);throw r.name="NullInjectorError",r}return n}},AI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(AI||{}),Us=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Us||{}),Mn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Mn||{});function $A(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Kd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];HA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function SI(t){return t===3||t===4||t===6}function HA(t){return t.charCodeAt(0)===64}function js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?S_(t,n,i,null,e[++r]):S_(t,n,i,null,null))}}return t}function S_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var NI="ng-template";function qA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$A(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(uf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function uf(t){return t.type===4&&t.value!==NI}function zA(t,e,n){let r=t.type===4&&!n?NI:t.value;return e===r}function GA(t,e,n){let r=4,i=t.attrs,s=i!==null?QA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Tt(r)&&!Tt(u))return!1;if(o&&Tt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!zA(t,u,n)||u===""&&e.length===1){if(Tt(r))return!1;o=!0}}else if(r&8){if(i===null||!qA(t,i,u,n)){if(Tt(r))return!1;o=!0}}else{let l=e[++c],h=WA(u,i,uf(t),n);if(h===-1){if(Tt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Tt(r))return!1;o=!0}}}}return Tt(r)||o}function Tt(t){return(t&1)===0}function WA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return YA(e,t)}function RI(t,e,n=!1){for(let r=0;r<e.length;r++)if(GA(t,e[r],n))return!0;return!1}function KA(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function QA(t){for(let e=0;e<t.length;e++){let n=t[e];if(SI(n))return e}return t.length}function YA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function JA(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function N_(t,e){return t?":not("+e.trim()+")":e}function ZA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Tt(o)&&(e+=N_(s,i),i=""),r=o,s=s||!Tt(r);n++}return i!==""&&(e+=N_(s,i)),e}function XA(t){return t.map(ZA).join(",")}function eS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Tt(i))break;i=s}r++}return{attrs:e,classes:n}}function Kq(t){return Js(()=>{let e=OI(t),n=Pt(xt({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===AI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Us.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""});kI(n);let r=t.dependencies;return n.directiveDefs=x_(r,!1),n.pipeDefs=x_(r,!0),n.id=iS(n),n})}function tS(t){return en(t)||xI(t)}function nS(t){return t!==null}function lf(t){return Js(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function R_(t,e){if(t==null)return _i;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Mn.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Mn.None?[r,c]:r,e[s]=o):n[s]=r}return n}function br(t){return Js(()=>{let e=OI(t);return kI(e),e})}function Ni(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function en(t){return t[EA]||null}function xI(t){return t[DA]||null}function PI(t){return t[TA]||null}function rS(t){let e=en(t)||xI(t)||PI(t);return e!==null?e.standalone:!1}function MI(t,e){let n=t[bA]||null;if(!n&&e===!0)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}function OI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_i,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:R_(t.inputs,e),outputs:R_(t.outputs),debugInfo:null}}function kI(t){t.features?.forEach(e=>e(t))}function x_(t,e){if(!t)return null;let n=e?PI:tS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(nS)}function iS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Cr(t){return{\u0275providers:t}}function sS(...t){return{\u0275providers:FI(!0,t),\u0275fromNgModule:!0}}function FI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return cf(e,o=>{let c=o;Qd(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&LI(i,s),n}function LI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];df(i,s=>{e(s,r)})}}function Qd(t,e,n,r){if(t=Xe(t),!t)return!1;let i=null,s=T_(t),o=!s&&en(t);if(!s&&!o){let u=t.ngModule;if(s=T_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Qd(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{cf(s.imports,h=>{Qd(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&LI(l,e)}if(!c){let l=mr(i)||(()=>new i);e({provide:i,useFactory:l,deps:st},i),e({provide:CI,useValue:i,multi:!0},i),e({provide:sc,useValue:()=>Ie(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;df(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function df(t,e){for(let n of t)_I(n)&&(n=n.\u0275providers),Array.isArray(n)?df(n,e):e(n)}var oS=fe({provide:String,useValue:fe});function VI(t){return t!==null&&typeof t=="object"&&oS in t}function aS(t){return!!(t&&t.useExisting)}function cS(t){return!!(t&&t.useFactory)}function Ii(t){return typeof t=="function"}function uS(t){return!!t.useClass}var UI=new oe(""),Qa={},lS={},Nd;function Sc(){return Nd===void 0&&(Nd=new oc),Nd}var On=class{},Bs=class extends On{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jd(e,o=>this.processProvider(o)),this.records.set(bI,hi(void 0,this)),i.has("environment")&&this.records.set(On,hi(void 0,this));let s=this.records.get(UI);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(CI,st,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=xn(this),r=it(void 0),i;try{return e()}finally{xn(n),it(r)}}get(e,n=Vs,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(C_))return e[C_](this);r=Cc(r);let i,s=xn(this),o=it(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=mS(e)&&bc(e);l&&this.injectableDefInScope(l)?u=hi(Yd(e),Qa):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?Sc():this.parent;return n=r&ne.Optional&&n===Vs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[rc]=c[rc]||[]).unshift(et(e)),s)throw c;return kA(c,e,"R3InjectorError",this.source)}else throw c}finally{it(o),xn(s)}}resolveInjectorInitializers(){let e=Z(null),n=xn(this),r=it(void 0),i;try{let s=this.get(sc,st,ne.Self);for(let o of s)o()}finally{xn(n),it(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){e=Xe(e);let n=Ii(e)?e:Xe(e&&e.provide),r=hS(e);if(!Ii(e)&&e.multi===!0){let i=this.records.get(n);i||(i=hi(void 0,Qa,!0),i.factory=()=>Wd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===Qa&&(n.value=lS,n.value=n.factory()),typeof n.value=="object"&&n.value&&pS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Xe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yd(t){let e=bc(t),n=e!==null?e.factory:mr(t);if(n!==null)return n;if(t instanceof oe)throw new re(204,!1);if(t instanceof Function)return dS(t);throw new re(204,!1)}function dS(t){if(t.length>0)throw new re(204,!1);let n=IA(t);return n!==null?()=>n.factory(t):()=>new t}function hS(t){if(VI(t))return hi(void 0,t.useValue);{let e=jI(t);return hi(e,Qa)}}function jI(t,e,n){let r;if(Ii(t)){let i=Xe(t);return mr(i)||Yd(i)}else if(VI(t))r=()=>Xe(t.useValue);else if(cS(t))r=()=>t.useFactory(...Wd(t.deps||[]));else if(aS(t))r=()=>Ie(Xe(t.useExisting));else{let i=Xe(t&&(t.useClass||t.provide));if(fS(t))r=()=>new i(...Wd(t.deps));else return mr(i)||Yd(i)}return r}function hi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fS(t){return!!t.deps}function pS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function mS(t){return typeof t=="function"||typeof t=="object"&&t instanceof oe}function Jd(t,e){for(let n of t)Array.isArray(n)?Jd(n,e):n&&_I(n)?Jd(n.\u0275providers,e):e(n)}function gS(t,e){t instanceof Bs&&t.assertNotDestroyed();let n,r=xn(t),i=it(void 0);try{return e()}finally{xn(r),it(i)}}function BI(){return II()!==void 0||PA()!=null}function $I(t){if(!BI())throw new re(-203,!1)}function yS(t){return typeof t=="function"}var sn=0,q=1,B=2,Ve=3,bt=4,lt=5,wi=6,$s=7,ze=8,Ei=9,Ct=10,ye=11,Hs=12,P_=13,Ri=14,gt=15,Xs=16,fi=17,tn=18,Nc=19,HI=20,Pn=21,Ya=22,gr=23,Ue=25,qI=1;var yr=7,ac=8,Di=9,Ge=10,hf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(hf||{});function fr(t){return Array.isArray(t)&&typeof t[qI]=="object"}function on(t){return Array.isArray(t)&&t[qI]===!0}function ff(t){return(t.flags&4)!==0}function Rc(t){return t.componentOffset>-1}function xc(t){return(t.flags&1)===1}function kn(t){return!!t.template}function vS(t){return(t[B]&512)!==0}var Zd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Pc(){return GI}function GI(t){return t.type.prototype.ngOnChanges&&(t.setInput=IS),_S}Pc.ngInherit=!0;function _S(){let t=KI(this),e=t?.current;if(e){let n=t.previous;if(n===_i)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function IS(t,e,n,r,i){let s=this.declaredInputs[r],o=KI(t)||wS(t,{previous:_i,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new Zd(l&&l.currentValue,n,u===_i),zI(t,e,i,n)}var WI="__ngSimpleChanges__";function KI(t){return t[WI]||null}function wS(t,e){return t[WI]=e}var M_=null;var kt=function(t,e,n){M_?.(t,e,n)},QI="svg",ES="math",DS=!1;function TS(){return DS}function Lt(t){for(;Array.isArray(t);)t=t[sn];return t}function YI(t,e){return Lt(e[t])}function yt(t,e){return Lt(e[t.index])}function pf(t,e){return t.data[e]}function mf(t,e){return t[e]}function Vn(t,e){let n=e[t];return fr(n)?n:n[sn]}function bS(t){return(t[B]&4)===4}function gf(t){return(t[B]&128)===128}function CS(t){return on(t[Ve])}function Ti(t,e){return e==null?null:t[e]}function JI(t){t[fi]=0}function AS(t){t[B]&1024||(t[B]|=1024,gf(t)&&qs(t))}function SS(t,e){for(;t>0;)e=e[Ri],t--;return e}function yf(t){return!!(t[B]&9216||t[gr]?.dirty)}function Xd(t){t[Ct].changeDetectionScheduler?.notify(1),yf(t)?qs(t):t[B]&64&&(TS()?(t[B]|=1024,qs(t)):t[Ct].changeDetectionScheduler?.notify())}function qs(t){t[Ct].changeDetectionScheduler?.notify();let e=zs(t);for(;e!==null&&!(e[B]&8192||(e[B]|=8192,!gf(e)));)e=zs(e)}function ZI(t,e){if((t[B]&256)===256)throw new re(911,!1);t[Pn]===null&&(t[Pn]=[]),t[Pn].push(e)}function NS(t,e){if(t[Pn]===null)return;let n=t[Pn].indexOf(e);n!==-1&&t[Pn].splice(n,1)}function zs(t){let e=t[Ve];return on(e)?e[Ve]:e}var W={lFrame:sw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function RS(){return W.lFrame.elementDepthCount}function xS(){W.lFrame.elementDepthCount++}function PS(){W.lFrame.elementDepthCount--}function XI(){return W.bindingsEnabled}function ew(){return W.skipHydrationRootTNode!==null}function MS(t){return W.skipHydrationRootTNode===t}function OS(){W.skipHydrationRootTNode=null}function j(){return W.lFrame.lView}function Ee(){return W.lFrame.tView}function Qq(t){return W.lFrame.contextLView=t,t[ze]}function Yq(t){return W.lFrame.contextLView=null,t}function We(){let t=tw();for(;t!==null&&t.type===64;)t=t.parent;return t}function tw(){return W.lFrame.currentTNode}function kS(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ar(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function vf(){return W.lFrame.isParent}function _f(){W.lFrame.isParent=!1}function FS(){return W.lFrame.contextLView}function At(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function LS(){return W.lFrame.bindingIndex}function VS(t){return W.lFrame.bindingIndex=t}function xi(){return W.lFrame.bindingIndex++}function If(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function US(){return W.lFrame.inI18n}function jS(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,eh(e)}function BS(){return W.lFrame.currentDirectiveIndex}function eh(t){W.lFrame.currentDirectiveIndex=t}function $S(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function nw(){return W.lFrame.currentQueryIndex}function wf(t){W.lFrame.currentQueryIndex=t}function HS(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[lt]:null}function rw(t,e,n){if(n&ne.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ne.Host);)if(i=HS(s),i===null||(s=s[Ri],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=W.lFrame=iw();return r.currentTNode=e,r.lView=t,!0}function Ef(t){let e=iw(),n=t[q];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function iw(){let t=W.lFrame,e=t===null?null:t.child;return e===null?sw(t):e}function sw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ow(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var aw=ow;function Df(){let t=ow();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qS(t){return(W.lFrame.contextLView=SS(t,W.lFrame.contextLView))[ze]}function an(){return W.lFrame.selectedIndex}function vr(t){W.lFrame.selectedIndex=t}function Mc(){let t=W.lFrame;return pf(t.tView,t.selectedIndex)}function Jq(){W.lFrame.currentNamespace=QI}function Zq(){zS()}function zS(){W.lFrame.currentNamespace=null}function GS(){return W.lFrame.currentNamespace}var cw=!0;function Oc(){return cw}function kc(t){cw=t}function WS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=GI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Fc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ja(t,e,n){uw(t,e,3,n)}function Za(t,e,n,r){(t[B]&3)===n&&uw(t,e,n,r)}function Rd(t,e){let n=t[B];(n&3)===e&&(n&=16383,n+=1,t[B]=n)}function uw(t,e,n,r){let i=r!==void 0?t[fi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[fi]+=65536),(c<s||s==-1)&&(KS(t,n,e,u),t[fi]=(t[fi]&4294901760)+u+2),u++}function O_(t,e){kt(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),kt(5,t,e)}}function KS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[B]>>14<t[fi]>>16&&(t[B]&3)===e&&(t[B]+=16384,O_(c,s)):O_(c,s)}var yi=-1,_r=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function QS(t){return t instanceof _r}function YS(t){return(t.flags&8)!==0}function JS(t){return(t.flags&16)!==0}function lw(t){return t!==yi}function cc(t){return t&32767}function ZS(t){return t>>16}function uc(t,e){let n=ZS(t),r=e;for(;n>0;)r=r[Ri],n--;return r}var th=!0;function lc(t){let e=th;return th=t,e}var XS=256,dw=XS-1,hw=5,eN=0,Ft={};function tN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ls)&&(r=n[Ls]),r==null&&(r=n[Ls]=eN++);let i=r&dw,s=1<<i;e.data[t+(i>>hw)]|=s}function dc(t,e){let n=fw(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,xd(r.data,t),xd(e,null),xd(r.blueprint,null));let i=Tf(t,e),s=t.injectorIndex;if(lw(i)){let o=cc(i),c=uc(i,e),u=c[q].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function xd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Tf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=vw(i),r===null)return yi;if(n++,i=i[Ri],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return yi}function nh(t,e,n){tN(t,e,n)}function nN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(SI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function pw(t,e,n){if(n&ne.Optional||t!==void 0)return t;af(e,"NodeInjector")}function mw(t,e,n,r){if(n&ne.Optional&&r===void 0&&(r=null),!(n&(ne.Self|ne.Host))){let i=t[Ei],s=it(void 0);try{return i?i.get(e,r,n&ne.Optional):wI(e,r,n&ne.Optional)}finally{it(s)}}return pw(r,e,n)}function gw(t,e,n,r=ne.Default,i){if(t!==null){if(e[B]&2048&&!(r&ne.Self)){let o=oN(t,e,n,r,Ft);if(o!==Ft)return o}let s=yw(t,e,n,r,Ft);if(s!==Ft)return s}return mw(e,n,r,i)}function yw(t,e,n,r,i){let s=iN(n);if(typeof s=="function"){if(!rw(e,t,r))return r&ne.Host?pw(i,n,r):mw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ne.Optional))af(n);else return o}finally{aw()}}else if(typeof s=="number"){let o=null,c=fw(t,e),u=yi,l=r&ne.Host?e[gt][lt]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?Tf(t,e):e[c+8],u===yi||!F_(r,!1)?c=-1:(o=e[q],c=cc(u),e=uc(u,e)));c!==-1;){let h=e[q];if(k_(s,c,h.data)){let p=rN(c,e,n,o,r,l);if(p!==Ft)return p}u=e[c+8],u!==yi&&F_(r,e[q].data[c+8]===l)&&k_(s,c,e)?(o=h,c=cc(u),e=uc(u,e)):c=-1}}return i}function rN(t,e,n,r,i,s){let o=e[q],c=o.data[t+8],u=r==null?Rc(c)&&th:r!=o&&(c.type&3)!==0,l=i&ne.Host&&s===c,h=Xa(c,o,n,u,l);return h!==null?Ir(e,o,h,c):Ft}function Xa(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?c:c+h,g=i?c+h:l;for(let v=p;v<g;v++){let A=o[v];if(v<u&&n===A||v>=u&&A.type===n)return v}if(i){let v=o[u];if(v&&kn(v)&&v.type===n)return u}return null}function Ir(t,e,n,r){let i=t[n],s=e.data;if(QS(i)){let o=i;o.resolving&&AA(CA(s[n]));let c=lc(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?it(o.injectImpl):null,h=rw(t,r,ne.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&WS(n,s[n],e)}finally{l!==null&&it(l),lc(c),o.resolving=!1,aw()}}return i}function iN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ls)?t[Ls]:void 0;return typeof e=="number"?e>=0?e&dw:sN:e}function k_(t,e,n){let r=1<<t;return!!(n[e+(t>>hw)]&r)}function F_(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var pr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return gw(this._tNode,this._lView,e,Cc(r),n)}};function sN(){return new pr(We(),j())}function Xq(t){return Js(()=>{let e=t.prototype.constructor,n=e[nc]||rh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[nc]||rh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function rh(t){return gI(t)?()=>{let e=rh(Xe(t));return e&&e()}:mr(t)}function oN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[B]&2048&&!(o[B]&512);){let c=yw(s,o,n,r|ne.Self,Ft);if(c!==Ft)return c;let u=s.parent;if(!u){let l=o[HI];if(l){let h=l.get(n,Ft,r);if(h!==Ft)return h}u=vw(o),o=o[Ri]}s=u}return i}function vw(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[lt]:null}function aN(t){return nN(We(),t)}function L_(t,e=null,n=null,r){let i=_w(t,e,n,r);return i.resolveInjectorInitializers(),i}function _w(t,e=null,n=null,r,i=new Set){let s=[n||st,sS(t)];return r=r||(typeof t=="object"?void 0:et(t)),new Bs(s,e||Sc(),r||null,i)}var vt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Vs}static{this.NULL=new oc}static create(n,r){if(Array.isArray(n))return L_({name:""},r,n,"");{let i=n.name??"";return L_({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=de({token:t,providedIn:"any",factory:()=>Ie(bI)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var cN="ngOriginalError";function Pd(t){return t[cN]}var Fn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pd(e);for(;n&&Pd(n);)n=Pd(n);return n||null}},Iw=new oe("",{providedIn:"root",factory:()=>ue(Fn).handleError.bind(void 0)}),Lc=(()=>{class t{static{this.__NG_ELEMENT_ID__=uN}static{this.__NG_ENV_ID__=n=>n}}return t})(),ih=class extends Lc{constructor(e){super(),this._lView=e}onDestroy(e){return ZI(this._lView,e),()=>NS(this._lView,e)}};function uN(){return new ih(j())}function lN(){return Pi(We(),j())}function Pi(t,e){return new Un(yt(t,e))}var Un=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=lN}}return t})();function dN(t){return t instanceof Un?t.nativeElement:t}var sh=class extends An{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,BI()&&(this.destroyRef=ue(Lc,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Md(s),i&&(i=Md(i)),o&&(o=Md(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Re&&e.add(c),c}};function Md(t){return e=>{setTimeout(t,void 0,e)}}var hr=sh;function hN(){return this._results[Symbol.iterator]()}var oh=class t{get changes(){return this._changes??=new hr}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=hN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=VA(e);(this._changesDetected=!LA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function ww(t){return(t.flags&128)===128}var Ew=new Map,fN=0;function pN(){return fN++}function mN(t){Ew.set(t[Nc],t)}function gN(t){Ew.delete(t[Nc])}var V_="__ngContext__";function Ln(t,e){fr(e)?(t[V_]=e[Nc],mN(e)):t[V_]=e}function Dw(t){return bw(t[Hs])}function Tw(t){return bw(t[bt])}function bw(t){for(;t!==null&&!on(t);)t=t[bt];return t}var ah;function e4(t){ah=t}function yN(){if(ah!==void 0)return ah;if(typeof document<"u")return document;throw new re(210,!1)}var t4=new oe("",{providedIn:"root",factory:()=>vN}),vN="ng",_N=new oe(""),eo=new oe("",{providedIn:"platform",factory:()=>"unknown"});var n4=new oe(""),r4=new oe("",{providedIn:"root",factory:()=>yN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IN="h",wN="b";var EN=()=>null;function bf(t,e,n=!1){return EN(t,e,n)}var Cw=!1,DN=new oe("",{providedIn:"root",factory:()=>Cw});var qa;function TN(){if(qa===void 0&&(qa=null,mt.trustedTypes))try{qa=mt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qa}function Vc(t){return TN()?.createHTML(t)||t}var za;function bN(){if(za===void 0&&(za=null,mt.trustedTypes))try{za=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return za}function U_(t){return bN()?.createScriptURL(t)||t}var nn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hI})`}},ch=class extends nn{getTypeName(){return"HTML"}},uh=class extends nn{getTypeName(){return"Style"}},lh=class extends nn{getTypeName(){return"Script"}},dh=class extends nn{getTypeName(){return"URL"}},hh=class extends nn{getTypeName(){return"ResourceURL"}};function Mi(t){return t instanceof nn?t.changingThisBreaksApplicationSecurity:t}function Aw(t,e){let n=CN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hI})`)}return n===e}function CN(t){return t instanceof nn&&t.getTypeName()||null}function i4(t){return new ch(t)}function s4(t){return new uh(t)}function o4(t){return new lh(t)}function a4(t){return new dh(t)}function c4(t){return new hh(t)}function AN(t){let e=new ph(t);return SN()?new fh(e):e}var fh=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Vc(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},ph=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Vc(e),n}};function SN(){try{return!!new window.DOMParser().parseFromString(Vc(""),"text/html")}catch{return!1}}var NN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sw(t){return t=String(t),t.match(NN)?t:"unsafe:"+t}function cn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function to(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Nw=cn("area,br,col,hr,img,wbr"),Rw=cn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xw=cn("rp,rt"),RN=to(xw,Rw),xN=to(Rw,cn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),PN=to(xw,cn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),j_=to(Nw,xN,PN,RN),Pw=cn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MN=cn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ON=cn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),kN=to(Pw,MN,ON),FN=cn("script,style,template"),mh=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=UN(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=VN(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=B_(e).toLowerCase();if(!j_.hasOwnProperty(n))return this.sanitizedSomething=!0,!FN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,c=o.toLowerCase();if(!kN.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;Pw[c]&&(u=Sw(u)),this.buf.push(" ",o,'="',$_(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=B_(e).toLowerCase();j_.hasOwnProperty(n)&&!Nw.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push($_(e))}};function LN(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function VN(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Mw(e);return e}function UN(t){let e=t.firstChild;if(e&&LN(t,e))throw Mw(e);return e}function B_(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Mw(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var jN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BN=/([^\#-~ |!])/g;function $_(t){return t.replace(/&/g,"&amp;").replace(jN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(BN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ga;function u4(t,e){let n=null;try{Ga=Ga||AN(t);let r=e?String(e):"";n=Ga.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Ga.getInertBodyElement(r)}while(r!==s);let c=new mh().sanitizeChildren(H_(n)||n);return Vc(c)}finally{if(n){let r=H_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function H_(t){return"content"in t&&$N(t)?t.content:null}function $N(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Cf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cf||{});function HN(t){let e=Ow();return e?e.sanitize(Cf.URL,t)||"":Aw(t,"URL")?Mi(t):Sw(vi(t))}function qN(t){let e=Ow();if(e)return U_(e.sanitize(Cf.RESOURCE_URL,t)||"");if(Aw(t,"ResourceURL"))return U_(Mi(t));throw new re(904,!1)}function zN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?qN:HN}function l4(t,e,n){return zN(e,n)(t)}function Ow(){let t=j();return t&&t[Ct].sanitizer}var GN=/^>|^->|<!--|-->|--!>|<!-$/g,WN=/(<|>)/g,KN="\u200B$1\u200B";function QN(t){return t.replace(GN,e=>e.replace(WN,KN))}function kw(t){return t instanceof Function?t():t}function YN(t){return(t??ue(vt)).get(eo)==="browser"}var Gs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gs||{}),JN;function Af(t,e){return JN(t,e)}function pi(t,e,n,r,i){if(r!=null){let s,o=!1;on(r)?s=r:fr(r)&&(o=!0,r=r[sn]);let c=Lt(r);t===0&&n!==null?i==null?jw(e,n,c):hc(e,n,c,i||null,!0):t===1&&n!==null?hc(e,n,c,i||null,!0):t===2?fR(e,c,o):t===3&&e.destroyNode(c),s!=null&&mR(e,t,s,n,i)}}function ZN(t,e){return t.createText(e)}function XN(t,e,n){t.setValue(e,n)}function eR(t,e){return t.createComment(QN(e))}function Fw(t,e,n){return t.createElement(e,n)}function tR(t,e){Lw(t,e),e[sn]=null,e[lt]=null}function nR(t,e,n,r,i,s){r[sn]=i,r[lt]=e,Bc(t,r,n,1,i,s)}function Lw(t,e){e[Ct].changeDetectionScheduler?.notify(1),Bc(t,e,e[ye],2,null,null)}function rR(t){let e=t[Hs];if(!e)return Od(t[q],t);for(;e;){let n=null;if(fr(e))n=e[Hs];else{let r=e[Ge];r&&(n=r)}if(!n){for(;e&&!e[bt]&&e!==t;)fr(e)&&Od(e[q],e),e=e[Ve];e===null&&(e=t),fr(e)&&Od(e[q],e),n=e&&e[bt]}e=n}}function iR(t,e,n,r){let i=Ge+r,s=n.length;r>0&&(n[i-1][bt]=e),r<s-Ge?(e[bt]=n[i],TI(n,Ge+r,e)):(n.push(e),e[bt]=null),e[Ve]=n;let o=e[Xs];o!==null&&n!==o&&sR(o,e);let c=e[tn];c!==null&&c.insertView(t),Xd(e),e[B]|=128}function sR(t,e){let n=t[Di],i=e[Ve][Ve][gt];e[gt]!==i&&(t[B]|=hf.HasTransplantedViews),n===null?t[Di]=[e]:n.push(e)}function Vw(t,e){let n=t[Di],r=n.indexOf(e);n.splice(r,1)}function Ws(t,e){if(t.length<=Ge)return;let n=Ge+e,r=t[n];if(r){let i=r[Xs];i!==null&&i!==t&&Vw(i,r),e>0&&(t[n-1][bt]=r[bt]);let s=ic(t,Ge+e);tR(r[q],r);let o=s[tn];o!==null&&o.detachView(s[q]),r[Ve]=null,r[bt]=null,r[B]&=-129}return r}function Uc(t,e){if(!(e[B]&256)){let n=e[ye];n.destroyNode&&Bc(t,e,n,3,null,null),rR(e)}}function Od(t,e){if(e[B]&256)return;let n=Z(null);try{e[B]&=-129,e[B]|=256,e[gr]&&Cd(e[gr]),aR(t,e),oR(t,e),e[q].type===1&&e[ye].destroy();let r=e[Xs];if(r!==null&&on(e[Ve])){r!==e[Ve]&&Vw(r,e);let i=e[tn];i!==null&&i.detachView(t)}gN(e)}finally{Z(n)}}function oR(t,e){let n=t.cleanup,r=e[$s];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[$s]=null);let i=e[Pn];if(i!==null){e[Pn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function aR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof _r)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];kt(4,c,u);try{u.call(c)}finally{kt(5,c,u)}}else{kt(4,i,s);try{s.call(i)}finally{kt(5,i,s)}}}}}function Uw(t,e,n){return cR(t,e.parent,n)}function cR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[sn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Us.None||s===Us.Emulated)return null}return yt(r,n)}}function hc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jw(t,e,n){t.appendChild(e,n)}function q_(t,e,n,r,i){r!==null?hc(t,e,n,r,i):jw(t,e,n)}function uR(t,e,n,r){t.removeChild(e,n,r)}function Sf(t,e){return t.parentNode(e)}function lR(t,e){return t.nextSibling(e)}function Bw(t,e,n){return hR(t,e,n)}function dR(t,e,n){return t.type&40?yt(t,n):null}var hR=dR,z_;function jc(t,e,n,r){let i=Uw(t,r,e),s=e[ye],o=r.parent||e[lt],c=Bw(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)q_(s,i,n[u],c,!1);else q_(s,i,n,c,!1);z_!==void 0&&z_(s,r,e,n,i)}function ec(t,e){if(e!==null){let n=e.type;if(n&3)return yt(e,t);if(n&4)return gh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ec(t,r);{let i=t[e.index];return on(i)?gh(-1,i):Lt(i)}}else{if(n&32)return Af(e,t)()||Lt(t[e.index]);{let r=$w(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zs(t[gt]);return ec(i,r)}else return ec(t,e.next)}}}return null}function $w(t,e){if(e!==null){let r=t[gt][lt],i=e.projection;return r.projection[i]}return null}function gh(t,e){let n=Ge+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return ec(r,i)}return e[yr]}function fR(t,e,n){let r=Sf(t,e);r&&uR(t,r,e,n)}function Nf(t,e,n,r,i,s,o){for(;n!=null;){let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Ln(Lt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Nf(t,e,n.child,r,i,s,!1),pi(e,t,i,c,s);else if(u&32){let l=Af(n,r),h;for(;h=l();)pi(e,t,i,h,s);pi(e,t,i,c,s)}else u&16?Hw(t,e,r,n,i,s):pi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Bc(t,e,n,r,i,s){Nf(n,r,t.firstChild,e,i,s,!1)}function pR(t,e,n){let r=e[ye],i=Uw(t,n,e),s=n.parent||e[lt],o=Bw(s,n,e);Hw(r,0,e,n,i,o)}function Hw(t,e,n,r,i,s){let o=n[gt],u=o[lt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];pi(e,t,i,h,s)}else{let l=u,h=o[Ve];ww(r)&&(l.flags|=128),Nf(t,e,l,h,i,s,!0)}}function mR(t,e,n,r,i){let s=n[yr],o=Lt(n);s!==o&&pi(e,t,r,s,i);for(let c=Ge;c<n.length;c++){let u=n[c];Bc(u[q],u,t,e,r,s)}}function gR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Gs.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Gs.Important),t.setStyle(n,r,i,s))}}function yR(t,e,n){t.setAttribute(e,"style",n)}function qw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Kd(t,e,r),i!==null&&qw(t,e,i),s!==null&&yR(t,e,s)}var dt={};function d4(t=1){Gw(Ee(),j(),an()+t,!1)}function Gw(t,e,n,r){if(!r)if((e[B]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ja(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Za(e,s,0,n)}vr(n)}function Te(t,e=ne.Default){let n=j();if(n===null)return Ie(t,e);let r=We();return gw(r,n,Xe(t),e)}function h4(){let t="invalid";throw new Error(t)}function Ww(t,e,n,r,i,s){let o=Z(null);try{let c=null;i&Mn.SignalBased&&(c=e[r][Ot]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Mn.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):zI(e,c,r,s)}finally{Z(o)}}function vR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)vr(~i);else{let s=i,o=n[++r],c=n[++r];jS(o,s);let u=e[s];c(2,u)}}}finally{vr(-1)}}function $c(t,e,n,r,i,s,o,c,u,l,h){let p=e.blueprint.slice();return p[sn]=i,p[B]=r|4|128|8|64,(l!==null||t&&t[B]&2048)&&(p[B]|=2048),JI(p),p[Ve]=p[Ri]=t,p[ze]=n,p[Ct]=o||t&&t[Ct],p[ye]=c||t&&t[ye],p[Ei]=u||t&&t[Ei]||null,p[lt]=s,p[Nc]=pN(),p[wi]=h,p[HI]=l,p[gt]=e.type==2?t[gt]:p,p}function Oi(t,e,n,r,i){let s=t.data[e];if(s===null)s=_R(t,e,n,r,i),US()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=kS();s.injectorIndex=o===null?-1:o.injectorIndex}return Ar(s,!0),s}function _R(t,e,n,r,i){let s=tw(),o=vf(),c=o?s:s&&s.parent,u=t.data[e]=bR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function Kw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Qw(t,e,n,r,i){let s=an(),o=r&2;try{vr(-1),o&&e.length>Ue&&Gw(t,e,Ue,!1),kt(o?2:0,i),n(r,i)}finally{vr(s),kt(o?3:1,i)}}function Rf(t,e,n){if(ff(e)){let r=Z(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{Z(r)}}}function xf(t,e,n){XI()&&(xR(t,e,n,yt(n,e)),(n.flags&64)===64&&Zw(t,e,n))}function Pf(t,e,n=yt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function Yw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Mf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Mf(t,e,n,r,i,s,o,c,u,l,h){let p=Ue+r,g=p+i,v=IR(p,g),A=typeof l=="function"?l():l;return v[q]={type:t,blueprint:v,template:n,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function IR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:dt);return n}function wR(t,e,n,r){let s=r.get(DN,Cw)||n===Us.ShadowDom,o=t.selectRootElement(e,s);return ER(o),o}function ER(t){DR(t)}var DR=()=>null;function TR(t,e,n,r){let i=tE(e);i.push(n),t.firstCreatePass&&nE(t).push(r,i.length-1)}function bR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return ew()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function G_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Mn.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?W_(r,n,l,c,u):W_(r,n,l,c)}return r}function W_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function CR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],g=n?n.get(p):null,v=g?g.inputs:null,A=g?g.outputs:null;u=G_(0,p.inputs,h,u,v),l=G_(1,p.outputs,h,l,A);let x=u!==null&&o!==null&&!uf(e)?$R(u,h,o):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function AR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Of(t,e,n,r,i,s,o,c){let u=yt(e,n),l=e.inputs,h;!c&&l!=null&&(h=l[r])?(Ff(t,n,h,r,i),Rc(e)&&SR(n,e.index)):e.type&3?(r=AR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function SR(t,e){let n=Vn(e,t);n[B]&16||(n[B]|=64)}function kf(t,e,n,r){if(XI()){let i=r===null?null:{"":-1},s=MR(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&Jw(t,e,n,o,i,c),i&&OR(n,r,i)}n.mergedAttrs=js(n.mergedAttrs,n.attrs)}function Jw(t,e,n,r,i,s){for(let l=0;l<r.length;l++)nh(dc(n,e),t,r[l].type);FR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,c=!1,u=Kw(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=js(n.mergedAttrs,h.hostAttrs),LR(t,n,e,u,h),kR(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}CR(t,n,s)}function NR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;RR(o)!=c&&o.push(c),o.push(n,r,s)}}function RR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function xR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Rc(n)&&VR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||dc(n,e),Ln(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Ir(e,t,c,n);if(Ln(l,e),o!==null&&BR(e,c-i,l,u,n,o),kn(u)){let h=Vn(n.index,e);h[ze]=Ir(e,t,c,n)}}}function Zw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=BS();try{vr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];eh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&PR(u,l)}}finally{vr(-1),eh(o)}}function PR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function MR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(RI(e,o.selectors,!1))if(r||(r=[]),kn(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;yh(t,e,u)}else r.unshift(o),yh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function yh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function OR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new re(-301,!1);r.push(e[i],s)}}}function kR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kn(e)&&(n[""]=t)}}function FR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=mr(i.type,!0)),o=new _r(s,kn(i),Te);t.blueprint[r]=o,n[r]=o,NR(t,e,r,Kw(t,n,i.hostVars,dt),i)}function VR(t,e,n){let r=yt(e,t),i=Yw(n),s=t[Ct].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Hc(t,$c(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function UR(t,e,n,r,i,s){let o=yt(t,e);jR(e[ye],o,s,t.value,n,r,i)}function jR(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?vi(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function BR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],h=o[c++],p=o[c++];Ww(r,n,u,l,h,p)}}function $R(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function Xw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function eE(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];wf(s),c.contentQueries(2,e[o],o)}}}finally{Z(r)}}}function Hc(t,e){return t[Hs]?t[P_][bt]=e:t[Hs]=e,t[P_]=e,e}function vh(t,e,n){wf(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function tE(t){return t[$s]||(t[$s]=[])}function nE(t){return t.cleanup||(t.cleanup=[])}function rE(t,e){let n=t[Ei],r=n?n.get(Fn,null):null;r&&r.handleError(e)}function Ff(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],h=t.data[o];Ww(h,l,r,c,u,i)}}function iE(t,e,n){let r=YI(e,t);XN(t[ye],r,n)}function HR(t,e){let n=Vn(e,t),r=n[q];qR(r,n);let i=n[sn];i!==null&&n[wi]===null&&(n[wi]=bf(i,n[Ei])),Lf(r,n,n[ze])}function qR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Lf(t,e,n){Ef(e);try{let r=t.viewQuery;r!==null&&vh(1,r,n);let i=t.template;i!==null&&Qw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[tn]?.finishViewCreation(t),t.staticContentQueries&&eE(t,e),t.staticViewQueries&&vh(2,t.viewQuery,n);let s=t.components;s!==null&&zR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[B]&=-5,Df()}}function zR(t,e){for(let n=0;n<e.length;n++)HR(t,e[n])}function qc(t,e,n,r){let i=Z(null);try{let s=e.tView,c=t[B]&4096?4096:16,u=$c(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Xs]=l;let h=t[tn];return h!==null&&(u[tn]=h.createEmbeddedView(s)),Lf(s,u,n),u}finally{Z(i)}}function sE(t,e){let n=Ge+e;if(n<t.length)return t[n]}function Ks(t,e){return!e||e.firstChild===null||ww(t)}function zc(t,e,n,r=!0){let i=e[q];if(iR(i,e,t,n),r){let o=gh(n,t),c=e[ye],u=Sf(c,t[yr]);u!==null&&nR(i,t[lt],c,e,u,o)}let s=e[wi];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function oE(t,e){let n=Ws(t,e);return n!==void 0&&Uc(n[q],n),n}function fc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Lt(s)),on(s)&&GR(s,r);let o=n.type;if(o&8)fc(t,e,n.child,r);else if(o&32){let c=Af(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=$w(e,n);if(Array.isArray(c))r.push(...c);else{let u=zs(e[gt]);fc(u[q],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function GR(t,e){for(let n=Ge;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&fc(r[q],r,i,e)}t[yr]!==t[sn]&&e.push(t[yr])}var aE=[];function WR(t){return t[gr]??KR(t)}function KR(t){let e=aE.pop()??Object.create(YR);return e.lView=t,e}function QR(t){t.lView[gr]!==t&&(t.lView=null,aE.push(t))}var YR=Pt(xt({},Fs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qs(t.lView)},consumerOnSignalRead(){this.lView[gr]=this}}),cE=100;function uE(t,e=!0,n=0){let r=t[Ct],i=r.rendererFactory,s=!1;s||i.begin?.();try{JR(t,n)}catch(o){throw e&&rE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function JR(t,e){_h(t,e);let n=0;for(;yf(t);){if(n===cE)throw new re(103,!1);n++,_h(t,1)}}function ZR(t,e,n,r){let i=e[B];if((i&256)===256)return;let s=!1;!s&&e[Ct].inlineEffectRunner?.flush(),Ef(e);let o=null,c=null;!s&&XR(t)&&(c=WR(e),o=Ua(c));try{JI(e),VS(t.bindingStartIndex),n!==null&&Qw(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Ja(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Za(e,p,0,null),Rd(e,0)}if(ex(e),lE(e,0),t.contentQueries!==null&&eE(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Ja(e,p)}else{let p=t.contentHooks;p!==null&&Za(e,p,1),Rd(e,1)}vR(t,e);let l=t.components;l!==null&&hE(e,l,0);let h=t.viewQuery;if(h!==null&&vh(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Ja(e,p)}else{let p=t.viewHooks;p!==null&&Za(e,p,2),Rd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ya]){for(let p of e[Ya])p();e[Ya]=null}s||(e[B]&=-73)}catch(u){throw qs(e),u}finally{c!==null&&(ja(c,o),QR(c)),Df()}}function XR(t){return t.type!==2}function lE(t,e){for(let n=Dw(t);n!==null;n=Tw(n))for(let r=Ge;r<n.length;r++){let i=n[r];dE(i,e)}}function ex(t){for(let e=Dw(t);e!==null;e=Tw(e)){if(!(e[B]&hf.HasTransplantedViews))continue;let n=e[Di];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ve];AS(i)}}}function tx(t,e,n){let r=Vn(e,t);dE(r,n)}function dE(t,e){gf(t)&&_h(t,e)}function _h(t,e){let r=t[q],i=t[B],s=t[gr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ba(s)),s&&(s.dirty=!1),t[B]&=-9217,o)ZR(r,t,r.template,t[ze]);else if(i&8192){lE(t,1);let c=r.components;c!==null&&hE(t,c,1)}}function hE(t,e,n){for(let r=0;r<e.length;r++)tx(t,e[r],n)}function Vf(t){for(t[Ct].changeDetectionScheduler?.notify();t;){t[B]|=64;let e=zs(t);if(vS(t)&&!e)return t;t=e}return null}var wr=class{get rootNodes(){let e=this._lView,n=e[q];return fc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return(this._lView[B]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ve];if(on(e)){let n=e[ac],r=n?n.indexOf(this):-1;r>-1&&(Ws(e,r),ic(n,r))}this._attachedToViewContainer=!1}Uc(this._lView[q],this._lView)}onDestroy(e){ZI(this._lView,e)}markForCheck(){Vf(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){Xd(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,uE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Lw(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e,Xd(this._lView)}},Er=(()=>{class t{static{this.__NG_ELEMENT_ID__=ix}}return t})(),nx=Er,rx=class extends nx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=qc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new wr(i)}};function ix(){return Gc(We(),j())}function Gc(t,e){return t.type&4?new rx(e,t,Pi(t,e)):null}var p4=new RegExp(`^(\\d+)*(${wN}|${IN})*(.*)`);var sx=()=>null;function Qs(t,e){return sx(t,e)}var pc=class{},Ih=class{},mc=class{};function ox(t){let e=Error(`No component factory found for ${et(t)}.`);return e[ax]=t,e}var ax="ngComponent";var wh=class{resolveComponentFactory(e){throw ox(e)}},Wc=(()=>{class t{static{this.NULL=new wh}}return t})(),Eh=class{},Kc=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>cx()}}return t})();function cx(){let t=j(),e=We(),n=Vn(e.index,t);return(fr(n)?n:t)[ye]}var ux=(()=>{class t{static{this.\u0275prov=de({token:t,providedIn:"root",factory:()=>null})}}return t})(),kd={};var K_=new Set;function jn(t){K_.has(t)||(K_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Q_(...t){}function lx(){let t=typeof mt.requestAnimationFrame=="function",e=mt[t?"requestAnimationFrame":"setTimeout"],n=mt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hr(!1),this.onMicrotaskEmpty=new hr(!1),this.onStable=new hr(!1),this.onError=new hr(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=lx().nativeRequestAnimationFrame,fx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,dx,Q_,Q_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},dx={};function Uf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Dh(t),t.isCheckStableRunning=!0,Uf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Dh(t))}function fx(t){let e=()=>{hx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,c)=>{if(px(c))return n.invokeTask(i,s,o,c);try{return Y_(t),n.invokeTask(i,s,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),J_(t)}},onInvoke:(n,r,i,s,o,c,u)=>{try{return Y_(t),n.invoke(i,s,o,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),J_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Dh(t),Uf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Dh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Y_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function J_(t){t._nesting--,Uf(t)}function px(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var mi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(mi||{}),mx={destroy(){}};function gx(t,e){!e&&$I(gx);let n=e?.injector??ue(vt);if(!YN(n))return mx;jn("NgAfterNextRender");let r=n.get(jf),i=r.handler??=new bh,s=e?.phase??mi.MixedReadWrite,o=()=>{i.unregister(u),c()},c=n.get(Lc).onDestroy(o),u=gS(n,()=>new Th(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var Th=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=ue(we),this.errorHandler=ue(Fn,{optional:!0}),ue(pc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},bh=class{constructor(){this.executingCallbacks=!1,this.buckets={[mi.EarlyRead]:new Set,[mi.Write]:new Set,[mi.MixedReadWrite]:new Set,[mi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},jf=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}}return t})();function gc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=qd(i,c);else if(s==2){let u=c,l=e[++o];r=qd(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var yc=class extends Wc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=en(e);return new Dr(n,this.ngModule)}};function Z_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function yx(t){let e=t.toLowerCase();return e==="svg"?QI:e==="math"?ES:null}var Ch=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cc(r);let i=this.injector.get(e,kd,r);return i!==kd||n===kd?i:this.parentInjector.get(e,n,r)}},Dr=class extends mc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Z_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Z_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=XA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Z(null);try{i=i||this.ngModule;let o=i instanceof On?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Ch(e,o):e,u=c.get(Eh,null);if(u===null)throw new re(407,!1);let l=c.get(ux,null),h=c.get(jf,null),p=c.get(pc,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=r?wR(v,r,this.componentDef.encapsulation,c):Fw(v,A,yx(A)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let O=null;x!==null&&(O=bf(x,c,!0));let U=Mf(0,null,null,1,0,null,null,null,null,null,null),L=$c(null,U,null,N,null,null,g,v,c,null,O);Ef(L);let J,pe;try{let Q=this.componentDef,D,y=null;Q.findHostDirectiveDefs?(D=[],y=new Map,Q.findHostDirectiveDefs(Q,D,y),D.push(Q)):D=[Q];let _=vx(L,x),E=_x(_,x,Q,D,L,g,v);pe=pf(U,Ue),x&&Ex(v,Q,x,r),n!==void 0&&Dx(pe,this.ngContentSelectors,n),J=wx(E,Q,D,y,L,[Tx]),Lf(U,L,null)}finally{Df()}return new Ah(this.componentType,J,Pi(pe,L),L,pe)}finally{Z(s)}}},Ah=class extends Ih{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ff(s[q],s,i,e,n),this.previousInputValues.set(e,n);let o=Vn(this._tNode.index,s);Vf(o)}}get injector(){return new pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vx(t,e){let n=t[q],r=Ue;return t[r]=e,Oi(n,r,2,"#host",null)}function _x(t,e,n,r,i,s,o){let c=i[q];Ix(r,t,e,o);let u=null;e!==null&&(u=bf(e,i[Ei]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=$c(i,Yw(n),null,h,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&yh(c,t,r.length-1),Hc(i,p),i[t.index]=p}function Ix(t,e,n,r){for(let i of t)e.mergedAttrs=js(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gc(e,e.mergedAttrs,!0),n!==null&&zw(r,n,e))}function wx(t,e,n,r,i,s){let o=We(),c=i[q],u=yt(o,i);Jw(c,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,g=Ir(i,c,p,o);Ln(g,i)}Zw(c,i,o),u&&Ln(u,i);let l=Ir(i,c,o.directiveStart+o.componentOffset,o);if(t[ze]=i[ze]=l,s!==null)for(let h of s)h(l,e);return Rf(c,o,i),l}function Ex(t,e,n,r){if(r)Kd(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=eS(e.selectors[0]);i&&Kd(t,n,i),s&&s.length>0&&qw(t,n,s.join(" "))}}function Dx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Tx(){let t=We();Fc(j()[q],t)}var Bn=(()=>{class t{static{this.__NG_ELEMENT_ID__=bx}}return t})();function bx(){let t=We();return pE(t,j())}var Cx=Bn,fE=class extends Cx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pi(this._hostTNode,this._hostLView)}get injector(){return new pr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Tf(this._hostTNode,this._hostLView);if(lw(e)){let n=uc(e,this._hostLView),r=cc(e),i=n[q].data[r+8];return new pr(i,n)}else return new pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=X_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ge}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Qs(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Ks(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!yS(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Dr(en(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let x=(o?l:this.parentInjector).get(On,null);x&&(s=x)}let h=en(u.componentType??{}),p=Qs(this._lContainer,h?.id??null),g=p?.firstChild??null,v=u.create(l,i,g,s);return this.insertImpl(v.hostView,c,Ks(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(CS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ve],l=new fE(u,u[lt],u[Ve]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return zc(o,i,s,r),e.attachToViewContainerRef(),TI(Fd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=X_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ws(this._lContainer,n);r&&(ic(Fd(this._lContainer),n),Uc(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ws(this._lContainer,n);return r&&ic(Fd(this._lContainer),n)!=null?new wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function X_(t){return t[ac]}function Fd(t){return t[ac]||(t[ac]=[])}function pE(t,e){let n,r=e[t.index];return on(r)?n=r:(n=Xw(r,e,null,t),e[t.index]=n,Hc(e,n)),Sx(n,e,t,r),new fE(n,t,e)}function Ax(t,e){let n=t[ye],r=n.createComment(""),i=yt(e,t),s=Sf(n,i);return hc(n,s,r,lR(n,i),!1),r}var Sx=xx,Nx=()=>!1;function Rx(t,e,n){return Nx(t,e,n)}function xx(t,e,n,r){if(t[yr])return;let i;n.type&8?i=Lt(r):i=Ax(e,n),t[yr]=i}var Sh=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Nh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Bf(e,n).matches!==null&&this.queries[n].setDirty()}},vc=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Ux(e):this.predicate=e}},Rh=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,Px(n,s)),this.matchTNodeWithReadOption(e,n,Xa(n,e,s,!1,!1))}else r===Er?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Xa(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Un||i===Bn||i===Er&&n.type&4)this.addMatch(n.index,-2);else{let s=Xa(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Px(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Mx(t,e){return t.type&11?Pi(t,e):t.type&4?Gc(t,e):null}function Ox(t,e,n,r){return n===-1?Mx(e,t):n===-2?kx(t,e,r):Ir(t,t[q],n,e)}function kx(t,e,n){if(n===Un)return Pi(e,t);if(n===Er)return Gc(e,t);if(n===Bn)return pE(e,t)}function mE(t,e,n,r){let i=e[tn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let h=s[l];c.push(Ox(e,h,o[u+1],n.metadata.read))}}i.matches=c}return i.matches}function Ph(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=mE(t,e,i,n);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],h=e[-u];for(let p=Ge;p<h.length;p++){let g=h[p];g[Xs]===g[Ve]&&Ph(g[q],g,l,r)}if(h[Di]!==null){let p=h[Di];for(let g=0;g<p.length;g++){let v=p[g];Ph(v[q],v,l,r)}}}}}return r}function Fx(t,e){return t[tn].queries[e].queryList}function gE(t,e,n){let r=new oh((n&4)===4);return TR(t,e,r,r.destroy),(e[tn]??=new Nh).queries.push(new Sh(r))-1}function Lx(t,e,n){let r=Ee();return r.firstCreatePass&&(yE(r,new vc(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),gE(r,j(),e)}function Vx(t,e,n,r){let i=Ee();if(i.firstCreatePass){let s=We();yE(i,new vc(e,n,r),s.index),jx(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return gE(i,j(),n)}function Ux(t){return t.split(",").map(e=>e.trim())}function yE(t,e,n){t.queries===null&&(t.queries=new Rh),t.queries.track(new xh(e,n))}function jx(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Bf(t,e){return t.queries.getByIndex(e)}function Bx(t,e){let n=t[q],r=Bf(n,e);return r.crossesNgTemplate?Ph(n,t,e,[]):mE(n,t,r,e)}function $x(t){return typeof t=="function"&&t[Ot]!==void 0}function g4(t,e){jn("NgSignals");let n=__(t),r=n[Ot];return e?.equal&&(r.equal=e.equal),n.set=i=>Ad(r,i),n.update=i=>I_(r,i),n.asReadonly=Hx.bind(n),n}function Hx(){let t=this[Ot];if(t.readonlyFn===void 0){let e=()=>this();e[Ot]=t,t.readonlyFn=e}return t.readonlyFn}function vE(t){return $x(t)&&typeof t.set=="function"}function qx(t){return Object.getPrototypeOf(t.prototype).constructor}function zx(t){let e=qx(t.type),n=!0,r=[t];for(;e;){let i;if(kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Wa(t.inputs),o.inputTransforms=Wa(t.inputTransforms),o.declaredInputs=Wa(t.declaredInputs),o.outputs=Wa(t.outputs);let c=i.hostBindings;c&&Yx(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&Kx(t,u),l&&Qx(t,l),Gx(t,i),vA(t.outputs,i.outputs),kn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===zx&&(n=!1)}}e=Object.getPrototypeOf(e)}Wx(r)}function Gx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Wx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=js(i.hostAttrs,n=js(n,i.hostAttrs))}}function Wa(t){return t===_i?{}:t===st?[]:t}function Kx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Qx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Yx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Jx(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var rn=class{},Mh=class{};function _E(t,e){return new _c(t,e??null,[])}var _c=class extends rn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yc(this);let i=MI(e);this._bootstrapComponents=kw(i.bootstrap),this._r3Injector=_w(e,n,[{provide:rn,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver},...r],et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Oh=class extends Mh{constructor(e){super(),this.moduleType=e}create(e){return new _c(this.moduleType,e,[])}};var Ic=class extends rn{constructor(e){super(),this.componentFactoryResolver=new yc(this),this.instance=null;let n=new Bs([...e.providers,{provide:rn,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],e.parent||Sc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zx(t,e,n=null){return new Ic({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var $f=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rs(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function IE(t){return Hf(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Xx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Hf(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function un(t,e,n){return t[e]=n}function Qc(t,e){return t[e]}function ot(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function bi(t,e,n,r){let i=ot(t,e,n);return ot(t,e+1,r)||i}function wE(t,e,n,r,i){let s=bi(t,e,n,r);return ot(t,e+2,i)||s}function Yc(t,e,n,r,i,s){let o=bi(t,e,n,r);return bi(t,e+2,i,s)||o}function eP(t){return(t.flags&32)===32}function tP(t,e,n,r,i,s,o,c,u){let l=e.consts,h=Oi(e,t,4,o||null,Ti(l,c));kf(e,n,h,Ti(l,u)),Fc(e,h);let p=h.tView=Mf(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function kh(t,e,n,r,i,s,o,c){let u=j(),l=Ee(),h=t+Ue,p=l.firstCreatePass?tP(h,l,u,e,n,r,i,s,o):l.data[h];Ar(p,!1);let g=nP(l,u,p,t);Oc()&&jc(l,u,g,p),Ln(g,u);let v=Xw(g,u,g,p);return u[h]=v,Hc(u,v),Rx(v,p,u),xc(p)&&xf(l,u,p),o!=null&&Pf(u,p,c),kh}var nP=rP;function rP(t,e,n,r){return kc(!0),e[ye].createComment("")}function iP(t,e,n,r){let i=j(),s=xi();if(ot(i,s,e)){let o=Ee(),c=Mc();UR(c,i,t,e,n,r)}return iP}function EE(t,e,n,r){return ot(t,xi(),n)?e+vi(n)+r:dt}function sP(t,e,n,r,i,s){let o=LS(),c=bi(t,o,n,i);return If(2),c?e+vi(n)+r+vi(i)+s:dt}function Ka(t,e){return t<<17|e<<2}function Tr(t){return t>>17&32767}function oP(t){return(t&2)==2}function aP(t,e){return t&131071|e<<17}function Fh(t){return t|2}function Ci(t){return(t&131068)>>2}function Ld(t,e){return t&-131069|e<<2}function cP(t){return(t&1)===1}function Lh(t){return t|1}function uP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Tr(o),u=Ci(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Zs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Tr(t[c+1]);t[r+1]=Ka(g,c),g!==0&&(t[g+1]=Ld(t[g+1],r)),t[c+1]=aP(t[c+1],r)}else t[r+1]=Ka(c,0),c!==0&&(t[c+1]=Ld(t[c+1],r)),c=r;else t[r+1]=Ka(u,0),c===0?c=r:t[u+1]=Ld(t[u+1],r),u=r;l&&(t[r+1]=Fh(t[r+1])),eI(t,h,r,!0),eI(t,h,r,!1),lP(e,h,t,r,s),o=Ka(c,u),s?e.classBindings=o:e.styleBindings=o}function lP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Zs(s,e)>=0&&(n[r+1]=Lh(n[r+1]))}function eI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Tr(i):Ci(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];dP(u,e)&&(c=!0,t[o+1]=r?Lh(l):Fh(l)),o=r?Tr(l):Ci(l)}c&&(t[n+1]=r?Fh(i):Lh(i))}function dP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zs(t,e)>=0:!1}var xe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DE(t){return t.substring(xe.key,xe.keyEnd)}function hP(t){return t.substring(xe.value,xe.valueEnd)}function fP(t){return CE(t),TE(t,Ai(t,0,xe.textEnd))}function TE(t,e){let n=xe.textEnd;return n===e?-1:(e=xe.keyEnd=mP(t,xe.key=e,n),Ai(t,e,n))}function pP(t){return CE(t),bE(t,Ai(t,0,xe.textEnd))}function bE(t,e){let n=xe.textEnd,r=xe.key=Ai(t,e,n);return n===r?-1:(r=xe.keyEnd=gP(t,r,n),r=tI(t,r,n,58),r=xe.value=Ai(t,r,n),r=xe.valueEnd=yP(t,r,n),tI(t,r,n,59))}function CE(t){xe.key=0,xe.keyEnd=0,xe.value=0,xe.valueEnd=0,xe.textEnd=t.length}function Ai(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function mP(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function gP(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function tI(t,e,n,r){return e=Ai(t,e,n),e<n&&e++,e}function yP(t,e,n){let r=-1,i=-1,s=-1,o=e,c=o;for(;o<n;){let u=t.charCodeAt(o++);if(u===59)return c;u===34||u===39?c=o=nI(t,u,o,n):e===o-4&&s===85&&i===82&&r===76&&u===40?c=o=nI(t,41,o,n):u>32&&(c=o),s=i,i=r,r=u&-33}return c}function nI(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function vP(t,e,n){let r=j(),i=xi();if(ot(r,i,e)){let s=Ee(),o=Mc();Of(s,o,r,t,e,r[ye],n,!1)}return vP}function Vh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ff(t,n,s[o],o,r)}function AE(t,e,n){return SE(t,e,n,!1),AE}function _P(t,e){return SE(t,e,null,!0),_P}function y4(t){NE(PE,IP,t,!1)}function IP(t,e){for(let n=pP(e);n>=0;n=bE(e,n))PE(t,DE(e),hP(e))}function v4(t){NE(AP,wP,t,!0)}function wP(t,e){for(let n=fP(e);n>=0;n=TE(e,n))Ac(t,DE(e),!0)}function SE(t,e,n,r){let i=j(),s=Ee(),o=If(2);if(s.firstUpdatePass&&xE(s,t,o,r),e!==dt&&ot(i,o,e)){let c=s.data[an()];ME(s,c,i,i[ye],t,i[o+1]=NP(e,n),r,o)}}function NE(t,e,n,r){let i=Ee(),s=If(2);i.firstUpdatePass&&xE(i,null,s,r);let o=j();if(n!==dt&&ot(o,s,n)){let c=i.data[an()];if(OE(c,r)&&!RE(i,s)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=qd(u,n||"")),Vh(i,c,o,n,r)}else SP(i,c,o,o[ye],o[s+1],o[s+1]=CP(t,e,n),r,s)}}function RE(t,e){return e>=t.expandoStartIndex}function xE(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[an()],o=RE(t,n);OE(s,r)&&e===null&&!o&&(e=!1),e=EP(i,s,e,r),uP(i,s,e,n,o,r)}}function EP(t,e,n,r){let i=$S(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Vd(null,t,e,n,r),n=Ys(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Vd(i,t,e,n,r),s===null){let u=DP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Vd(null,t,e,u[1],r),u=Ys(u,e.attrs,r),TP(t,e,r,u))}else s=bP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function DP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ci(r)!==0)return t[Tr(r)]}function TP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Tr(i)]=r}function bP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ys(r,o,n)}return Ys(r,e.attrs,n)}function Vd(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Ys(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Ys(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ac(t,o,n?!0:e[++s]))}return t===void 0?null:t}function CP(t,e,n){if(n==null||n==="")return st;let r=[],i=Mi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function PE(t,e,n){Ac(t,e,Mi(n))}function AP(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Ac(t,r,n)}function SP(t,e,n,r,i,s,o,c){i===dt&&(i=st);let u=0,l=0,h=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,v=l<s.length?s[l+1]:void 0,A=null,x;h===p?(u+=2,l+=2,g!==v&&(A=p,x=v)):p===null||h!==null&&h<p?(u+=2,A=h):(l+=2,A=p,x=v),A!==null&&ME(t,e,n,r,A,x,o,c),h=u<i.length?i[u]:null,p=l<s.length?s[l]:null}}function ME(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=cP(l)?rI(u,e,n,i,Ci(l),o):void 0;if(!wc(h)){wc(s)||oP(l)&&(s=rI(u,null,n,i,c,o));let p=YI(an(),n);gR(r,o,p,i,s)}}function rI(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===dt&&(g=p?st:void 0);let v=p?Sd(g,r):h===r?g:void 0;if(l&&!wc(v)&&(v=Sd(u,r)),wc(v)&&(c=v,o))return c;let A=t[i+1];i=o?Tr(A):Ci(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Sd(u,r))}return c}function wc(t){return t!==void 0}function NP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=et(Mi(t)))),t}function OE(t,e){return(t.flags&(e?8:16))!==0}var Uh=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Ud(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function RP(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),l=e[s],h=Ud(s,u,s,l,n);if(h!==0){h<0&&t.updateValue(s,l),s++;continue}let p=t.at(o),g=e[c],v=Ud(o,p,c,g,n);if(v!==0){v<0&&t.updateValue(o,g),o--,c--;continue}let A=n(s,u),x=n(o,p),N=n(s,l);if(Object.is(N,x)){let O=n(c,g);Object.is(O,A)?(t.swap(s,o),t.updateValue(o,g),c--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(r??=new Ec,i??=sI(t,s,o,n),jh(t,r,s,N))t.updateValue(s,l),s++,o++;else if(i.has(N))r.set(A,t.detach(s)),o--;else{let O=t.create(s,e[s]);t.attach(s,O),s++,o++}}for(;s<=c;)iI(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let l=t.at(s),h=u.value,p=Ud(s,l,s,h,n);if(p!==0)p<0&&t.updateValue(s,h),s++,u=c.next();else{r??=new Ec,i??=sI(t,s,o,n);let g=n(s,h);if(jh(t,r,s,g))t.updateValue(s,h),s++,o++,u=c.next();else if(!i.has(g))t.attach(s,t.create(s,h)),s++,o++,u=c.next();else{let v=n(s,l);r.set(v,t.detach(s)),o--}}}for(;!u.done;)iI(t,r,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function jh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function iI(t,e,n,r,i){if(jh(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function sI(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Ec=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function _4(t,e,n){jn("NgControlFlow");let r=j(),i=xi(),s=qh(r,Ue+t),o=0;if(ot(r,i,e)){let c=Z(null);try{if(oE(s,o),e!==-1){let u=zh(r[q],Ue+e),l=Qs(s,u.tView.ssrId),h=qc(r,u,n,{dehydratedView:l});zc(s,h,o,Ks(u,l))}}finally{Z(c)}}else{let c=sE(s,o);c!==void 0&&(c[ze]=n)}}var Bh=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ge}};function I4(t){return t}var $h=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function w4(t,e,n,r,i,s,o,c,u,l,h,p,g){jn("NgControlFlow");let v=u!==void 0,A=j(),x=c?o.bind(A[gt][ze]):o,N=new $h(v,x);A[Ue+t]=N,kh(t+1,e,n,r,i,s),v&&kh(t+2,u,l,h,p,g)}var Hh=class extends Uh{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ge}at(e){return this.getLView(e)[ze].$implicit}attach(e,n){let r=n[wi];this.needsIndexUpdate||=e!==this.length,zc(this.lContainer,n,e,Ks(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,xP(this.lContainer,e)}create(e,n){let r=Qs(this.lContainer,this.templateTNode.tView.ssrId);return qc(this.hostLView,this.templateTNode,new Bh(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Uc(e[q],e)}updateValue(e,n){this.getLView(e)[ze].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ze].$index=e}getLView(e){return PP(this.lContainer,e)}};function E4(t){let e=Z(null),n=an();try{let r=j(),i=r[q],s=r[n];if(s.liveCollection===void 0){let c=n+1,u=qh(r,c),l=zh(i,c);s.liveCollection=new Hh(u,r,l)}else s.liveCollection.reset();let o=s.liveCollection;if(RP(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let c=xi(),u=o.length===0;if(ot(r,c,u)){let l=n+2,h=qh(r,l);if(u){let p=zh(i,l),g=Qs(h,p.tView.ssrId),v=qc(r,p,void 0,{dehydratedView:g});zc(h,v,0,Ks(p,g))}else oE(h,0)}}}finally{Z(e)}}function qh(t,e){return t[e]}function xP(t,e){return Ws(t,e)}function PP(t,e){return sE(t,e)}function zh(t,e){return pf(t,e)}function MP(t,e,n,r,i,s){let o=e.consts,c=Ti(o,i),u=Oi(e,t,2,r,c);return kf(e,n,u,Ti(o,s)),u.attrs!==null&&gc(u,u.attrs,!1),u.mergedAttrs!==null&&gc(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function kE(t,e,n,r){let i=j(),s=Ee(),o=Ue+t,c=i[ye],u=s.firstCreatePass?MP(o,s,i,e,n,r):s.data[o],l=kP(s,i,u,c,e,t);i[o]=l;let h=xc(u);return Ar(u,!0),zw(c,l,u),!eP(u)&&Oc()&&jc(s,i,l,u),RS()===0&&Ln(l,i),xS(),h&&(xf(s,i,u),Rf(s,u,i)),r!==null&&Pf(i,u),kE}function FE(){let t=We();vf()?_f():(t=t.parent,Ar(t,!1));let e=t;MS(e)&&OS(),PS();let n=Ee();return n.firstCreatePass&&(Fc(n,t),ff(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&YS(e)&&Vh(n,e,j(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JS(e)&&Vh(n,e,j(),e.stylesWithoutHost,!1),FE}function OP(t,e,n,r){return kE(t,e,n,r),FE(),OP}var kP=(t,e,n,r,i,s)=>(kc(!0),Fw(r,i,GS()));function FP(t,e,n,r,i){let s=e.consts,o=Ti(s,r),c=Oi(e,t,8,"ng-container",o);o!==null&&gc(c,o,!0);let u=Ti(s,i);return kf(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function LE(t,e,n){let r=j(),i=Ee(),s=t+Ue,o=i.firstCreatePass?FP(s,i,r,e,n):i.data[s];Ar(o,!0);let c=VP(i,r,o,t);return r[s]=c,Oc()&&jc(i,r,c,o),Ln(c,r),xc(o)&&(xf(i,r,o),Rf(i,o,r)),n!=null&&Pf(r,o),LE}function VE(){let t=We(),e=Ee();return vf()?_f():(t=t.parent,Ar(t,!1)),e.firstCreatePass&&(Fc(e,t),ff(t)&&e.queries.elementEnd(t)),VE}function LP(t,e,n){return LE(t,e,n),VE(),LP}var VP=(t,e,n,r)=>(kc(!0),eR(e[ye],""));function D4(){return j()}var dr=void 0;function UP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var jP=["en",[["a","p"],["AM","PM"],dr],[["AM","PM"],dr,dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dr,"{1} 'at' {0}",dr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",UP],jd={};function Jc(t){let e=BP(t),n=oI(e);if(n)return n;let r=e.split("-")[0];if(n=oI(r),n)return n;if(r==="en")return jP;throw new re(701,!1)}function oI(t){return t in jd||(jd[t]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[t]),jd[t]}var Sr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Sr||{});function BP(t){return t.toLowerCase().replace(/_/g,"-")}var Dc="en-US",$P="USD";var HP=Dc;function qP(t){typeof t=="string"&&(HP=t.toLowerCase().replace(/_/g,"-"))}function zP(t,e,n,r){let i=j(),s=Ee(),o=We();return UE(s,i,i[ye],o,t,e,r),zP}function GP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[$s],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function UE(t,e,n,r,i,s,o){let c=xc(r),l=t.firstCreatePass&&nE(t),h=e[ze],p=tE(e),g=!0;if(r.type&3||o){let x=yt(r,e),N=o?o(x):x,O=p.length,U=o?J=>o(Lt(J[r.index])):r.index,L=null;if(!o&&c&&(L=GP(t,e,i,r.index)),L!==null){let J=L.__ngLastListenerFn__||L;J.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,g=!1}else{s=cI(r,e,h,s,!1);let J=n.listen(N,i,s);p.push(s,J),l&&l.push(i,U,O,O+1)}}else s=cI(r,e,h,s,!1);let v=r.outputs,A;if(g&&v!==null&&(A=v[i])){let x=A.length;if(x)for(let N=0;N<x;N+=2){let O=A[N],U=A[N+1],pe=e[O][U].subscribe(s),Q=p.length;p.push(s,pe),l&&l.push(i,r.index,Q,-(Q+1))}}}function aI(t,e,n,r){let i=Z(null);try{return kt(6,e,n),n(r)!==!1}catch(s){return rE(t,s),!1}finally{kt(7,e,n),Z(i)}}function cI(t,e,n,r,i){return function s(o){if(o===Function)return r;let c=t.componentOffset>-1?Vn(t.index,e):e;Vf(c);let u=aI(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=aI(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function T4(t=1){return qS(t)}function WP(t,e){let n=null,r=KA(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?RI(t,s,!0):JA(r,s))return i}return n}function b4(t){let e=j()[gt][lt];if(!e.projection){let n=t?t.length:1,r=e.projection=UA(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?WP(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function C4(t,e=0,n){let r=j(),i=Ee(),s=Oi(i,Ue+t,16,null,n||null);s.projection===null&&(s.projection=e),_f(),(!r[wi]||ew())&&(s.flags&32)!==32&&pR(i,r,s)}function KP(t,e,n){return jE(t,"",e,"",n),KP}function jE(t,e,n,r,i){let s=j(),o=EE(s,e,n,r);if(o!==dt){let c=Ee(),u=Mc();Of(c,u,s,t,o,s[ye],i,!1)}return jE}function A4(t,e,n,r){Vx(t,e,n,r)}function S4(t,e,n){Lx(t,e,n)}function N4(t){let e=j(),n=Ee(),r=nw();wf(r+1);let i=Bf(n,r);if(t.dirty&&bS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=Bx(e,r);t.reset(s,dN),t.notifyOnChanges()}return!0}return!1}function R4(){return Fx(j(),nw())}function QP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function x4(t){let e=FS();return mf(e,Ue+t)}function P4(t,e=""){let n=j(),r=Ee(),i=t+Ue,s=r.firstCreatePass?Oi(r,i,1,e,null):r.data[i],o=YP(r,n,s,e,t);n[i]=o,Oc()&&jc(r,n,o,s),Ar(s,!1)}var YP=(t,e,n,r,i)=>(kc(!0),ZN(e[ye],r));function JP(t){return BE("",t,""),JP}function BE(t,e,n){let r=j(),i=EE(r,t,e,n);return i!==dt&&iE(r,an(),i),BE}function ZP(t,e,n,r,i){let s=j(),o=sP(s,t,e,n,r,i);return o!==dt&&iE(s,an(),o),ZP}function XP(t,e,n){vE(e)&&(e=e());let r=j(),i=xi();if(ot(r,i,e)){let s=Ee(),o=Mc();Of(s,o,r,t,e,r[ye],n,!1)}return XP}function M4(t,e){let n=vE(t);return n&&t.set(e),n}function eM(t,e){let n=j(),r=Ee(),i=We();return UE(r,n,n[ye],i,t,e),eM}function tM(t,e,n){let r=Ee();if(r.firstCreatePass){let i=kn(t);Gh(n,r.data,r.blueprint,i,!0),Gh(e,r.data,r.blueprint,i,!1)}}function Gh(t,e,n,r,i){if(t=Xe(t),Array.isArray(t))for(let s=0;s<t.length;s++)Gh(t[s],e,n,r,i);else{let s=Ee(),o=j(),c=We(),u=Ii(t)?t:Xe(t.provide),l=jI(t),h=c.providerIndexes&1048575,p=c.directiveStart,g=c.providerIndexes>>20;if(Ii(t)||!t.multi){let v=new _r(l,i,Te),A=$d(u,e,i?h:h+g,p);A===-1?(nh(dc(c,o),s,u),Bd(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)):(n[A]=v,o[A]=v)}else{let v=$d(u,e,h+g,p),A=$d(u,e,h,h+g),x=v>=0&&n[v],N=A>=0&&n[A];if(i&&!N||!i&&!x){nh(dc(c,o),s,u);let O=iM(i?rM:nM,n.length,i,r,l);!i&&N&&(n[A].providerFactory=O),Bd(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(O),o.push(O)}else{let O=$E(n[i?A:v],l,!i&&r);Bd(s,t,v>-1?v:A,O)}!i&&r&&N&&n[A].componentProviders++}}}function Bd(t,e,n,r){let i=Ii(e),s=uS(e);if(i||s){let u=(s?Xe(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function $E(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $d(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function nM(t,e,n,r){return Wh(this.multi,[])}function rM(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Ir(n,n[q],this.providerFactory.index,r);s=c.slice(0,o),Wh(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Wh(i,s);return s}function Wh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function iM(t,e,n,r,i){let s=new _r(t,n,Te);return s.multi=[],s.index=e,s.componentProviders=0,$E(s,i,r&&!n),s}function O4(t,e=[]){return n=>{n.providersResolver=(r,i)=>tM(r,i?i(t):t,e)}}var sM=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=FI(!1,n.type),i=r.length>0?Zx([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=de({token:t,providedIn:"environment",factory:()=>new t(Ie(On))})}}return t})();function k4(t){jn("NgStandalone"),t.getStandaloneInjector=e=>e.get(sM).getOrCreateStandaloneInjector(t)}function F4(t,e,n){let r=At()+t,i=j();return i[r]===dt?un(i,r,n?e.call(n):e()):Qc(i,r)}function L4(t,e,n,r){return HE(j(),At(),t,e,n,r)}function V4(t,e,n,r,i){return qE(j(),At(),t,e,n,r,i)}function U4(t,e,n,r,i,s){return oM(j(),At(),t,e,n,r,i,s)}function j4(t,e,n,r,i,s,o){return aM(j(),At(),t,e,n,r,i,s,o)}function B4(t,e,n,r,i,s,o,c){let u=At()+t,l=j(),h=Yc(l,u,n,r,i,s);return ot(l,u+4,o)||h?un(l,u+5,c?e.call(c,n,r,i,s,o):e(n,r,i,s,o)):Qc(l,u+5)}function $4(t,e,n,r,i,s,o,c,u){let l=At()+t,h=j(),p=Yc(h,l,n,r,i,s);return bi(h,l+4,o,c)||p?un(h,l+6,u?e.call(u,n,r,i,s,o,c):e(n,r,i,s,o,c)):Qc(h,l+6)}function H4(t,e,n,r,i,s,o,c,u,l){let h=At()+t,p=j(),g=Yc(p,h,n,r,i,s);return wE(p,h+4,o,c,u)||g?un(p,h+7,l?e.call(l,n,r,i,s,o,c,u):e(n,r,i,s,o,c,u)):Qc(p,h+7)}function q4(t,e,n,r){return cM(j(),At(),t,e,n,r)}function no(t,e){let n=t[e];return n===dt?void 0:n}function HE(t,e,n,r,i,s){let o=e+n;return ot(t,o,i)?un(t,o+1,s?r.call(s,i):r(i)):no(t,o+1)}function qE(t,e,n,r,i,s,o){let c=e+n;return bi(t,c,i,s)?un(t,c+2,o?r.call(o,i,s):r(i,s)):no(t,c+2)}function oM(t,e,n,r,i,s,o,c){let u=e+n;return wE(t,u,i,s,o)?un(t,u+3,c?r.call(c,i,s,o):r(i,s,o)):no(t,u+3)}function aM(t,e,n,r,i,s,o,c,u){let l=e+n;return Yc(t,l,i,s,o,c)?un(t,l+4,u?r.call(u,i,s,o,c):r(i,s,o,c)):no(t,l+4)}function cM(t,e,n,r,i,s){let o=e+n,c=!1;for(let u=0;u<i.length;u++)ot(t,o++,i[u])&&(c=!0);return c?un(t,o,r.apply(s,i)):no(t,o)}function z4(t,e){let n=Ee(),r,i=t+Ue;n.firstCreatePass?(r=uM(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=mr(r.type,!0)),o,c=it(Te);try{let u=lc(!1),l=s();return lc(u),QP(n,j(),i,l),l}finally{it(c)}}function uM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function G4(t,e,n){let r=t+Ue,i=j(),s=mf(i,r);return zE(i,r)?HE(i,At(),e,s.transform,n,s):s.transform(n)}function W4(t,e,n,r){let i=t+Ue,s=j(),o=mf(s,i);return zE(s,i)?qE(s,At(),e,o.transform,n,r,o):o.transform(n,r)}function zE(t,e){return t[q].data[e].pure}function K4(t,e){return Gc(t,e)}var Si=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GE=new Si("17.3.12"),Q4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var lM=new oe(""),dM=new oe(""),Y4=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,qf||(fM(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(Ie(we),Ie(hM),Ie(dM))}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac})}}return t})(),hM=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return qf?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function fM(t){qf=t}var qf;function Zc(t){return!!t&&typeof t.then=="function"}function zf(t){return!!t&&typeof t.subscribe=="function"}var pM=new oe(""),WE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ue(pM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Zc(s))n.push(s);else if(zf(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mM=new oe("");function gM(){v_(()=>{throw new re(600,!1)})}function yM(t){return t.isBoundToModule}function vM(t,e,n){try{let r=n();return Zc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Gf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ue(Iw),this.afterRenderEffectManager=ue(jf),this.externalTestViews=new Set,this.beforeRender=new An,this.afterTick=new An,this.componentTypes=[],this.components=[],this.isStable=ue($f).hasPendingTasks.pipe(rt(n=>!n)),this._injector=ue(On)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof mc;if(!this._injector.get(WE).done){let g=!i&&rS(n),v=!1;throw new re(405,v)}let o;i?o=n:o=this._injector.get(Wc).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=yM(o)?void 0:this._injector.get(rn),u=r||o.selector,l=o.create(vt.NULL,[],u,c),h=l.location.nativeElement,p=l.injector.get(lM,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Hd(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new re(101,!1);let r=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Z(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===cE)throw new re(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:c}of this._views)_M(o,s,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Kh(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Kh(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Hd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(mM,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new re(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Hd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _M(t,e,n){!e&&!Kh(t)||IM(t,n,e)}function Kh(t){return yf(t)}function IM(t,e,n){let r;n?(r=0,t[B]|=1024):t[B]&64?r=0:r=1,uE(t,e,r)}var Qh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},J4=(()=>{class t{compileModuleSync(n){return new Oh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=MI(n),s=kw(i.declarations).reduce((o,c)=>{let u=en(c);return u&&o.push(new Dr(u)),o},[]);return new Qh(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wM=(()=>{class t{constructor(){this.zone=ue(we),this.applicationRef=ue(Gf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function EM(t){return[{provide:we,useFactory:t},{provide:sc,multi:!0,useFactory:()=>{let e=ue(wM,{optional:!0});return()=>e.initialize()}},{provide:sc,multi:!0,useFactory:()=>{let e=ue(CM);return()=>{e.initialize()}}},{provide:Iw,useFactory:DM}]}function DM(){let t=ue(we),e=ue(Fn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function TM(t){let e=EM(()=>new we(bM(t)));return Cr([[],e])}function bM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var CM=(()=>{class t{constructor(){this.subscription=new Re,this.initialized=!1,this.zone=ue(we),this.pendingTasks=ue($f)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AM(){return typeof $localize<"u"&&$localize.locale||Dc}var Xc=new oe("",{providedIn:"root",factory:()=>ue(Xc,ne.Optional|ne.SkipSelf)||AM()}),KE=new oe("",{providedIn:"root",factory:()=>$P});var QE=new oe("");var tc=null;function SM(t=[],e){return vt.create({name:e,providers:[{provide:UI,useValue:"platform"},{provide:QE,useValue:new Set([()=>tc=null])},...t]})}function NM(t=[]){if(tc)return tc;let e=SM(t);return tc=e,gM(),RM(e),e}function RM(t){t.get(_N,null)?.forEach(n=>n())}var eu=(()=>{class t{static{this.__NG_ELEMENT_ID__=xM}}return t})();function xM(t){return PM(We(),j(),(t&16)===16)}function PM(t,e,n){if(Rc(t)&&!n){let r=Vn(t.index,e);return new wr(r,r)}else if(t.type&47){let r=e[gt];return new wr(r,e)}return null}var Yh=class{constructor(){}supports(e){return IE(e)}create(e){return new Jh(e)}},MM=(t,e)=>e,Jh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||MM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<uI(r,i,s)?n:r,c=uI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<s.length?s[g]:s[g]=0,A=v+g;h<=A&&A<l&&(s[g]=v+1)}let p=o.previousIndex;s[p]=h-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!IE(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Xx(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Zh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Tc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Tc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Xh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Tc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Xh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var ef=class{constructor(){}supports(e){return e instanceof Map||Hf(e)}create(){return new tf}},tf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Hf(e)))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new nf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},nf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function lI(){return new Wf([new Yh])}var Wf=(()=>{class t{static{this.\u0275prov=de({token:t,providedIn:"root",factory:lI})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||lI()),deps:[[t,new DI,new at]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new re(901,!1)}}return t})();function dI(){return new tu([new ef])}var tu=(()=>{class t{static{this.\u0275prov=de({token:t,providedIn:"root",factory:dI})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||dI()),deps:[[t,new DI,new at]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new re(901,!1)}}return t})();var Z4=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(Ie(Gf))}}static{this.\u0275mod=lf({type:t})}static{this.\u0275inj=of({})}}return t})();function X4(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=NM(r),s=[TM(),...n||[]],c=new Ic({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(we);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(Fn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>c.destroy(),g=i.get(QE);return g.add(p),c.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),vM(l,u,()=>{let v=c.get(WE);return v.runInitializers(),v.donePromise.then(()=>{let A=c.get(Xc,Dc);qP(A||Dc);let x=c.get(Gf);return e!==void 0&&x.bootstrap(e),x})})})}catch(e){return Promise.reject(e)}}function OM(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function kM(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function ez(t,e){jn("NgSignals");let n=m_(t);return e?.equal&&(n[Ot].equal=e.equal),n}function Kf(t){let e=Z(null);try{return t()}finally{Z(e)}}var FM=new oe("",{providedIn:"root",factory:()=>ue(LM)}),LM=(()=>{class t{static{this.\u0275prov=de({token:t,providedIn:"root",factory:()=>new rf})}}return t})(),rf=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ue($f),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},sf=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=E_(c=>this.runEffect(c),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Fn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function VM(t,e){jn("NgSignals"),!e?.injector&&$I(VM);let n=e?.injector??ue(vt),r=e?.manualCleanup!==!0?n.get(Lc):null,i=new sf(n.get(FM),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(eu,null,{optional:!0});return!s||!(s._lView[B]&8)?i.watcher.notify():(s._lView[Ya]??=[]).push(i.watcher.notify),i}function tz(t,e){let n=en(t),r=e.elementInjector||Sc();return new Dr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function nz(t){let e=en(t);if(!e)return null;let n=new Dr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var cD=null;function Qf(){return cD}function _z(t){cD??=t}var JE=class{};var sp=new oe(""),op=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:()=>ue(UM),providedIn:"platform"})}}return t})(),Iz=new oe(""),UM=(()=>{class t extends op{constructor(){super(),this._doc=ue(sp),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qf().getBaseHref(this._doc)}onPopState(n){let r=Qf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Qf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function ap(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ZE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ln(t){return t&&t[0]!=="?"?"?"+t:t}var ru=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=de({token:t,factory:()=>ue(jM),providedIn:"root"})}}return t})(),uD=new oe(""),jM=(()=>{class t extends ru{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ue(sp).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ap(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ln(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ln(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Ie(op),Ie(uD,8))}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wz=(()=>{class t extends ru{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ap(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ln(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ln(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Ie(op),Ie(uD,8))}}static{this.\u0275prov=de({token:t,factory:t.\u0275fac})}}return t})(),BM=(()=>{class t{constructor(n){this._subject=new hr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=qM(ZE(XE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ln(r))}normalize(n){return t.stripTrailingSlash(HM(this._basePath,XE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ln(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=ln}static{this.joinWithSlash=ap}static{this.stripTrailingSlash=ZE}static{this.\u0275fac=function(r){return new(r||t)(Ie(ru))}}static{this.\u0275prov=de({token:t,factory:()=>$M(),providedIn:"root"})}}return t})();function $M(){return new BM(Ie(ru))}function HM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function XE(t){return t.replace(/\/index.html$/,"")}function qM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var lD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},dD=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(dD||{});var dn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ro(t,e){let n=Jc(t),r=n[Sr.NumberSymbols][e];if(typeof r>"u"){if(e===dn.CurrencyDecimal)return n[Sr.NumberSymbols][dn.Decimal];if(e===dn.CurrencyGroup)return n[Sr.NumberSymbols][dn.Group]}return r}function zM(t,e){return Jc(t)[Sr.NumberFormats][e]}function GM(t){return Jc(t)[Sr.Currencies]}function WM(t,e,n="en"){let r=GM(n)[t]||lD[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var KM=2;function QM(t){let e,n=lD[t];return n&&(e=n[2]),typeof e=="number"?e:KM}var YM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,eD=22,nu=".",io="0",JM=";",ZM=",",Yf="#",tD="\xA4";function XM(t,e,n,r,i,s,o=!1){let c="",u=!1;if(!isFinite(t))c=ro(n,dn.Infinity);else{let l=rO(t);o&&(l=nO(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(s){let U=s.match(YM);if(U===null)throw new Error(`${s} is not a valid digit info`);let L=U[1],J=U[3],pe=U[5];L!=null&&(h=Jf(L)),J!=null&&(p=Jf(J)),pe!=null?g=Jf(pe):J!=null&&p>g&&(g=p)}iO(l,p,g);let v=l.digits,A=l.integerLen,x=l.exponent,N=[];for(u=v.every(U=>!U);A<h;A++)v.unshift(0);for(;A<0;A++)v.unshift(0);A>0?N=v.splice(A,v.length):(N=v,v=[0]);let O=[];for(v.length>=e.lgSize&&O.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)O.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&O.unshift(v.join("")),c=O.join(ro(n,r)),N.length&&(c+=ro(n,i)+N.join("")),x&&(c+=ro(n,dn.Exponential)+"+"+x)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function eO(t,e,n,r,i){let s=zM(e,dD.Currency),o=tO(s,ro(e,dn.MinusSign));return o.minFrac=QM(r),o.maxFrac=o.minFrac,XM(t,o,e,dn.CurrencyGroup,dn.CurrencyDecimal,i).replace(tD,n).replace(tD,"").trim()}function tO(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(JM),i=r[0],s=r[1],o=i.indexOf(nu)!==-1?i.split(nu):[i.substring(0,i.lastIndexOf(io)+1),i.substring(i.lastIndexOf(io)+1)],c=o[0],u=o[1]||"";n.posPre=c.substring(0,c.indexOf(Yf));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===io?n.minFrac=n.maxFrac=h+1:p===Yf?n.maxFrac=h+1:n.posSuf+=p}let l=c.split(ZM);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let h=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(Yf);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function nO(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function rO(t){let e=Math.abs(t)+"",n=0,r,i,s,o,c;for((i=e.indexOf(nu))>-1&&(e=e.replace(nu,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===io;s++);if(s===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===io;)c--;for(i-=s,r=[],o=0;s<=c;s++,o++)r[o]=Number(e.charAt(s))}return i>eD&&(r=r.splice(0,eD-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function iO(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,c=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(c>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=s!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,v,A){return g=g+p,A[v]=g<10?g:g-10,u&&(A[v]===0&&v>=l?A.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Jf(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Ez(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Zf=/\s+/,nD=[],Dz=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=nD,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Zf):nD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Zf):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Zf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Te(Un),Te(Kc))}}static{this.\u0275dir=br({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Mn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})(),Tz=(()=>{class t{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=_E(this.ngComponentOutletNgModule,rD(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(rD(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,i]of this._inputsUsed)i?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}static{this.\u0275fac=function(r){return new(r||t)(Te(Bn))}}static{this.\u0275dir=br({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[Pc]})}}return t})();function rD(t){return t.get(rn).injector}var Xf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},bz=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xf(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),iD(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);iD(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Te(Bn),Te(Er),Te(Wf))}}static{this.\u0275dir=br({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function iD(t,e){t.context.$implicit=e.item}var Cz=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ep,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Te(Bn),Te(Er))}}static{this.\u0275dir=br({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),ep=class{constructor(){this.$implicit=null,this.ngIf=null}};function sD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}var Az=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,s]=n.split("."),o=i.indexOf("-")===-1?void 0:Gs.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||t)(Te(Un),Te(tu),Te(Kc))}}static{this.\u0275dir=br({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})(),Sz=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||t)(Te(Bn))}}static{this.\u0275dir=br({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Pc]})}}return t})();function iu(t,e){return new re(2100,!1)}var tp=class{createSubscription(e,n){return Kf(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Kf(()=>e.unsubscribe())}},np=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},sO=new np,oO=new tp,Nz=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Zc(n))return sO;if(zf(n))return oO;throw iu(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(Te(eu,16))}}static{this.\u0275pipe=Ni({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var aO=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Rz=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw iu(t,n);return n.replace(aO,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Ni({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})(),xz=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw iu(t,n);return n.toUpperCase()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Ni({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})();function cO(t,e){return{key:t,value:e}}var Pz=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=oD}transform(n,r=oD){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(cO(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||t)(Te(tu,16))}}static{this.\u0275pipe=Ni({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function oD(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),s=String(r);return i==s?0:i<s?-1:1}var Mz=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!uO(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let c=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?c=WM(c,i==="symbol"?"wide":"narrow",o):c=i);try{let u=lO(n);return eO(u,o,c,r,s)}catch(u){throw iu(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(Te(Xc,16),Te(KE,16))}}static{this.\u0275pipe=Ni({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function uO(t){return!(t==null||t===""||t!==t)}function lO(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Oz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=lf({type:t})}static{this.\u0275inj=of({})}}return t})(),dO="browser",hO="server";function fO(t){return t===dO}function kz(t){return t===hO}var Fz=(()=>{class t{static{this.\u0275prov=de({token:t,providedIn:"root",factory:()=>fO(ue(eo))?new rp(ue(sp),window):new ip})}}return t})(),rp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=pO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function pO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var ip=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},aD=class{};var fD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4,g=(c&15)<<2|l>>6,v=l&63;u||(v=64,o||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new up;let g=s<<2|c>>4;if(r.push(g),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},up=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gO=function(t){let e=fD(t);return pD.encodeByteArray(e,!0)},so=function(t){return gO(t).replace(/\./g,"")},dp=function(t){try{return pD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vO=()=>yO().__FIREBASE_DEFAULTS__,_O=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&dp(t[1]);return e&&JSON.parse(e)},ou=()=>{try{return vO()||_O()||IO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hp=t=>{var e,n;return(n=(e=ou())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mD=t=>{let e=hp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fp=()=>{var t;return(t=ou())===null||t===void 0?void 0:t.config},pp=t=>{var e;return(e=ou())===null||e===void 0?void 0:e[`_${t}`]};var su=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function gD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[so(JSON.stringify(n)),so(JSON.stringify(o)),""].join(".")}function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function wO(){var t;let e=(t=ou())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _D(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ID(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wD(){let t=Oe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ED(){return!wO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mp(){try{return typeof indexedDB=="object"}catch{return!1}}function DD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var EO="FirebaseError",ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}},hn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DO(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new ht(i,c,r)}};function DO(t,e){return t.replace(TO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var TO=/\{\$([^}]+)}/g;function TD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(hD(s)&&hD(o)){if(!Nr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function hD(t){return t!==null&&typeof t=="object"}function oo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ki(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Fi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bD(t,e){let n=new lp(t,e);return n.subscribe.bind(n)}var lp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cp),i.error===void 0&&(i.error=cp),i.complete===void 0&&(i.complete=cp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cp(){}var Uz=4*60*60*1e3;function be(t){return t&&t._delegate?t._delegate:t}var _t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Rr="[DEFAULT]";var gp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new su;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AO(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Rr){return this.instances.has(e)}getOptions(e=Rr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rr){return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CO(t){return t===Rr?void 0:t}function AO(t){return t.instantiationMode==="EAGER"}var au=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new gp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var SO=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),NO={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},RO=ee.INFO,xO={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},PO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=xO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$n=class{constructor(e){this.name=e,this._logLevel=RO,this._logHandler=PO,this._userLogHandler=null,SO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var MO=(t,e)=>e.some(n=>t instanceof n),CD,AD;function OO(){return CD||(CD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return AD||(AD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SD=new WeakMap,vp=new WeakMap,ND=new WeakMap,yp=new WeakMap,Ip=new WeakMap;function FO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Vt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SD.set(n,t)}).catch(()=>{}),Ip.set(e,t),e}function LO(t){if(vp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vp.set(t,e)}var _p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ND.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RD(t){_p=t(_p)}function VO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cu(this),e,...n);return ND.set(r,e.sort?e.sort():[e]),Vt(r)}:kO().includes(t)?function(...e){return t.apply(cu(this),e),Vt(SD.get(this))}:function(...e){return Vt(t.apply(cu(this),e))}}function UO(t){return typeof t=="function"?VO(t):(t instanceof IDBTransaction&&LO(t),MO(t,OO())?new Proxy(t,_p):t)}function Vt(t){if(t instanceof IDBRequest)return FO(t);if(yp.has(t))return yp.get(t);let e=UO(t);return e!==t&&(yp.set(t,e),Ip.set(e,t)),e}var cu=t=>Ip.get(t);function PD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=Vt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Vt(o.result),u.oldVersion,u.newVersion,Vt(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var jO=["get","getKey","getAll","getAllKeys","count"],BO=["put","add","delete","clear"],wp=new Map;function xD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=BO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jO.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return wp.set(e,s),s}RD(t=>Pt(xt({},t),{get:(e,n,r)=>xD(e,n)||t.get(e,n,r),has:(e,n)=>!!xD(e,n)||t.has(e,n)}));var Dp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($O(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function $O(t){let e=t.getComponent();return e?.type==="VERSION"}var Tp="@firebase/app",MD="0.10.13";var fn=new $n("@firebase/app"),HO="@firebase/app-compat",qO="@firebase/analytics-compat",zO="@firebase/analytics",GO="@firebase/app-check-compat",WO="@firebase/app-check",KO="@firebase/auth",QO="@firebase/auth-compat",YO="@firebase/database",JO="@firebase/data-connect",ZO="@firebase/database-compat",XO="@firebase/functions",ek="@firebase/functions-compat",tk="@firebase/installations",nk="@firebase/installations-compat",rk="@firebase/messaging",ik="@firebase/messaging-compat",sk="@firebase/performance",ok="@firebase/performance-compat",ak="@firebase/remote-config",ck="@firebase/remote-config-compat",uk="@firebase/storage",lk="@firebase/storage-compat",dk="@firebase/firestore",hk="@firebase/vertexai-preview",fk="@firebase/firestore-compat",pk="firebase",mk="10.14.1";var bp="[DEFAULT]",gk={[Tp]:"fire-core",[HO]:"fire-core-compat",[zO]:"fire-analytics",[qO]:"fire-analytics-compat",[WO]:"fire-app-check",[GO]:"fire-app-check-compat",[KO]:"fire-auth",[QO]:"fire-auth-compat",[YO]:"fire-rtdb",[JO]:"fire-data-connect",[ZO]:"fire-rtdb-compat",[XO]:"fire-fn",[ek]:"fire-fn-compat",[tk]:"fire-iid",[nk]:"fire-iid-compat",[rk]:"fire-fcm",[ik]:"fire-fcm-compat",[sk]:"fire-perf",[ok]:"fire-perf-compat",[ak]:"fire-rc",[ck]:"fire-rc-compat",[uk]:"fire-gcs",[lk]:"fire-gcs-compat",[dk]:"fire-fst",[fk]:"fire-fst-compat",[hk]:"fire-vertex","fire-js":"fire-js",[pk]:"fire-js-all"};var ao=new Map,yk=new Map,Cp=new Map;function OD(t,e){try{t.container.addComponent(e)}catch(n){fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qn(t){let e=t.name;if(Cp.has(e))return fn.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,t);for(let n of ao.values())OD(n,t);for(let n of yk.values())OD(n,t);return!0}function uo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ut(t){return t.settings!==void 0}var vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new hn("app","Firebase",vk);var Ap=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}};var zn=mk;function Rp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hn.create("bad-app-name",{appName:String(i)});if(n||(n=fp()),!n)throw Hn.create("no-options");let s=ao.get(i);if(s){if(Nr(n,s.options)&&Nr(r,s.config))return s;throw Hn.create("duplicate-app",{appName:i})}let o=new au(i);for(let u of Cp.values())o.addComponent(u);let c=new Ap(n,r,o);return ao.set(i,c),c}function Li(t=bp){let e=ao.get(t);if(!e&&t===bp&&fp())return Rp();if(!e)throw Hn.create("no-app",{appName:t});return e}function uu(){return Array.from(ao.values())}function Pe(t,e,n){var r;let i=(r=gk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fn.warn(c.join(" "));return}qn(new _t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _k="firebase-heartbeat-database",Ik=1,co="firebase-heartbeat-store",Ep=null;function VD(){return Ep||(Ep=PD(_k,Ik,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(co)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hn.create("idb-open",{originalErrorMessage:t.message})})),Ep}function wk(t){return w(this,null,function*(){try{let n=(yield VD()).transaction(co),r=yield n.objectStore(co).get(UD(t));return yield n.done,r}catch(e){if(e instanceof ht)fn.warn(e.message);else{let n=Hn.create("idb-get",{originalErrorMessage:e?.message});fn.warn(n.message)}}})}function kD(t,e){return w(this,null,function*(){try{let r=(yield VD()).transaction(co,"readwrite");yield r.objectStore(co).put(e,UD(t)),yield r.done}catch(n){if(n instanceof ht)fn.warn(n.message);else{let r=Hn.create("idb-set",{originalErrorMessage:n?.message});fn.warn(r.message)}}})}function UD(t){return`${t.name}!${t.options.appId}`}var Ek=1024,Dk=30*24*60*60*1e3,Sp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Np(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=Dk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=FD(),{heartbeatsToSend:r,unsentEntries:i}=Tk(this._heartbeatsCache.heartbeats),s=so(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fn.warn(n),""}})}};function FD(){return new Date().toISOString().substring(0,10)}function Tk(t,e=Ek){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),LD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Np=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return mp()?DD().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield wk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function LD(t){return so(JSON.stringify({version:2,heartbeats:t})).length}function bk(t){qn(new _t("platform-logger",e=>new Dp(e),"PRIVATE")),qn(new _t("heartbeat",e=>new Sp(e),"PRIVATE")),Pe(Tp,MD,t),Pe(Tp,MD,"esm2017"),Pe("fire-js","")}bk("");var Ck="firebase",Ak="10.14.1";Pe(Ck,Ak,"app");var Pr=new Si("ANGULARFIRE2_VERSION");function du(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var lo=(t,e)=>{let n=e?[e]:uu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ui=class{constructor(){return lo(Sk)}},Sk="app-check";function Vi(){}var lu=class{zone;delegate;constructor(e,n=gd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},xp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi)),n.pipe(wd({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ji=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new lu(Zone.current)),this.insideAngular=n.run(()=>new lu(Zone.current,ui)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Ie(we))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Nk(t){return hu().ngZone.runOutsideAngular(()=>t())}function xr(t){return hu().ngZone.run(()=>t())}function Rk(t){return xk(hu())(t)}function xk(t){return function(n){return n=n.lift(new xp(t.ngZone)),n.pipe(Rn(t.outsideAngular),Nn(t.insideAngular))}}var Pk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xr(()=>t.apply(void 0,r))},ke=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=xr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi))),r[s]=Pk(r[s],n));let i=Nk(()=>t.apply(this,r));if(!e)if(i instanceof Y){let s=hu();return i.pipe(Rn(s.outsideAngular),Nn(s.insideAngular))}else return xr(()=>i);return i instanceof Y?i.pipe(Rk):i instanceof Promise?xr(()=>new Promise((s,o)=>i.then(c=>xr(()=>s(c)),c=>xr(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:xr(()=>i)};var pn=class{constructor(e){return e}},Mr=class{constructor(){return uu()}};function Mk(t){return t&&t.length===1?t[0]:new pn(Li())}var Pp=new oe("angularfire2._apps"),Ok={provide:pn,useFactory:Mk,deps:[[new at,Pp]]},kk={provide:Mr,deps:[[new at,Pp]]};function Fk(t){return(e,n)=>{let r=n.get(eo);Pe("angularfire",Pr.full,"core"),Pe("angularfire",Pr.full,"app"),Pe("angular",GE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new pn(i)}}function bG(t,...e){return Cr([Ok,kk,{provide:Pp,useFactory:Fk(t),multi:!0,deps:[we,vt,ji,...e]}])}var CG=ke(Rp,!0);function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var iT=rT,sT=new hn("auth","Firebase",rT());var vu=new $n("@firebase/auth");function Lk(t,...e){vu.logLevel<=ee.WARN&&vu.warn(`Auth (${zn}): ${t}`,...e)}function pu(t,...e){vu.logLevel<=ee.ERROR&&vu.error(`Auth (${zn}): ${t}`,...e)}function Bt(t,...e){throw em(t,...e)}function Or(t,...e){return em(t,...e)}function oT(t,e,n){let r=Object.assign(Object.assign({},iT()),{[e]:n});return new hn("auth","Firebase",r).create(e,{appName:t.name})}function Wn(t){return oT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function em(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sT.create(t,...e)}function $(t,e,...n){if(!t)throw em(e,...n)}function mn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw pu(e),new Error(e)}function Kn(t,e){t||mn(e)}function Fp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vk(){return jD()==="http:"||jD()==="https:"}function jD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Uk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vk()||_D()||"connection"in navigator)?navigator.onLine:!0}function jk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var kr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=yD()||ID()}get(){return Uk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function tm(t,e){Kn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _u=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Bk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $k=new kr(3e4,6e4);function Lr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qn(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return aT(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=oo(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:g},l);return vD()||(v.referrerPolicy="no-referrer"),_u.fetch()(cT(t,t.config.apiHost,n,p),v)}))})}function aT(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Bk),e);try{let i=new Lp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw fu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw fu(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw oT(t,h,l);Bt(t,h)}}catch(i){if(i instanceof ht)throw i;Bt(t,"network-request-failed",{message:String(i)})}})}function Nu(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Qn(t,e,n,r,i);return"mfaPendingCredential"in l&&Bt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function cT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?tm(t.config,i):`${t.config.apiScheme}://${i}`}function Hk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Lp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),$k.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function fu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Or(t,e,r);return i.customData._tokenResponse=n,i}function BD(t){return t!==void 0&&t.enterprise!==void 0}var Vp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Hk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function qk(t,e){return w(this,null,function*(){return Qn(t,"GET","/v2/recaptchaConfig",Lr(t,e))})}function zk(t,e){return w(this,null,function*(){return Qn(t,"POST","/v1/accounts:delete",e)})}function uT(t,e){return w(this,null,function*(){return Qn(t,"POST","/v1/accounts:lookup",e)})}function ho(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nm(t,e=!1){return w(this,null,function*(){let n=be(t),r=yield n.getIdToken(e),i=rm(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ho(Mp(i.auth_time)),issuedAtTime:ho(Mp(i.iat)),expirationTime:ho(Mp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Mp(t){return Number(t)*1e3}function rm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pu("JWT malformed, contained fewer than 3 sections"),null;try{let i=dp(n);return i?JSON.parse(i):(pu("Failed to decode base64 JWT payload"),null)}catch(i){return pu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $D(t){let e=rm(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function po(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ht&&Gk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Gk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Up=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var mo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ho(this.lastLoginAt),this.creationTime=ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Iu(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield po(t,uT(n,{idToken:r}));$(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lT(s.providerUserInfo):[],c=Wk(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new mo(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function im(t){return w(this,null,function*(){let e=be(t);yield Iu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Wk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lT(t){return t.map(e=>{var{providerId:n}=e,r=yd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Kk(t,e){return w(this,null,function*(){let n=yield aT(t,{},()=>w(this,null,function*(){let r=oo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cT(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",_u.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Qk(t,e){return w(this,null,function*(){return Qn(t,"POST","/v2/accounts:revokeToken",Lr(t,e))})}var fo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$D(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");let n=$D(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Kk(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return mn("not implemented")}};function Gn(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Bi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Up(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield po(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return nm(this,e)}reload(){return im(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Iu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Ut(this.auth.app))return Promise.reject(Wn(this.auth));let e=yield this.getIdToken();return yield po(this,zk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:L,emailVerified:J,isAnonymous:pe,providerData:Q,stsTokenManager:D}=n;$(L&&D,e,"internal-error");let y=fo.fromJSON(this.name,D);$(typeof L=="string",e,"internal-error"),Gn(p,e.name),Gn(g,e.name),$(typeof J=="boolean",e,"internal-error"),$(typeof pe=="boolean",e,"internal-error"),Gn(v,e.name),Gn(A,e.name),Gn(x,e.name),Gn(N,e.name),Gn(O,e.name),Gn(U,e.name);let _=new t({uid:L,auth:e,email:g,emailVerified:J,displayName:p,isAnonymous:pe,photoURL:A,phoneNumber:v,tenantId:x,stsTokenManager:y,createdAt:O,lastLoginAt:U});return Q&&Array.isArray(Q)&&(_.providerData=Q.map(E=>Object.assign({},E))),N&&(_._redirectEventId=N),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new fo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Iu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];$(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?lT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new fo;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var HD=new Map;function gn(t){Kn(t instanceof Function,"Expected a class definition");let e=HD.get(t);return e?(Kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HD.set(t,e),e)}var Yk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),jp=Yk;function mu(t,e,n){return`firebase:${t}:${e}:${n}`}var wu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=mu(this.userKey,i.apiKey,s),this.fullPersistenceKey=mu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(gn(jp),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||gn(jp),o=mu(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Bi._fromJSON(e,h);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function qD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(yT(e))return"Webos";if(hT(e))return"Safari";if((e.includes("chrome/")||fT(e))&&!e.includes("edge/"))return"Chrome";if(mT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function dT(t=Oe()){return/firefox\//i.test(t)}function hT(t=Oe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fT(t=Oe()){return/crios\//i.test(t)}function pT(t=Oe()){return/iemobile/i.test(t)}function mT(t=Oe()){return/android/i.test(t)}function gT(t=Oe()){return/blackberry/i.test(t)}function yT(t=Oe()){return/webos/i.test(t)}function sm(t=Oe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jk(t=Oe()){var e;return sm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zk(){return wD()&&document.documentMode===10}function vT(t=Oe()){return sm(t)||mT(t)||yT(t)||gT(t)||/windows phone/i.test(t)||pT(t)}function _T(t,e=[]){let n;switch(t){case"Browser":n=qD(Oe());break;case"Worker":n=`${qD(Oe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zn}/${r}`}var Bp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Xk(n){return w(this,arguments,function*(t,e={}){return Qn(t,"GET","/v2/passwordPolicy",Lr(t,e))})}var e1=6,$p=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:e1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eu(this),this.idTokenSubscription=new Eu(this),this.beforeStateQueue=new Bp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield wu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield uT(this,{idToken:e}),r=yield Bi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Ut(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Iu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=jk()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Ut(this.app))return Promise.reject(Wn(this));let n=e?be(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Ut(this.app)?Promise.reject(Wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ut(this.app)?Promise.reject(Wn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield Xk(this),n=new $p(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Qk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&gn(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield wu.create(this,[gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Lk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function $i(t){return be(t)}var Eu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bD(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ru={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t1(t){Ru=t}function IT(t){return Ru.loadJS(t)}function n1(){return Ru.recaptchaEnterpriseScript}function r1(){return Ru.gapiScript}function wT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var i1="recaptcha-enterprise",s1="NO_RECAPTCHA",qp=class{constructor(e){this.type=i1,this.auth=$i(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){qk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Vp(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;BD(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(s1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&BD(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=n1();u.length!==0&&(u+=c),IT(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function zD(t,e,n,r=!1){return w(this,null,function*(){let i=new qp(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function GD(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield zD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield zD(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function om(t,e){let n=uo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Nr(s,e??{}))return i;Bt(i,"already-initialized")}return n.initialize({options:e})}function o1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function am(t,e,n){let r=$i(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=ET(e),{host:o,port:c}=a1(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||c1()}function ET(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function a1(t){let e=ET(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:WD(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:WD(o)}}}function WD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function c1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var go=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mn("not implemented")}_getIdTokenResponse(e){return mn("not implemented")}_linkToIdToken(e,n){return mn("not implemented")}_getReauthenticationResolver(e){return mn("not implemented")}};function u1(t,e){return w(this,null,function*(){return Qn(t,"POST","/v1/accounts:signUp",e)})}function l1(t,e){return w(this,null,function*(){return Nu(t,"POST","/v1/accounts:signInWithPassword",Lr(t,e))})}function d1(t,e){return w(this,null,function*(){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))})}function h1(t,e){return w(this,null,function*(){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))})}var yo=class t extends go{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GD(e,n,"signInWithPassword",l1);case"emailLink":return d1(e,{email:this._email,oobCode:this._password});default:Bt(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GD(e,r,"signUpPassword",u1);case"emailLink":return h1(e,{idToken:n,email:this._email,oobCode:this._password});default:Bt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Op(t,e){return w(this,null,function*(){return Nu(t,"POST","/v1/accounts:signInWithIdp",Lr(t,e))})}function f1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p1(t){let e=ki(Fi(t)).link,n=e?ki(Fi(e)).deep_link_id:null,r=ki(Fi(t)).deep_link_id;return(r?ki(Fi(r)).link:null)||r||n||e||t}var Du=class t{constructor(e){var n,r,i,s,o,c;let u=ki(Fi(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=f1((i=u.mode)!==null&&i!==void 0?i:null);$(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=p1(e);try{return new t(n)}catch{return null}}};var DT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return yo._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Du.parseLink(r);return $(i,"argument-error"),yo._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Tu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zp=class extends Tu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var vo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Bi._fromIdTokenResponse(e,r,i),o=KD(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=KD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function KD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Gp=class t extends ht{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function TT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,s,e,r):s})}function m1(t,e,n=!1){return w(this,null,function*(){let r=yield po(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return vo._forOperation(t,"link",r)})}function g1(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Ut(r.app))return Promise.reject(Wn(r));let i="reauthenticate";try{let s=yield po(t,TT(r,i,e,t),n);$(s.idToken,r,"internal-error");let o=rm(s.idToken);$(o,r,"internal-error");let{sub:c}=o;return $(t.uid===c,r,"user-mismatch"),vo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Bt(r,"user-mismatch"),s}})}function bT(t,e,n=!1){return w(this,null,function*(){if(Ut(t.app))return Promise.reject(Wn(t));let r="signIn",i=yield TT(t,r,e),s=yield vo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function cm(t,e){return w(this,null,function*(){return bT($i(t),e)})}function y1(t){return w(this,null,function*(){let e=$i(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function CT(t,e,n){return Ut(t.app)?Promise.reject(Wn(t)):cm(be(t),DT.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&y1(t),r}))}function Io(t,e,n,r){return be(t).onIdTokenChanged(e,n,r)}function um(t,e,n){return be(t).beforeAuthStateChanged(e,n)}var bu="__sak";var Cu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var v1=1e3,_1=10,I1=(()=>{class t extends Cu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);Zk()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,_1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},v1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield bn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield bn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield bn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),AT=I1;var w1=(()=>{class t extends Cu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),lm=w1;function E1(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var D1=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield E1(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ST(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Wp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=ST("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function jt(){return window}function T1(t){jt().location.href=t}function NT(){return typeof jt().WorkerGlobalScope<"u"&&typeof jt().importScripts=="function"}function b1(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function C1(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A1(){return NT()?self:null}var RT="firebaseLocalStorageDb",S1=1,Au="firebaseLocalStorage",xT="fbase_key",Fr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function xu(t,e){return t.transaction([Au],e?"readwrite":"readonly").objectStore(Au)}function N1(){let t=indexedDB.deleteDatabase(RT);return new Fr(t).toPromise()}function Kp(){let t=indexedDB.open(RT,S1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Au,{keyPath:xT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Au)?e(r):(r.close(),yield N1(),e(yield Kp()))}))})}function QD(t,e,n){return w(this,null,function*(){let r=xu(t,!0).put({[xT]:e,value:n});return new Fr(r).toPromise()})}function R1(t,e){return w(this,null,function*(){let n=xu(t,!1).get(e),r=yield new Fr(n).toPromise();return r===void 0?null:r.value})}function YD(t,e){let n=xu(t,!0).delete(e);return new Fr(n).toPromise()}var x1=800,P1=3,M1=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Kp(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>P1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return NT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=D1._getInstance(A1()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield b1(),!this.activeServiceWorker)return;this.sender=new Wp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||C1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Kp();return yield QD(n,bu,"1"),yield YD(n,bu),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>QD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>R1(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>YD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=xu(s,!1).getAll();return new Fr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),x1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),PT=M1;var OG=wT("rcb"),kG=new kr(3e4,6e4);function O1(t,e){return e?gn(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var _o=class extends go{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Op(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Op(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Op(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function k1(t){return bT(t.auth,new _o(t),t.bypassAuthState)}function F1(t){let{auth:e,user:n}=t;return $(n,e,"internal-error"),g1(n,new _o(t),t.bypassAuthState)}function L1(t){return w(this,null,function*(){let{auth:e,user:n}=t;return $(n,e,"internal-error"),m1(n,new _o(t),t.bypassAuthState)})}var Qp=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k1;case"linkViaPopup":case"linkViaRedirect":return L1;case"reauthViaPopup":case"reauthViaRedirect":return F1;default:Bt(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var FG=new kr(2e3,1e4);var V1="pendingRedirect",gu=new Map,Yp=class t extends Qp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=gu.get(this.auth._key());if(!e){try{let r=(yield U1(this.resolver,this.auth))?yield bn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gu.set(this.auth._key(),e)}return this.bypassAuthState||gu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return bn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,bn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function U1(t,e){return w(this,null,function*(){let n=$1(e),r=B1(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function j1(t,e){gu.set(t._key(),e)}function B1(t){return gn(t._redirectPersistence)}function $1(t){return mu(V1,t.config.apiKey,t.name)}function H1(t,e,n=!1){return w(this,null,function*(){if(Ut(t.app))return Promise.reject(Wn(t));let r=$i(t),i=O1(r,e),o=yield new Yp(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var q1=10*60*1e3,Jp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q1&&this.cachedEventUids.clear(),this.cachedEventUids.has(JD(e))}saveEventToCache(e){this.cachedEventUids.add(JD(e)),this.lastProcessedEventTime=Date.now()}};function JD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function z1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(t);default:return!1}}function G1(n){return w(this,arguments,function*(t,e={}){return Qn(t,"GET","/v1/projects",e)})}var W1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K1=/^https?/;function Q1(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield G1(t);for(let n of e)try{if(Y1(n))return}catch{}Bt(t,"unauthorized-domain")})}function Y1(t){let e=Fp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!K1.test(n))return!1;if(W1.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var J1=new kr(3e4,6e4);function ZD(){let t=jt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z1(t){return new Promise((e,n)=>{var r,i,s;function o(){ZD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZD(),n(Or(t,"network-request-failed"))},timeout:J1.get()})}if(!((i=(r=jt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=jt().gapi)===null||s===void 0)&&s.load)o();else{let c=wT("iframefcb");return jt()[c]=()=>{gapi.load?o():n(Or(t,"network-request-failed"))},IT(`${r1()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw yu=null,e})}var yu=null;function X1(t){return yu=yu||Z1(t),yu}var eF=new kr(5e3,15e3),tF="__/auth/iframe",nF="emulator/auth/iframe",rF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sF(t){let e=t.config;$(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?tm(e,nF):`https://${t.config.authDomain}/${tF}`,r={apiKey:e.apiKey,appName:t.name,v:zn},i=iF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oo(r).slice(1)}`}function oF(t){return w(this,null,function*(){let e=yield X1(t),n=jt().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:sF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rF,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Or(t,"network-request-failed"),c=jt().setTimeout(()=>{s(o)},eF.get());function u(){jt().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var aF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cF=500,uF=600,lF="_blank",dF="http://localhost",Su=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function hF(t,e,n,r=cF,i=uF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},aF),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Oe().toLowerCase();n&&(c=fT(l)?lF:n),dT(l)&&(e=e||dF,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,A])=>`${g}${v}=${A},`,"");if(Jk(l)&&c!=="_self")return fF(e||"",c),new Su(null);let p=window.open(e||"",c,h);$(p,t,"popup-blocked");try{p.focus()}catch{}return new Su(p)}function fF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var pF="__/auth/handler",mF="emulator/auth/handler",gF=encodeURIComponent("fac");function XD(t,e,n,r,i,s){return w(this,null,function*(){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zn,eventId:i};if(e instanceof Tu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof zp){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield t._getAppCheckToken(),l=u?`#${gF}=${encodeURIComponent(u)}`:"";return`${yF(t)}?${oo(c).slice(1)}${l}`})}function yF({config:t}){return t.emulator?tm(t,mF):`https://${t.authDomain}/${pF}`}var kp="webStorageSupport",Zp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lm,this._completeRedirectFn=H1,this._overrideRedirectResult=j1}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Kn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield XD(e,n,r,Fp(),i);return hF(e,o,ST())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield XD(e,n,r,Fp(),i);return T1(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kn(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield oF(e),r=new Jp(e);return n.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kp,{type:kp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[kp];o!==void 0&&n(!!o),Bt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vT()||hT()||sm()}},OT=Zp;var eT="@firebase/auth",tT="1.7.9";var Xp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _F(t){qn(new _t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(t)},l=new Hp(r,i,s,u);return o1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qn(new _t("auth-internal",e=>{let n=$i(e.getProvider("auth").getImmediate());return(r=>new Xp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(eT,tT,vF(t)),Pe(eT,tT,"esm2017")}var IF=5*60,wF=pp("authIdTokenMaxAge")||IF,nT=null,EF=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wF)return;let i=n?.token;nT!==i&&(nT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function dm(t=Li()){let e=uo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=om(t,{popupRedirectResolver:OT,persistence:[PT,AT,lm]}),r=pp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=EF(s.toString());um(n,o,()=>o(n.currentUser)),Io(n,c=>o(c))}}let i=hp("auth");return i&&am(n,`http://${i}`),n}function DF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Or("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",DF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_F("Browser");function LT(t){return new Y(function(e){var n=Io(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var VT="auth",wo=class{constructor(e){return e}},Eo=class{constructor(){return lo(VT)}};var hm=new oe("angularfire2.auth-instances");function fL(t,e){let n=du(VT,t,e);return n&&new wo(n)}function pL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new wo(r)}}var mL={provide:Eo,deps:[[new at,hm]]},gL={provide:wo,useFactory:fL,deps:[[new at,hm],pn]};function b9(t,...e){return Pe("angularfire",Pr.full,"auth"),Cr([gL,mL,{provide:hm,useFactory:pL(t),multi:!0,deps:[we,vt,ji,Mr,[new at,Ui],...e]}])}var C9=ke(LT,!0);var A9=ke(dm,!0);var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jT={};var Yn,fm;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,T,C){for(var I=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)I[Yt-2]=arguments[Yt];return y.prototype[T].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)E[T]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(T=0;16>T;++T)E[T]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],T=D.g[2];var C=D.g[3],I=y+(C^_&(T^C))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[1]+3905402710&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[2]+606105819&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[5]+1200080426&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[6]+2821735955&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[9]+2336552879&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[10]+4294925233&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[13]+4254626195&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[14]+2792965006&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(T^C&(_^T))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[6]+3225465664&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[11]+643717713&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[10]+38016083&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[15]+3634488961&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[14]+3275163606&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[3]+4107603335&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[2]+4243563512&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[7]+1735328473&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(_^T^C)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[8]+2272392833&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[11]+1839030562&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[4]+1272893353&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[7]+4139469664&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[0]+3936430074&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[3]+3572445317&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[12]+3873151461&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[15]+530742520&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(T^(_|~C))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[7]+1126891415&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[14]+2878612391&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[3]+2399980690&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[10]+4293915773&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[15]+4264355552&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[6]+2734768916&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[11]+3174756917&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[2]+718787259&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,T=this.h,C=0;C<y;){if(T==0)for(;C<=_;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<y;)if(E[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<y;)if(E[T++]=D[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=c;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;E&&C==y||(_[T]=C,E=!1)}this.g=_}var c={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return N(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),I=parseInt(D.substring(T,T+C),y);8>C?(C=l(Math.pow(y,C)),E=E.j(C).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),g=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-N(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(x(this))return"-"+N(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var T=J(_,y).g;_=O(_,T.j(y));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=T,A(_))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=O(this,D),x(D)?-1:A(D)?0:1};function N(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(g)}t.abs=function(){return x(this)?N(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,T=0;T<=y;T++){var C=E+(this.i(T)&65535)+(D.i(T)&65535),I=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=I>>>16,C&=65535,I&=65535,_[T]=I<<16|C}return new o(_,_[_.length-1]&-2147483648?-1:0)};function O(D,y){return D.add(N(y))}t.j=function(D){if(A(this)||A(D))return p;if(x(this))return x(D)?N(this).j(N(D)):N(N(this).j(D));if(x(D))return N(this.j(N(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var C=this.i(E)>>>16,I=this.i(E)&65535,Yt=D.i(T)>>>16,ls=D.i(T)&65535;_[2*E+2*T]+=I*ls,U(_,2*E+2*T),_[2*E+2*T+1]+=C*ls,U(_,2*E+2*T+1),_[2*E+2*T+1]+=I*Yt,U(_,2*E+2*T+1),_[2*E+2*T+2]+=C*Yt,U(_,2*E+2*T+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function U(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function L(D,y){this.g=D,this.h=y}function J(D,y){if(A(y))throw Error("division by zero");if(A(D))return new L(p,p);if(x(D))return y=J(N(D),y),new L(N(y.g),N(y.h));if(x(y))return y=J(D,N(y)),new L(N(y.g),y.h);if(30<D.g.length){if(x(D)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var _=g,E=y;0>=E.l(D);)_=pe(_),E=pe(E);var T=Q(_,1),C=Q(E,1);for(E=Q(E,2),_=Q(_,2);!A(E);){var I=C.add(E);0>=I.l(D)&&(T=T.add(_),C=I),E=Q(E,1),_=Q(_,1)}return y=O(D,T.j(y)),new L(T,y)}for(T=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(_),I=C.j(y);x(I)||0<I.l(D);)_-=E,C=l(_),I=C.j(y);A(C)&&(C=g),T=T.add(C),D=O(D,I)}return new L(T,D)}t.A=function(D){return J(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function pe(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function Q(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,T=[],C=0;C<E;C++)T[C]=0<y?D.i(C+_)>>>y|D.i(C+_+1)<<32-y:D.i(C+_);return new o(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fm=jT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Yn=jT.Integer=o}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yn={};var pm,yL,Hi,mm,Do,Mu,gm,ym,vm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var b=a[m];if(!(b in f))break e;f=f[b]}a=a[a.length-1],m=f[a],d=d(m),d!=m&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var f=0,m=!1,b={next:function(){if(!m&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,f){return f})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function g(a,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function A(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(m,b,S){for(var M=Array(arguments.length-2),he=2;he<arguments.length;he++)M[he-2]=arguments[he];return d.prototype[b].apply(m,M)}}function x(a){let d=a.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=a[m];return f}return[]}function N(a,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=a.length||0,S=m.length||0;a.length=b+S;for(let M=0;M<S;M++)a[b+M]=m[M]}else a.push(m)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(a){return/^[\s\xa0]*$/.test(a)}function L(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function J(a){return J[" "](a),a}J[" "]=function(){};var pe=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Q(a,d,f){for(let m in a)d.call(f,a[m],m,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function y(a){let d={};for(let f in a)d[f]=a[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)a[f]=m[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(m,f)&&(a[f]=m[f])}}function T(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function C(a){c.setTimeout(()=>{throw a},0)}function I(){var a=xl;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Yt{constructor(){this.h=this.g=null}add(d,f){let m=ls.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ls=new O(()=>new HC,a=>a.reset());class HC{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ds,hs=!1,xl=new Yt,Ay=()=>{let a=c.Promise.resolve(void 0);ds=()=>{a.then(qC)}};var qC=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(f){C(f)}var d=ls;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}hs=!1};function wn(){this.s=this.s,this.C=this.C}wn.prototype.s=!1,wn.prototype.ma=function(){this.s||(this.s=!0,this.N())},wn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var zC=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function fs(a,d){if(Be.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(pe){e:{try{J(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:GC[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&fs.aa.h.call(this)}}A(fs,Be);var GC={2:"touch",3:"pen",4:"mouse"};fs.prototype.h=function(){fs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ps="closure_listenable_"+(1e6*Math.random()|0),WC=0;function KC(a,d,f,m,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++WC,this.da=this.fa=!1}function Ko(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Qo(a){this.src=a,this.g={},this.h=0}Qo.prototype.add=function(a,d,f,m,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var M=Ml(a,d,m,b);return-1<M?(d=a[M],f||(d.fa=!1)):(d=new KC(d,this.src,S,!!m,b),d.fa=f,a.push(d)),d};function Pl(a,d){var f=d.type;if(f in a.g){var m=a.g[f],b=Array.prototype.indexOf.call(m,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(m,b,1),S&&(Ko(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Ml(a,d,f,m){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==m)return b}return-1}var Ol="closure_lm_"+(1e6*Math.random()|0),kl={};function Sy(a,d,f,m,b){if(m&&m.once)return Ry(a,d,f,m,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Sy(a,d[S],f,m,b);return null}return f=Ul(f),a&&a[ps]?a.K(d,f,l(m)?!!m.capture:!!m,b):Ny(a,d,f,!1,m,b)}function Ny(a,d,f,m,b,S){if(!d)throw Error("Invalid event type");var M=l(b)?!!b.capture:!!b,he=Ll(a);if(he||(a[Ol]=he=new Qo(a)),f=he.add(d,f,m,M,S),f.proxy)return f;if(m=QC(),f.proxy=m,m.src=a,m.listener=f,a.addEventListener)zC||(b=M),b===void 0&&(b=!1),a.addEventListener(d.toString(),m,b);else if(a.attachEvent)a.attachEvent(Py(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function QC(){function a(f){return d.call(a.src,a.listener,f)}let d=YC;return a}function Ry(a,d,f,m,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Ry(a,d[S],f,m,b);return null}return f=Ul(f),a&&a[ps]?a.L(d,f,l(m)?!!m.capture:!!m,b):Ny(a,d,f,!0,m,b)}function xy(a,d,f,m,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)xy(a,d[S],f,m,b);else m=l(m)?!!m.capture:!!m,f=Ul(f),a&&a[ps]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=Ml(S,f,m,b),-1<f&&(Ko(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ll(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Ml(d,f,m,b)),(f=-1<a?d[a]:null)&&Fl(f))}function Fl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ps])Pl(d.i,a);else{var f=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(f,m,a.capture):d.detachEvent?d.detachEvent(Py(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Ll(d))?(Pl(f,a),f.h==0&&(f.src=null,d[Ol]=null)):Ko(a)}}}function Py(a){return a in kl?kl[a]:kl[a]="on"+a}function YC(a,d){if(a.da)a=!0;else{d=new fs(d,this);var f=a.listener,m=a.ha||a.src;a.fa&&Fl(a),a=f.call(m,d)}return a}function Ll(a){return a=a[Ol],a instanceof Qo?a:null}var Vl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ul(a){return typeof a=="function"?a:(a[Vl]||(a[Vl]=function(d){return a.handleEvent(d)}),a[Vl])}function $e(){wn.call(this),this.i=new Qo(this),this.M=this,this.F=null}A($e,wn),$e.prototype[ps]=!0,$e.prototype.removeEventListener=function(a,d,f,m){xy(this,a,d,f,m)};function Je(a,d){var f,m=a.F;if(m)for(f=[];m;m=m.F)f.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new Be(d,a);else if(d instanceof Be)d.target=d.target||a;else{var b=d;d=new Be(m,a),E(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var M=d.g=f[S];b=Yo(M,m,!0,d)&&b}if(M=d.g=a,b=Yo(M,m,!0,d)&&b,b=Yo(M,m,!1,d)&&b,f)for(S=0;S<f.length;S++)M=d.g=f[S],b=Yo(M,m,!1,d)&&b}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],m=0;m<f.length;m++)Ko(f[m]);delete a.g[d],a.h--}}this.F=null},$e.prototype.K=function(a,d,f,m){return this.i.add(String(a),d,!1,f,m)},$e.prototype.L=function(a,d,f,m){return this.i.add(String(a),d,!0,f,m)};function Yo(a,d,f,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var M=d[S];if(M&&!M.da&&M.capture==f){var he=M.listener,Le=M.ha||M.src;M.fa&&Pl(a.i,M),b=he.call(Le,m)!==!1&&b}}return b&&!m.defaultPrevented}function My(a,d,f){if(typeof a=="function")f&&(a=g(a,f));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Oy(a){a.g=My(()=>{a.g=null,a.i&&(a.i=!1,Oy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class JC extends wn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Oy(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(a){wn.call(this),this.h=a,this.g={}}A(ms,wn);var ky=[];function Fy(a){Q(a.g,function(d,f){this.g.hasOwnProperty(f)&&Fl(d)},a),a.g={}}ms.prototype.N=function(){ms.aa.N.call(this),Fy(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jl=c.JSON.stringify,ZC=c.JSON.parse,XC=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Bl(){}Bl.prototype.h=null;function Ly(a){return a.h||(a.h=a.i())}function Vy(){}var gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $l(){Be.call(this,"d")}A($l,Be);function Hl(){Be.call(this,"c")}A(Hl,Be);var nr={},Uy=null;function Jo(){return Uy=Uy||new $e}nr.La="serverreachability";function jy(a){Be.call(this,nr.La,a)}A(jy,Be);function ys(a){let d=Jo();Je(d,new jy(d))}nr.STAT_EVENT="statevent";function By(a,d){Be.call(this,nr.STAT_EVENT,a),this.stat=d}A(By,Be);function Ze(a){let d=Jo();Je(d,new By(d,a))}nr.Ma="timingevent";function $y(a,d){Be.call(this,nr.Ma,a),this.size=d}A($y,Be);function vs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function e0(a,d,f,m,b,S){a.info(function(){if(a.g)if(S)for(var M="",he=S.split("&"),Le=0;Le<he.length;Le++){var ae=he[Le].split("=");if(1<ae.length){var He=ae[0];ae=ae[1];var qe=He.split("_");M=2<=qe.length&&qe[1]=="type"?M+(He+"="+ae+"&"):M+(He+"=redacted&")}}else M=null;else M=S;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+M})}function t0(a,d,f,m,b,S,M){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+M})}function Zr(a,d,f,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+r0(a,f)+(m?" "+m:"")})}function n0(a,d){a.info(function(){return"TIMEOUT: "+d})}_s.prototype.info=function(){};function r0(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var m=f[a];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var M=1;M<b.length;M++)b[M]=""}}}}return jl(f)}catch{return d}}var Zo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ql;function Xo(){}A(Xo,Bl),Xo.prototype.g=function(){return new XMLHttpRequest},Xo.prototype.i=function(){return{}},ql=new Xo;function En(a,d,f,m){this.j=a,this.i=d,this.l=f,this.R=m||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qy}function qy(){this.i=null,this.g="",this.h=!1}var zy={},zl={};function Gl(a,d,f){a.L=1,a.v=ra(Jt(d)),a.m=f,a.P=!0,Gy(a,null)}function Gy(a,d){a.F=Date.now(),ea(a),a.A=Jt(a.v);var f=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),ov(f.i,"t",m),a.C=0,f=a.j.J,a.h=new qy,a.g=Tv(a.j,f?d:null,!a.m),0<a.O&&(a.M=new JC(g(a.Y,a,a.g),a.O)),d=a.U,f=a.g,m=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(ky[0]=b.toString()),b=ky);for(var S=0;S<b.length;S++){var M=Sy(f,b[S],m||d.handleEvent,!1,d.h||d);if(!M)break;d.g[M.key]=M}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ys(),e0(a.i,a.u,a.A,a.l,a.R,a.m)}En.prototype.ca=function(a){a=a.target;let d=this.M;d&&Zt(a)==3?d.j():this.Y(a)},En.prototype.Y=function(a){try{if(a==this.g)e:{let qe=Zt(this.g);var d=this.g.Ba();let ti=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||fv(this.g)))){this.J||qe!=4||d==7||(d==8||0>=ti?ys(3):ys(2)),Wl(this);var f=this.g.Z();this.X=f;t:if(Wy(this)){var m=fv(this.g);a="";var b=m.length,S=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rr(this),Is(this);var M="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(m[d],{stream:!(S&&d==b-1)});m.length=0,this.h.g+=a,this.C=0,M=this.h.g}else M=this.g.oa();if(this.o=f==200,t0(this.i,this.u,this.A,this.l,this.R,qe,f),this.o){if(this.T&&!this.K){t:{if(this.g){var he,Le=this.g;if((he=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(he)){var ae=he;break t}}ae=null}if(f=ae)Zr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kl(this,f);else{this.o=!1,this.s=3,Ze(12),rr(this),Is(this);break e}}if(this.P){f=!0;let Et;for(;!this.J&&this.C<M.length;)if(Et=i0(this,M),Et==zl){qe==4&&(this.s=4,Ze(14),f=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==zy){this.s=4,Ze(15),Zr(this.i,this.l,M,"[Invalid Chunk]"),f=!1;break}else Zr(this.i,this.l,Et,null),Kl(this,Et);if(Wy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||M.length!=0||this.h.h||(this.s=1,Ze(16),f=!1),this.o=this.o&&f,!f)Zr(this.i,this.l,M,"[Invalid Chunked Response]"),rr(this),Is(this);else if(0<M.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),ed(He),He.M=!0,Ze(11))}}else Zr(this.i,this.l,M,null),Kl(this,M);qe==4&&rr(this),this.o&&!this.J&&(qe==4?Iv(this.j,this):(this.o=!1,ea(this)))}else w0(this.g),f==400&&0<M.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),rr(this),Is(this)}}}catch{}finally{}};function Wy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function i0(a,d){var f=a.C,m=d.indexOf(`
`,f);return m==-1?zl:(f=Number(d.substring(f,m)),isNaN(f)?zy:(m+=1,m+f>d.length?zl:(d=d.slice(m,m+f),a.C=m+f,d)))}En.prototype.cancel=function(){this.J=!0,rr(this)};function ea(a){a.S=Date.now()+a.I,Ky(a,a.I)}function Ky(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=vs(g(a.ba,a),d)}function Wl(a){a.B&&(c.clearTimeout(a.B),a.B=null)}En.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(n0(this.i,this.A),this.L!=2&&(ys(),Ze(17)),rr(this),this.s=2,Is(this)):Ky(this,this.S-a)};function Is(a){a.j.G==0||a.J||Iv(a.j,a)}function rr(a){Wl(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Fy(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Kl(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Ql(f.h,a))){if(!a.K&&Ql(f.h,a)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)ca(f),oa(f);else break e;Xl(f),Ze(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=vs(g(f.Za,f),6e3));if(1>=Jy(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else sr(f,11)}else if((a.K||f.g==a)&&ca(f),!U(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ae=b[d];if(f.T=ae[0],ae=ae[1],f.G==2)if(ae[0]=="c"){f.K=ae[1],f.ia=ae[2];let He=ae[3];He!=null&&(f.la=He,f.j.info("VER="+f.la));let qe=ae[4];qe!=null&&(f.Aa=qe,f.j.info("SVER="+f.Aa));let ti=ae[5];ti!=null&&typeof ti=="number"&&0<ti&&(m=1.5*ti,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Et=a.g;if(Et){let la=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var S=m.h;S.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Yl(S,S.h),S.h=null))}if(m.D){let td=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;td&&(m.ya=td,me(m.I,m.D,td))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var M=a;if(m.qa=Dv(m,m.J?m.ia:null,m.W),M.K){Zy(m.h,M);var he=M,Le=m.L;Le&&(he.I=Le),he.B&&(Wl(he),ea(he)),m.g=M}else vv(m);0<f.i.length&&aa(f)}else ae[0]!="stop"&&ae[0]!="close"||sr(f,7);else f.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?sr(f,7):Zl(f):ae[0]!="noop"&&f.l&&f.l.ta(ae),f.v=0)}}ys(4)}catch{}}var s0=class{constructor(a,d){this.g=a,this.map=d}};function Qy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Jy(a){return a.h?1:a.g?a.g.size:0}function Ql(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Yl(a,d){a.g?a.g.add(d):a.h=d}function Zy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Qy.prototype.cancel=function(){if(this.i=Xy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Xy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return x(a.i)}function o0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,m=0;m<f;m++)d.push(a[m]);return d}d=[],f=0;for(m in a)d[f++]=a[m];return d}function a0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let m in a)d[f++]=m;return d}}}function ev(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=a0(a),m=o0(a),b=m.length,S=0;S<b;S++)d.call(void 0,m[S],f&&f[S],a)}var tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c0(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var m=a[f].indexOf("="),b=null;if(0<=m){var S=a[f].substring(0,m);b=a[f].substring(m+1)}else S=a[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ir(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ir){this.h=a.h,ta(this,a.j),this.o=a.o,this.g=a.g,na(this,a.s),this.l=a.l;var d=a.i,f=new Ds;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),nv(this,f),this.m=a.m}else a&&(d=String(a).match(tv))?(this.h=!1,ta(this,d[1]||"",!0),this.o=ws(d[2]||""),this.g=ws(d[3]||"",!0),na(this,d[4]),this.l=ws(d[5]||"",!0),nv(this,d[6]||"",!0),this.m=ws(d[7]||"")):(this.h=!1,this.i=new Ds(null,this.h))}ir.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Es(d,rv,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Es(d,rv,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Es(f,f.charAt(0)=="/"?d0:l0,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Es(f,f0)),a.join("")};function Jt(a){return new ir(a)}function ta(a,d,f){a.j=f?ws(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function na(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function nv(a,d,f){d instanceof Ds?(a.i=d,p0(a.i,a.h)):(f||(d=Es(d,h0)),a.i=new Ds(d,a.h))}function me(a,d,f){a.i.set(d,f)}function ra(a){return me(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ws(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Es(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,u0),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function u0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var rv=/[#\/\?@]/g,l0=/[#\?:]/g,d0=/[#\?]/g,h0=/[#\?@]/g,f0=/#/g;function Ds(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Dn(a){a.g||(a.g=new Map,a.h=0,a.i&&c0(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ds.prototype,t.add=function(a,d){Dn(this),this.i=null,a=Xr(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function iv(a,d){Dn(a),d=Xr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function sv(a,d){return Dn(a),d=Xr(a,d),a.g.has(d)}t.forEach=function(a,d){Dn(this),this.g.forEach(function(f,m){f.forEach(function(b){a.call(d,b,m,this)},this)},this)},t.na=function(){Dn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=a[m];for(let S=0;S<b.length;S++)f.push(d[m])}return f},t.V=function(a){Dn(this);let d=[];if(typeof a=="string")sv(this,a)&&(d=d.concat(this.g.get(Xr(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return Dn(this),this.i=null,a=Xr(this,a),sv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function ov(a,d,f){iv(a,d),0<f.length&&(a.i=null,a.g.set(Xr(a,d),x(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let S=encodeURIComponent(String(m)),M=this.V(m);for(m=0;m<M.length;m++){var b=S;M[m]!==""&&(b+="="+encodeURIComponent(String(M[m]))),a.push(b)}}return this.i=a.join("&")};function Xr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function p0(a,d){d&&!a.j&&(Dn(a),a.i=null,a.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(iv(this,m),ov(this,b,f))},a)),a.j=d}function m0(a,d){let f=new _s;if(c.Image){let m=new Image;m.onload=v(Tn,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(Tn,f,"TestLoadImage: error",!1,d,m),m.onabort=v(Tn,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(Tn,f,"TestLoadImage: timeout",!1,d,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function g0(a,d){let f=new _s,m=new AbortController,b=setTimeout(()=>{m.abort(),Tn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(b),S.ok?Tn(f,"TestPingServer: ok",!0,d):Tn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Tn(f,"TestPingServer: error",!1,d)})}function Tn(a,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function y0(){this.g=new XC}function v0(a,d,f){let m=f||"";try{ev(a,function(b,S){let M=b;l(b)&&(M=jl(b)),d.push(m+S+"="+encodeURIComponent(M))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Ts(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ts,Bl),Ts.prototype.g=function(){return new ia(this.l,this.j)},Ts.prototype.i=function(a){return function(){return a}}({});function ia(a,d){$e.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ia,$e),t=ia.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Cs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Cs(this)),this.g&&(this.readyState=3,Cs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;av(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function av(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?bs(this):Cs(this),this.readyState==3&&av(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,bs(this))},t.Qa=function(a){this.g&&(this.response=a,bs(this))},t.ga=function(){this.g&&bs(this)};function bs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Cs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Cs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function cv(a){let d="";return Q(a,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Jl(a,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=cv(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):me(a,d,f))}function _e(a){$e.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(_e,$e);var _0=/^https?$/i,I0=["POST","PUT"];t=_e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ql.g(),this.v=this.o?Ly(this.o):Ly(ql),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){uv(this,S);return}if(a=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())f.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(I0,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,M]of f)this.g.setRequestHeader(S,M);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hv(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){uv(this,S)}};function uv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,lv(a),sa(a)}function lv(a){a.A||(a.A=!0,Je(a,"complete"),Je(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Je(this,"complete"),Je(this,"abort"),sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sa(this,!0)),_e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dv(this):this.bb())},t.bb=function(){dv(this)};function dv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Zt(a)!=4||a.Z()!=2)){if(a.u&&Zt(a)==4)My(a.Ea,0,a);else if(Je(a,"readystatechange"),Zt(a)==4){a.h=!1;try{let M=a.Z();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=M===0){var b=String(a.D).match(tv)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),m=!_0.test(b?b.toLowerCase():"")}f=m}if(f)Je(a,"complete"),Je(a,"success");else{a.m=6;try{var S=2<Zt(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",lv(a)}}finally{sa(a)}}}}function sa(a,d){if(a.g){hv(a);let f=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Je(a,"ready");try{f.onreadystatechange=m}catch{}}}function hv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Zt(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),ZC(d)}};function fv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function w0(a){let d={};a=(a.g&&2<=Zt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(U(a[m]))continue;var f=T(a[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function pv(a){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,a),this.cb=As("retryDelaySeedMs",1e4,a),this.Wa=As("forwardChannelMaxRetries",2,a),this.wa=As("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Qy(a&&a.concurrentRequestLimit),this.Da=new y0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pv.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,m){Ze(0),this.W=a,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Dv(this,null,this.W),aa(this)};function Zl(a){if(mv(a),a.G==3){var d=a.U++,f=Jt(a.I);if(me(f,"SID",a.K),me(f,"RID",d),me(f,"TYPE","terminate"),Ss(a,f),d=new En(a,a.j,d),d.L=2,d.v=ra(Jt(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=Tv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ea(d)}Ev(a)}function oa(a){a.g&&(ed(a),a.g.cancel(),a.g=null)}function mv(a){oa(a),a.u&&(c.clearTimeout(a.u),a.u=null),ca(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function aa(a){if(!Yy(a.h)&&!a.s){a.s=!0;var d=a.Ga;ds||Ay(),hs||(ds(),hs=!0),xl.add(d,a),a.B=0}}function E0(a,d){return Jy(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=vs(g(a.Ga,a,d),wv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new En(this,this.j,a),S=this.o;if(this.S&&(S?(S=y(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=yv(this,b,d),f=Jt(this.I),me(f,"RID",a),me(f,"CVER",22),this.D&&me(f,"X-HTTP-Session-Id",this.D),Ss(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(cv(S)))+"&"+d:this.m&&Jl(f,this.m,S)),Yl(this.h,b),this.Ua&&me(f,"TYPE","init"),this.P?(me(f,"$req",d),me(f,"SID","null"),b.T=!0,Gl(b,f,null)):Gl(b,f,d),this.G=2}}else this.G==3&&(a?gv(this,a):this.i.length==0||Yy(this.h)||gv(this))};function gv(a,d){var f;d?f=d.l:f=a.U++;let m=Jt(a.I);me(m,"SID",a.K),me(m,"RID",f),me(m,"AID",a.T),Ss(a,m),a.m&&a.o&&Jl(m,a.m,a.o),f=new En(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=yv(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Yl(a.h,f),Gl(f,m,d)}function Ss(a,d){a.H&&Q(a.H,function(f,m){me(d,m,f)}),a.l&&ev({},function(f,m){me(d,m,f)})}function yv(a,d,f){f=Math.min(a.i.length,f);var m=a.l?g(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let M=["count="+f];S==-1?0<f?(S=b[0].g,M.push("ofs="+S)):S=0:M.push("ofs="+S);let he=!0;for(let Le=0;Le<f;Le++){let ae=b[Le].g,He=b[Le].map;if(ae-=S,0>ae)S=Math.max(0,b[Le].g-100),he=!1;else try{v0(He,M,"req"+ae+"_")}catch{m&&m(He)}}if(he){m=M.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,m}function vv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ds||Ay(),hs||(ds(),hs=!0),xl.add(d,a),a.v=0}}function Xl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=vs(g(a.Fa,a),wv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,_v(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=vs(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),oa(this),_v(this))};function ed(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function _v(a){a.g=new En(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Jt(a.qa);me(d,"RID","rpc"),me(d,"SID",a.K),me(d,"AID",a.T),me(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&me(d,"TO",a.ja),me(d,"TYPE","xmlhttp"),Ss(a,d),a.m&&a.o&&Jl(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=ra(Jt(d)),f.m=null,f.P=!0,Gy(f,a)}t.Za=function(){this.C!=null&&(this.C=null,oa(this),Xl(this),Ze(19))};function ca(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Iv(a,d){var f=null;if(a.g==d){ca(a),ed(a),a.g=null;var m=2}else if(Ql(a.h,d))f=d.D,Zy(a.h,d),m=1;else return;if(a.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;m=Jo(),Je(m,new $y(m,f)),aa(a)}else vv(a);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&E0(a,d)||m==2&&Xl(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:sr(a,5);break;case 4:sr(a,10);break;case 3:sr(a,6);break;default:sr(a,2)}}}function wv(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function sr(a,d){if(a.j.info("Error code "+d),d==2){var f=g(a.fb,a),m=a.Xa;let b=!m;m=new ir(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ta(m,"https"),ra(m),b?m0(m.toString(),f):g0(m.toString(),f)}else Ze(2);a.G=0,a.l&&a.l.sa(d),Ev(a),mv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Ev(a){if(a.G=0,a.ka=[],a.l){let d=Xy(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Dv(a,d,f){var m=f instanceof ir?Jt(f):new ir(f);if(m.g!="")d&&(m.g=d+"."+m.g),na(m,m.s);else{var b=c.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new ir(null);m&&ta(S,m),d&&(S.g=d),b&&na(S,b),f&&(S.l=f),m=S}return f=a.D,d=a.ya,f&&d&&me(m,f,d),me(m,"VER",a.la),Ss(a,m),m}function Tv(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new _e(new Ts({eb:f})):new _e(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bv(){}t=bv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ua(){}ua.prototype.g=function(a,d){return new ct(a,d)};function ct(a,d){$e.call(this),this.g=new pv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!U(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ei(this)}A(ct,$e),ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ct.prototype.close=function(){Zl(this.g)},ct.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=jl(a),a=f);d.i.push(new s0(d.Ya++,a)),d.G==3&&aa(d)},ct.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,ct.aa.N.call(this)};function Cv(a){$l.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(Cv,$l);function Av(){Hl.call(this),this.status=1}A(Av,Hl);function ei(a){this.g=a}A(ei,bv),ei.prototype.ua=function(){Je(this.g,"a")},ei.prototype.ta=function(a){Je(this.g,new Cv(a))},ei.prototype.sa=function(a){Je(this.g,new Av)},ei.prototype.ra=function(){Je(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,ct.prototype.send=ct.prototype.o,ct.prototype.open=ct.prototype.m,ct.prototype.close=ct.prototype.close,vm=yn.createWebChannelTransport=function(){return new ua},ym=yn.getStatEventTarget=function(){return Jo()},gm=yn.Event=nr,Mu=yn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zo.NO_ERROR=0,Zo.TIMEOUT=8,Zo.HTTP_ERROR=6,Do=yn.ErrorCode=Zo,Hy.COMPLETE="complete",mm=yn.EventType=Hy,Vy.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Hi=yn.WebChannel=Vy,yL=yn.FetchXmlHttpFactory=Ts,_e.prototype.listenOnce=_e.prototype.L,_e.prototype.getLastError=_e.prototype.Ka,_e.prototype.getLastErrorCode=_e.prototype.Ba,_e.prototype.getStatus=_e.prototype.Z,_e.prototype.getResponseJson=_e.prototype.Oa,_e.prototype.getResponseText=_e.prototype.oa,_e.prototype.send=_e.prototype.ea,_e.prototype.setWithCredentials=_e.prototype.Ha,pm=yn.XhrIo=_e}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});var BT="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var cs="10.14.0";var Br=new $n("@firebase/firestore");function To(){return Br.logLevel}function F(t,...e){if(Br.logLevel<=ee.DEBUG){let n=e.map(iy);Br.debug(`Firestore (${cs}): ${t}`,...n)}}function vn(t,...e){if(Br.logLevel<=ee.ERROR){let n=e.map(iy);Br.error(`Firestore (${cs}): ${t}`,...n)}}function Yi(t,...e){if(Br.logLevel<=ee.WARN){let n=e.map(iy);Br.warn(`Firestore (${cs}): ${t}`,...n)}}function iy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function H(t="Unexpected state"){let e=`FIRESTORE (${cs}) INTERNAL ASSERTION FAILED: `+t;throw vn(e),new Error(e)}function le(t,e){t||H()}function z(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ht=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Tm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}},bm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Cm=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){le(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Ht;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ht,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ht)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string"),new Vu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new Fe(e)}},Am=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Sm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Am(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Nm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Rm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){le(this.o===void 0);let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.R=n.token,new Nm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Uu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function Ji(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var je=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var K=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new je(0,0))}static max(){return new t(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ju=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ve=class t extends ju{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new k(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},_L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pt=class t extends ju{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return _L.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new k(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new k(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new k(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new k(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var V=class t{constructor(e){this.path=e}static fromPath(e){return new t(ve.fromString(e))}static fromName(e){return new t(ve.fromString(e).popFirst(5))}static empty(){return new t(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ve(e.slice()))}};var xm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};xm.UNKNOWN_ID=-1;function IL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new $r(i,V.empty(),e)}function wL(t){return new $r(t.readTime,t.key,-1)}var $r=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(K.min(),V.empty(),-1)}static max(){return new t(K.max(),V.empty(),-1)}};function EL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var DL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function $o(t){return w(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==DL)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++c,c===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function TL(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(t){return t.name==="IndexedDbTransactionError"}var Eb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function vl(t){return t==null}function Ro(t){return t===0&&1/t==-1/0}function bL(t){return typeof t=="number"&&Number.isInteger(t)&&!Ro(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var CL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B9=[...CL,"documentOverlays"],AL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SL=AL,NL=[...SL,"indexConfiguration","indexState","indexEntries"];var $9=[...NL,"globals"];function $T(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Db(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var De=class t{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wi(this.root,e,this.comparator,!0)}},Wi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qt=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();let e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}};qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,n,r,i,s){return this}insert(e,n,r){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class t{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bu(this.data.getIterator())}getIteratorFrom(e){return new Bu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var It=class t{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Qe(pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var $u=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ye=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $u("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ye.EMPTY_BYTE_STRING=new Ye("");var RL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(t){if(le(!!t),typeof t=="string"){let e=0,n=RL.exec(t);if(le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(t.seconds),nanos:ge(t.nanos)}}function ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zn(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}function sy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function oy(t){let e=t.mapValue.fields.__previous_value__;return sy(e)?oy(e):e}function xo(t){let e=_n(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}var Mm=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Hu=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sy(t)?4:bb(t)?9007199254740991:Tb(t)?10:11:H()}function Wt(t,e){if(t===e)return!0;let n=Hr(t);if(n!==Hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xo(t).isEqual(xo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=_n(i.timestampValue),c=_n(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zn(i.bytesValue).isEqual(Zn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ge(i.geoPointValue.latitude)===ge(s.geoPointValue.latitude)&&ge(i.geoPointValue.longitude)===ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ge(i.integerValue)===ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ge(i.doubleValue),c=ge(s.doubleValue);return o===c?Ro(o)===Ro(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Ji(t.arrayValue.values||[],e.arrayValue.values||[],Wt);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if($T(o)!==$T(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Wt(o[u],c[u])))return!1;return!0}(t,e);default:return H()}}function Po(t,e){return(t.values||[]).find(n=>Wt(n,e))!==void 0}function Zi(t,e){if(t===e)return 0;let n=Hr(t),r=Hr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=ge(s.integerValue||s.doubleValue),u=ge(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return HT(t.timestampValue,e.timestampValue);case 4:return HT(xo(t),xo(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Zn(s),u=Zn(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=ce(c[l],u[l]);if(h!==0)return h}return ce(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ce(ge(s.latitude),ge(o.latitude));return c!==0?c:ce(ge(s.longitude),ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,h;let p=s.fields||{},g=o.fields||{},v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=g.value)===null||u===void 0?void 0:u.arrayValue,x=ce(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:qT(v,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ou.mapValue&&o===Ou.mapValue)return 0;if(s===Ou.mapValue)return 1;if(o===Ou.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=ce(u[p],h[p]);if(g!==0)return g;let v=Zi(c[u[p]],l[h[p]]);if(v!==0)return v}return ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw H()}}function HT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=_n(t),r=_n(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function qT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Zi(n[i],r[i]);if(s)return s}return ce(n.length,r.length)}function Xi(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=_n(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return V.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Om(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Om(n.fields[o])}`;return i+"}"}(t.mapValue):H()}function zT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function km(t){return!!t&&"integerValue"in t}function ay(t){return!!t&&"arrayValue"in t}function GT(t){return!!t&&"nullValue"in t}function WT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fu(t){return!!t&&"mapValue"in t}function Tb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Co(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Yr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Co(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Co(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ft=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Co(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yr(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Co(this.value))}};function Cb(t){let e=[];return Yr(t.fields,(n,r)=>{let i=new pt([n]);if(Fu(r)){let s=Cb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new It(e)}var Nt=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,K.min(),K.min(),K.min(),ft.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,K.min(),K.min(),ft.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,K.min(),K.min(),ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var es=class{constructor(e,n){this.position=e,this.inclusive=n}};function KT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=V.comparator(V.fromName(o.referenceValue),n.key):r=Zi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wt(t.position[n],e.position[n]))return!1;return!0}var qr=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function xL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var qu=class{},Ne=class t extends qu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lm(e,n,r):n==="array-contains"?new jm(e,r):n==="in"?new Bm(e,r):n==="not-in"?new $m(e,r):n==="array-contains-any"?new Hm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vm(e,r):new Um(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zi(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(Zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Rt=class t extends qu{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Ab(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ab(t){return t.op==="and"}function Sb(t){return PL(t)&&Ab(t)}function PL(t){for(let e of t.filters)if(e instanceof Rt)return!1;return!0}function Fm(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+Xi(t.value);if(Sb(t))return t.filters.map(e=>Fm(e)).join(",");{let e=t.filters.map(n=>Fm(n)).join(",");return`${t.op}(${e})`}}function Nb(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&Wt(r.value,i.value)}(t,e):t instanceof Rt?function(r,i){return i instanceof Rt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&Nb(o,i.filters[c]),!0):!1}(t,e):void H()}function Rb(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Xi(n.value)}`}(t):t instanceof Rt?function(n){return n.op.toString()+" {"+n.getFilters().map(Rb).join(" ,")+"}"}(t):"Filter"}var Lm=class extends Ne{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){let n=V.comparator(e.key,this.key);return this.matchesComparison(n)}},Vm=class extends Ne{constructor(e,n){super(e,"in",n),this.keys=xb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Um=class extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=xb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function xb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}var jm=class extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ay(n)&&Po(n.arrayValue,this.value)}},Bm=class extends Ne{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Po(this.value.arrayValue,n)}},$m=class extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Po(this.value.arrayValue,n)}},Hm=class extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Po(this.value.arrayValue,r))}};var qm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function YT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new qm(t,e,n,r,i,s,o)}function cy(t){let e=z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xi(r)).join(",")),e.ue=n}return e.ue}function uy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QT(t.startAt,e.startAt)&&QT(t.endAt,e.endAt)}function zm(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Xn=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function ML(t,e,n,r,i,s,o,c){return new Xn(t,e,n,r,i,s,o,c)}function _l(t){return new Xn(t)}function JT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Pb(t){return t.collectionGroup!==null}function Ao(t){let e=z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Qe(pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new qr(s,r))}),n.has(pt.keyField().canonicalString())||e.ce.push(new qr(pt.keyField(),r))}return e.ce}function zt(t){let e=z(t);return e.le||(e.le=OL(e,Ao(t))),e.le}function OL(t,e){if(t.limitType==="F")return YT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new qr(i.field,s)});let n=t.endAt?new es(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new es(t.startAt.position,t.startAt.inclusive):null;return YT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gm(t,e){let n=t.filters.concat([e]);return new Xn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wm(t,e,n){return new Xn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Il(t,e){return uy(zt(t),zt(e))&&t.limitType===e.limitType}function Mb(t){return`${cy(zt(t))}|lt:${t.limitType}`}function qi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Rb(i)).join(", ")}]`),vl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xi(i)).join(",")),`Target(${r})`}(zt(t))}; limitType=${t.limitType})`}function wl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):V.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ao(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=KT(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Ao(r),i)||r.endAt&&!function(o,c,u){let l=KT(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Ao(r),i))}(t,e)}function kL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ob(t){return(e,n)=>{let r=!1;for(let i of Ao(t)){let s=FL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FL(t,e,n){let r=t.field.isKeyField()?V.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Zi(u,l):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}var er=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Db(this.inner)}size(){return this.innerSize}};var LL=new De(V.comparator);function In(){return LL}var kb=new De(V.comparator);function bo(...t){let e=kb;for(let n of t)e=e.insert(n.key,n);return e}function Fb(t){let e=kb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vr(){return So()}function Lb(){return So()}function So(){return new er(t=>t.toString(),(t,e)=>t.isEqual(e))}var VL=new De(V.comparator),UL=new Qe(V.comparator);function te(...t){let e=UL;for(let n of t)e=e.add(n);return e}var jL=new Qe(ce);function BL(){return jL}function ly(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ro(e)?"-0":e}}function Vb(t){return{integerValue:""+t}}function $L(t,e){return bL(e)?Vb(e):ly(t,e)}var ts=class{constructor(){this._=void 0}};function HL(t,e,n){return t instanceof ns?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sy(s)&&(s=oy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof zr?jb(t,e):t instanceof Gr?Bb(t,e):function(i,s){let o=Ub(i,s),c=ZT(o)+ZT(i.Pe);return km(o)&&km(i.Pe)?Vb(c):ly(i.serializer,c)}(t,e)}function qL(t,e,n){return t instanceof zr?jb(t,e):t instanceof Gr?Bb(t,e):n}function Ub(t,e){return t instanceof rs?function(r){return km(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ns=class extends ts{},zr=class extends ts{constructor(e){super(),this.elements=e}};function jb(t,e){let n=$b(e);for(let r of t.elements)n.some(i=>Wt(i,r))||n.push(r);return{arrayValue:{values:n}}}var Gr=class extends ts{constructor(e){super(),this.elements=e}};function Bb(t,e){let n=$b(e);for(let r of t.elements)n=n.filter(i=>!Wt(i,r));return{arrayValue:{values:n}}}var rs=class extends ts{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function ZT(t){return ge(t.integerValue||t.doubleValue)}function $b(t){return ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zr&&i instanceof zr||r instanceof Gr&&i instanceof Gr?Ji(r.elements,i.elements,Wt):r instanceof rs&&i instanceof rs?Wt(r.Pe,i.Pe):r instanceof ns&&i instanceof ns}(t.transform,e.transform)}var Km=class{constructor(e,n){this.version=e,this.transformResults=n}},wt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var is=class{};function Hb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ss(t.key,wt.none()):new Wr(t.key,t.data,wt.none());{let n=t.data,r=ft.empty(),i=new Qe(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Kt(t.key,r,new It(i.toArray()),wt.none())}}function GL(t,e,n){t instanceof Wr?function(i,s,o){let c=i.value.clone(),u=eb(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Kt?function(i,s,o){if(!Lu(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=eb(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(qb(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function No(t,e,n,r){return t instanceof Wr?function(s,o,c,u){if(!Lu(s.precondition,o))return c;let l=s.value.clone(),h=tb(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kt?function(s,o,c,u){if(!Lu(s.precondition,o))return c;let l=tb(s.fieldTransforms,u,o),h=o.data;return h.setAll(qb(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return Lu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function WL(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Ub(r.transform,i||null);s!=null&&(n===null&&(n=ft.empty()),n.set(r.field,s))}return n||null}function XT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ji(r,i,(s,o)=>zL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Wr=class extends is{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kt=class extends is{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function qb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function eb(t,e,n){let r=new Map;le(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,qL(o,c,n[i]))}return r}function tb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,HL(s,o,e))}return r}var ss=class extends is{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qm=class extends is{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ym=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&GL(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=No(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=No(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Lb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=Hb(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&Ji(this.mutations,e.mutations,(n,r)=>XT(n,r))&&Ji(this.baseMutations,e.baseMutations,(n,r)=>XT(n,r))}},Jm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){le(e.mutations.length===r.length);let i=function(){return VL}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Zm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Xm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ae,se;function KL(t){switch(t){default:return H();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function zb(t){if(t===void 0)return vn("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ae.OK:return R.OK;case Ae.CANCELLED:return R.CANCELLED;case Ae.UNKNOWN:return R.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return R.INTERNAL;case Ae.UNAVAILABLE:return R.UNAVAILABLE;case Ae.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ae.NOT_FOUND:return R.NOT_FOUND;case Ae.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ae.ABORTED:return R.ABORTED;case Ae.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ae.DATA_LOSS:return R.DATA_LOSS;default:return H()}}(se=Ae||(Ae={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var nb=null;function QL(){return new TextEncoder}var YL=new Yn([4294967295,4294967295],0);function rb(t){let e=QL().encode(t),n=new fm;return n.update(e),new Uint8Array(n.digest())}function ib(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yn([n,r],0),new Yn([i,s],0)]}var eg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ur(`Invalid padding: ${n}`);if(r<0)throw new Ur(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ur(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ur(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yn.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yn.fromNumber(r)));return i.compare(YL)===1&&(i=new Yn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=rb(e),[r,i]=ib(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=rb(e),[r,i]=ib(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ur=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zu=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Mo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(K.min(),i,new De(ce),In(),te())}},Mo=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,te(),te(),te())}};var Ki=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Gu=class{constructor(e,n){this.targetId=e,this.me=n}},Wu=class{constructor(e,n,r=Ye.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ku=class{constructor(){this.fe=0,this.ge=ob(),this.pe=Ye.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=te(),n=te(),r=te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Mo(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ob()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},tg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=In(),this.qe=sb(),this.Qe=new De(ce)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(zm(s))if(r===0){let o=new V(s.path);this.Ue(n,o,Nt.newNoDocument(o,K.min()))}else le(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}nb?.et(function(h,p,g,v,A){var x,N,O,U,L,J;let pe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Q=p.unchangedNames;return Q&&(pe.bloomFilter={applied:A===0,hashCount:(x=Q?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(U=(O=(N=Q?.bits)===null||N===void 0?void 0:N.bitmap)===null||O===void 0?void 0:O.length)!==null&&U!==void 0?U:0,padding:(J=(L=Q?.bits)===null||L===void 0?void 0:L.padding)!==null&&J!==void 0?J:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),pe}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=Zn(r).toUint8Array()}catch(u){if(u instanceof $u)return Yi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new eg(o,i,s)}catch(u){return Yi(u instanceof Ur?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&zm(c.target)){let u=new V(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Nt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=te();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new zu(e,n,this.Qe,this.ke,r);return this.ke=In(),this.qe=sb(),this.Qe=new De(ce),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ku,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qe(ce),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ku),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function sb(){return new De(V.comparator)}function ob(){return new De(V.comparator)}var JL={asc:"ASCENDING",desc:"DESCENDING"},ZL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XL={and:"AND",or:"OR"},ng=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function rg(t,e){return t.useProto3Json||vl(e)?e:{value:e}}function Qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eV(t,e){return Qu(t,e.toTimestamp())}function Gt(t){return le(!!t),K.fromTimestamp(function(n){let r=_n(n);return new je(r.seconds,r.nanos)}(t))}function dy(t,e){return ig(t,e).canonicalString()}function ig(t,e){let n=function(i){return new ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Wb(t){let e=ve.fromString(t);return le(Zb(e)),e}function sg(t,e){return dy(t.databaseId,e.path)}function _m(t,e){let n=Wb(e);if(n.get(1)!==t.databaseId.projectId)throw new k(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(Qb(n))}function Kb(t,e){return dy(t.databaseId,e)}function tV(t){let e=Wb(t);return e.length===4?ve.emptyPath():Qb(e)}function og(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qb(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ab(t,e,n){return{name:sg(t,e),fields:n.value.mapValue.fields}}function nV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(le(h===void 0||typeof h=="string"),Ye.fromBase64String(h||"")):(le(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ye.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let h=l.code===void 0?R.UNKNOWN:zb(l.code);return new k(h,l.message||"")}(o);n=new Wu(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_m(t,r.document.name),s=Gt(r.document.updateTime),o=r.document.createTime?Gt(r.document.createTime):K.min(),c=new ft({mapValue:{fields:r.document.fields}}),u=Nt.newFoundDocument(i,s,o,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ki(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_m(t,r.document),s=r.readTime?Gt(r.readTime):K.min(),o=Nt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Ki([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_m(t,r.document),s=r.removedTargetIds||[];n=new Ki([],s,i,null)}else{if(!("filter"in e))return H();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Xm(i,s),c=r.targetId;n=new Gu(c,o)}}return n}function rV(t,e){let n;if(e instanceof Wr)n={update:ab(t,e.key,e.value)};else if(e instanceof ss)n={delete:sg(t,e.key)};else if(e instanceof Kt)n={update:ab(t,e.key,e.data),updateMask:hV(e.fieldMask)};else{if(!(e instanceof Qm))return H();n={verify:sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof ns)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rs)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:H()}(t,e.precondition)),n}function iV(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gt(i.updateTime):Gt(s);return o.isEqual(K.min())&&(o=Gt(s)),new Km(o,i.transformResults||[])}(n,e))):[]}function sV(t,e){return{documents:[Kb(t,e.path)]}}function oV(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Kb(t,i);let s=function(l){if(l.length!==0)return Jb(Rt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:zi(g.field),direction:uV(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=rg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function aV(t){let e=tV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){le(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let g=Yb(p);return g instanceof Rt&&Sb(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(A){return new qr(Gi(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,vl(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,v=p.values||[];return new es(v,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,v=p.values||[];return new es(v,g)}(n.endAt)),ML(e,i,o,s,c,"F",u,l)}function cV(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Gi(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Gi(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Gi(n.unaryFilter.field);return Ne.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Gi(n.unaryFilter.field);return Ne.create(o,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(Gi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rt.create(n.compositeFilter.filters.map(r=>Yb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H()}}(n.compositeFilter.op))}(t):H()}function uV(t){return JL[t]}function lV(t){return ZL[t]}function dV(t){return XL[t]}function zi(t){return{fieldPath:t.canonicalString()}}function Gi(t){return pt.fromServerFormat(t.fieldPath)}function Jb(t){return t instanceof Ne?function(n){if(n.op==="=="){if(WT(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NAN"}};if(GT(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WT(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NAN"}};if(GT(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(n.field),op:lV(n.op),value:n.value}}}(t):t instanceof Rt?function(n){let r=n.getFilters().map(i=>Jb(i));return r.length===1?r[0]:{compositeFilter:{op:dV(n.op),filters:r}}}(t):H()}function hV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Zb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Oo=class t{constructor(e,n,r,i,s=K.min(),o=K.min(),c=Ye.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ag=class{constructor(e){this.ct=e}};function fV(t){let e=aV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wm(e,e.limit,"L"):e}var Yu=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ge(e.integerValue));else if("doubleValue"in e){let r=ge(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ro(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=_n(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Zn(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?bb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Tb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):H()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ge(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),V.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Yu.vt=new Yu;var cg=class{constructor(){this.un=new ug}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve($r.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},ug=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(ve.comparator)).toArray()}};var q9=new Uint8Array(0);var $t=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(41943040,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);var ko=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var lg=class{constructor(){this.changes=new er(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var dg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var hg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&No(r.mutation,i,It.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){let i=Vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bo();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=In(),o=So(),c=function(){return So()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Kt)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),No(h.mutation,l,h.mutation.getFieldMask(),je.now())):o.set(l.key,It.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new dg(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=So(),i=new De((o,c)=>o-c),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||It.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||te()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=Lb();h.forEach(g=>{if(!s.has(g)){let v=Hb(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return V.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Pb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Vr()),c=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,te())).next(h=>({batchId:c,changes:Fb(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=bo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=bo();return this.indexManager.getCollectionParents(e,s).next(c=>P.forEach(c,u=>{let l=function(p,g){return new Xn(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Nt.newInvalidDocument(h)))});let c=bo();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&No(h.mutation,l,It.empty(),je.now()),wl(n,l)&&(c=c.insert(u,l))}),c})}};var fg=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gt(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:fV(i.bundledQuery),readTime:Gt(i.readTime)}}(n)),P.resolve()}};var pg=class{constructor(){this.overlays=new De(V.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Vr();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Vr(),s=n.length+1,o=new V(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Vr(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Vr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return P.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zm(n,r));let s=this.Ir.get(n);s===void 0&&(s=te(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var mg=class{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Fo=class{constructor(){this.Tr=new Qe(Se.Er),this.dr=new Qe(Se.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Se(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Se(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new V(new ve([])),r=new Se(n,e),i=new Se(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new V(new ve([])),r=new Se(n,e),i=new Se(n,e+1),s=te();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Se(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Se=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return V.comparator(e.key,n.key)||ce(e.wr,n.wr)}static Ar(e,n){return ce(e.wr,n.wr)||V.comparator(e.key,n.key)}};var gg=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qe(Se.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ym(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Se(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Se(n,0),i=new Se(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ce);return n.forEach(i=>{let s=new Se(i,0),o=new Se(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;V.isDocumentKey(s)||(s=s.child(""));let o=new Se(new V(s),0),c=new Qe(ce);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),P.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new Se(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Se(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var yg=class{constructor(e){this.Mr=e,this.docs=function(){return new De(V.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=In();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=In(),o=n.path,c=new V(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||EL(wL(h),r)<=0||(i.has(h.key)||wl(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vg(this)}getSize(e){return P.resolve(this.size)}},vg=class extends lg{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var _g=class{constructor(e){this.persistence=e,this.Nr=new er(n=>cy(n),uy),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fo,this.targetCount=0,this.kr=ko.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var Ig=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Eb(0),this.Kr=!1,this.Kr=!0,this.$r=new mg,this.referenceDelegate=e(this),this.Ur=new _g(this),this.indexManager=new cg,this.remoteDocumentCache=function(i){return new yg(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ag(n),this.Gr=new fg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gg(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new wg(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},wg=class extends Pm{constructor(e){super(),this.currentSequenceNumber=e}},Eg=class t{constructor(e){this.persistence=e,this.Jr=new Fo,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw H()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=V.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,K.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Dg=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=te(),i=te();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Tg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ED()?8:TL(Oe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Tg;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(To()<=ee.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(To()<=ee.DEBUG&&F("QueryEngine","Query:",qi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(To()<=ee.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zt(n))):P.resolve())}Yi(e,n){if(JT(n))return P.resolve(null);let r=zt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wm(n,null,"F"),r=zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=te(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,Wm(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return JT(n)||i.isEqual(K.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(To()<=ee.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qi(n)),this.rs(e,o,n,IL(i,-1)).next(c=>c))})}ts(e,n){let r=new Qe(Ob(e));return n.forEach((i,s)=>{wl(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return To()<=ee.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",qi(n)),this.Ji.getDocumentsMatchingQuery(e,n,$r.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Cg=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new De(ce),this._s=new er(s=>cy(s),uy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function pV(t,e,n,r){return new Cg(t,e,n,r)}function Xb(t,e){return w(this,null,function*(){let n=z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=te();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function mV(t,e){let n=z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,g=p.keys(),v=P.resolve();return g.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(x=>{let N=l.docVersions.get(A);le(N!==null),x.version.compareTo(N)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),h.addEntry(x)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=te();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eC(t){let e=z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gV(t,e){let n=z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;c.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Ye.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(x,N,O){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(g,v,h)&&c.push(n.Ur.updateTargetData(s,v))});let u=In(),l=te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),c.push(yV(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(K.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(h)}return P.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function yV(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=In();return n.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(K.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):F("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function vV(t,e){let n=z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _V(t,e){let n=z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Oo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Ag(t,e,n){return w(this,null,function*(){let r=z(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ho(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function cb(t,e,n){let r=z(t),i=K.min(),s=te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=z(u),g=p._s.get(h);return g!==void 0?P.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,o,zt(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:K.min(),n?s:te())).next(c=>(IV(r,kL(e),c),{documents:c,Ts:s})))}function IV(t,e,n){let r=t.us.get(e)||K.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Ju=class{constructor(){this.activeTargetIds=BL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Sg=class{constructor(){this.so=new Ju,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ju,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ng=class{_o(e){}shutdown(){}};var Zu=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ku=null;function Im(){return ku===null?ku=function(){return 268435456+Math.round(2147483648*Math.random())}():ku++,"0x"+ku.toString(16)}var wV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Rg=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ke="WebChannelConnection",xg=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Im(),u=this.xo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(F("RestConnection",`Received RPC '${n}' ${c}: `,h),h),h=>{throw Yi("RestConnection",`RPC '${n}' ${c} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=wV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Im();return new Promise((o,c)=>{let u=new pm;u.setWithCredentials(!0),u.listenOnce(mm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Do.NO_ERROR:let h=u.getResponseJson();F(Ke,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Do.TIMEOUT:F(Ke,`RPC '${e}' ${s} timed out`),c(new k(R.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:let p=u.getStatus();if(F(Ke,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let A=function(N){let O=N.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(O)>=0?O:R.UNKNOWN}(v.status);c(new k(A,v.message))}else c(new k(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new k(R.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{F(Ke,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(Ke,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Im(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vm(),c=ym(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");F(Ke,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),g=!1,v=!1,A=new Rg({Io:N=>{v?F(Ke,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(F(Ke,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),F(Ke,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),x=(N,O,U)=>{N.listen(O,L=>{try{U(L)}catch(J){setTimeout(()=>{throw J},0)}})};return x(p,Hi.EventType.OPEN,()=>{v||(F(Ke,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(p,Hi.EventType.CLOSE,()=>{v||(v=!0,F(Ke,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(p,Hi.EventType.ERROR,N=>{v||(v=!0,Yi(Ke,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new k(R.UNAVAILABLE,"The operation could not be completed")))}),x(p,Hi.EventType.MESSAGE,N=>{var O;if(!v){let U=N.data[0];le(!!U);let L=U,J=L.error||((O=L[0])===null||O===void 0?void 0:O.error);if(J){F(Ke,`RPC '${e}' stream ${i} received error:`,J);let pe=J.status,Q=function(_){let E=Ae[_];if(E!==void 0)return zb(E)}(pe),D=J.message;Q===void 0&&(Q=R.INTERNAL,D="Unknown error status: "+pe+" with message "+J.message),v=!0,A.So(new k(Q,D)),p.close()}else F(Ke,`RPC '${e}' stream ${i} received:`,U),A.bo(U)}}),x(c,gm.STAT_EVENT,N=>{N.stat===Mu.PROXY?F(Ke,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Mu.NOPROXY&&F(Ke,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function wm(){return typeof document<"u"?document:null}function El(t){return new ng(t,!0)}var Xu=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var el=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xu(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new k(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Pg=class extends el{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=nV(this.serializer,e),r=function(s){if(!("targetChange"in s))return K.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?K.min():o.readTime?Gt(o.readTime):K.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=og(this.serializer),n.addTarget=function(s,o){let c,u=o.target;if(c=zm(u)?{documents:sV(s,u)}:{query:oV(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Gb(s,o.resumeToken);let l=rg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(K.min())>0){c.readTime=Qu(s,o.snapshotVersion.toTimestamp());let l=rg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=cV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=og(this.serializer),n.removeTarget=e,this.a_(n)}},Mg=class extends el{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return le(!!e.streamToken),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=iV(e.writeResults,e.commitTime),r=Gt(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=og(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>rV(this.serializer,r))};this.a_(n)}};var Og=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new k(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,ig(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,ig(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},kg=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vn(n),this.D_=!1):F("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Fg=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Jr(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=z(u);l.L_.add(4),yield qo(l),l.q_.set("Unknown"),l.L_.delete(4),yield Dl(l)})}(this))}))}),this.q_=new kg(r,i)}};function Dl(t){return w(this,null,function*(){if(Jr(t))for(let e of t.B_)yield e(!0)})}function qo(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function tC(t,e){let n=z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),my(n)?py(n):us(n).r_()&&fy(n,e))}function hy(t,e){let n=z(t),r=us(n);n.N_.delete(e),r.r_()&&nC(n,e),n.N_.size===0&&(r.r_()?r.o_():Jr(n)&&n.q_.set("Unknown"))}function fy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}us(t).A_(e)}function nC(t,e){t.Q_.xe(e),us(t).R_(e)}function py(t){t.Q_=new tg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),us(t).start(),t.q_.v_()}function my(t){return Jr(t)&&!us(t).n_()&&t.N_.size>0}function Jr(t){return z(t).L_.size===0}function rC(t){t.Q_=void 0}function EV(t){return w(this,null,function*(){t.q_.set("Online")})}function DV(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{fy(t,e)})})}function TV(t,e){return w(this,null,function*(){rC(t),my(t)?(t.q_.M_(e),py(t)):t.q_.set("Unknown")})}function bV(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Wu&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tl(t,r)}else if(e instanceof Ki?t.Q_.Ke(e):e instanceof Gu?t.Q_.He(e):t.Q_.We(e),!n.isEqual(K.min()))try{let r=yield eC(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(Ye.EMPTY_BYTE_STRING,h.snapshotVersion)),nC(s,u);let p=new Oo(h.target,u,l,h.sequenceNumber);fy(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield tl(t,r)}})}function tl(t,e,n){return w(this,null,function*(){if(!Ho(e))throw e;t.L_.add(1),yield qo(t),t.q_.set("Offline"),n||(n=()=>eC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Dl(t)}))})}function iC(t,e){return e().catch(n=>tl(t,n,e))}function Tl(t){return w(this,null,function*(){let e=z(t),n=tr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;CV(e);)try{let i=yield vV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,AV(e,i)}catch(i){yield tl(e,i)}sC(e)&&oC(e)})}function CV(t){return Jr(t)&&t.O_.length<10}function AV(t,e){t.O_.push(e);let n=tr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function sC(t){return Jr(t)&&!tr(t).n_()&&t.O_.length>0}function oC(t){tr(t).start()}function SV(t){return w(this,null,function*(){tr(t).p_()})}function NV(t){return w(this,null,function*(){let e=tr(t);for(let n of t.O_)e.m_(n.mutations)})}function RV(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Jm.from(r,e,n);yield iC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Tl(t)})}function xV(t,e){return w(this,null,function*(){e&&tr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return KL(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();tr(r).s_(),yield iC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Tl(r)}})}(t,e)),sC(t)&&oC(t)})}function ub(t,e){return w(this,null,function*(){let n=z(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=Jr(n);n.L_.add(3),yield qo(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Dl(n)})}function PV(t,e){return w(this,null,function*(){let n=z(t);e?(n.L_.delete(2),yield Dl(n)):e||(n.L_.add(2),yield qo(n),n.q_.set("Unknown"))})}function us(t){return t.K_||(t.K_=function(n,r,i){let s=z(n);return s.w_(),new Pg(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:EV.bind(null,t),Ro:DV.bind(null,t),mo:TV.bind(null,t),d_:bV.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),my(t)?py(t):t.q_.set("Unknown")):(yield t.K_.stop(),rC(t))}))),t.K_}function tr(t){return t.U_||(t.U_=function(n,r,i){let s=z(n);return s.w_(),new Mg(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:SV.bind(null,t),mo:xV.bind(null,t),f_:NV.bind(null,t),g_:RV.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Tl(t)):(yield t.U_.stop(),t.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Lg=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gy(t,e){if(vn("AsyncQueue",`${e}: ${t}`),Ho(t))return new k(R.UNAVAILABLE,`${e}: ${t}`);throw t}var nl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=bo(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var rl=class{constructor(){this.W_=new De(V.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):H():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},os=class t{constructor(e,n,r,i,s,o,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,nl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Vg=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Ug=class{constructor(){this.queries=lb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=z(n),s=i.queries;i.queries=lb(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new k(R.ABORTED,"Firestore shutting down"))}};function lb(){return new er(t=>Mb(t),Il)}function aC(t,e){return w(this,null,function*(){let n=z(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Vg,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=gy(o,`Initialization of query '${qi(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&yy(n)})}function cC(t,e){return w(this,null,function*(){let n=z(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function MV(t,e){let n=z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&yy(n)}function OV(t,e,n){let r=z(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function yy(t){t.Y_.forEach(e=>{e.next()})}var jg,db;(db=jg||(jg={})).ea="default",db.Cache="cache";var il=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new os(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jg.Cache}};var sl=class{constructor(e){this.key=e}},ol=class{constructor(e){this.key=e}},Bg=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=te(),this.mutatedKeys=te(),this.Aa=Ob(e),this.Ra=new nl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new rl,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=wl(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),N=!1;g&&v?g.data.isEqual(v.data)?A!==x&&(r.track({type:3,doc:v}),N=!0):this.ga(g,v)||(r.track({type:2,doc:v}),N=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(c=!0)):!g&&v?(r.track({type:0,doc:v}),N=!0):g&&!v&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(c=!0)),N&&(v?(o=o.add(v),s=x?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,A){let x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return x(v)-x(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new os(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ol(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sl(r))}),n}ba(e){this.Ta=e.Ts,this.da=te();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return os.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$g=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Hg=class{constructor(e){this.key=e,this.va=!1}},qg=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new er(c=>Mb(c),Il),this.Ma=new Map,this.xa=new Set,this.Oa=new De(V.comparator),this.Na=new Map,this.La=new Fo,this.Ba={},this.ka=new Map,this.qa=ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function kV(t,e,n=!0){return w(this,null,function*(){let r=pC(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield uC(r,e,n,!0),i})}function FV(t,e){return w(this,null,function*(){let n=pC(t);yield uC(n,e,!0,!1)})}function uC(t,e,n,r){return w(this,null,function*(){let i=yield _V(t.localStore,zt(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield LV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&tC(t.remoteStore,i),c})}function LV(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,g,v)=>function(x,N,O,U){return w(this,null,function*(){let L=N.view.ma(O);L.ns&&(L=yield cb(x.localStore,N.query,!1).then(({documents:D})=>N.view.ma(D,L)));let J=U&&U.targetChanges.get(N.targetId),pe=U&&U.targetMismatches.get(N.targetId)!=null,Q=N.view.applyChanges(L,x.isPrimaryClient,J,pe);return fb(x,N.targetId,Q.wa),Q.snapshot})}(t,p,g,v);let s=yield cb(t.localStore,e,!0),o=new Bg(e,s.Ts),c=o.ma(s.documents),u=Mo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(c,t.isPrimaryClient,u);fb(t,n,l.wa);let h=new $g(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function VV(t,e,n){return w(this,null,function*(){let r=z(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Il(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ag(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hy(r.remoteStore,i.targetId),zg(r,i.targetId)}).catch($o))):(zg(r,i.targetId),yield Ag(r.localStore,i.targetId,!0))})}function UV(t,e){return w(this,null,function*(){let n=z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hy(n.remoteStore,r.targetId))})}function jV(t,e,n){return w(this,null,function*(){let r=WV(t);try{let i=yield function(o,c){let u=z(o),l=je.now(),h=c.reduce((v,A)=>v.add(A.key),te()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=In(),x=te();return u.cs.getEntries(v,h).next(N=>{A=N,A.forEach((O,U)=>{U.isValidDocument()||(x=x.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(N=>{p=N;let O=[];for(let U of c){let L=WL(U,p.get(U.key).overlayedDocument);L!=null&&O.push(new Kt(U.key,L,Cb(L.value.mapValue),wt.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,O,c)}).next(N=>{g=N;let O=N.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(v,N.batchId,O)})}).then(()=>({batchId:g.batchId,changes:Fb(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new De(ce)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield zo(r,i.changes),yield Tl(r.remoteStore)}catch(i){let s=gy(i,"Failed to persist write");n.reject(s)}})}function lC(t,e){return w(this,null,function*(){let n=z(t);try{let r=yield gV(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?le(o.va):i.removedDocuments.size>0&&(le(o.va),o.va=!1))}),yield zo(n,r,e)}catch(r){yield $o(r)}})}function hb(t,e,n){let r=z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=z(o);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(c)&&(l=!0)}),l&&yy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BV(t,e,n){return w(this,null,function*(){let r=z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new De(V.comparator);o=o.insert(s,Nt.newNoDocument(s,K.min()));let c=te().add(s),u=new zu(K.min(),new Map,new De(ce),o,c);yield lC(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),vy(r)}else yield Ag(r.localStore,e,!1).then(()=>zg(r,e,n)).catch($o)})}function $V(t,e){return w(this,null,function*(){let n=z(t),r=e.batch.batchId;try{let i=yield mV(n.localStore,e);hC(n,r,null),dC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield zo(n,i)}catch(i){yield $o(i)}})}function HV(t,e,n){return w(this,null,function*(){let r=z(t);try{let i=yield function(o,c){let u=z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(le(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);hC(r,e,n),dC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield zo(r,i)}catch(i){yield $o(i)}})}function dC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function hC(t,e,n){let r=z(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||fC(t,r)})}function fC(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(hy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),vy(t))}function fb(t,e,n){for(let r of n)r instanceof sl?(t.La.addReference(r.key,e),qV(t,r)):r instanceof ol?(F("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||fC(t,r.key)):H()}function qV(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(F("SyncEngine","New document in limbo: "+n),t.xa.add(r),vy(t))}function vy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new V(ve.fromString(e)),r=t.qa.next();t.Na.set(r,new Hg(n)),t.Oa=t.Oa.insert(n,r),tC(t.remoteStore,new Oo(zt(_l(n.path)),r,"TargetPurposeLimboResolution",Eb.oe))}}function zo(t,e,n){return w(this,null,function*(){let r=z(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Dg.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,g=>P.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>P.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Ho(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.os.get(g),A=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(g,x)}}})}(r.localStore,s))})}function zV(t,e){return w(this,null,function*(){let n=z(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield Xb(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new k(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zo(n,r.hs)}})}function GV(t,e){let n=z(t),r=n.Na.get(e);if(r&&r.va)return te().add(r.key);{let i=te(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let c=n.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function pC(t){let e=z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BV.bind(null,e),e.Ca.d_=MV.bind(null,e.eventManager),e.Ca.$a=OV.bind(null,e.eventManager),e}function WV(t){let e=z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$V.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HV.bind(null,e),e}var pb=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=El(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return pV(this.persistence,new bg,n.initialUser,this.serializer)}Ga(n){return new Ig(Eg.Zr,this.serializer)}Wa(n){return new Sg}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var KV=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zV.bind(null,this.syncEngine),yield PV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Ug}()}createDatastore(n){let r=El(n.databaseInfo.databaseId),i=function(o){return new xg(o)}(n.databaseInfo);return function(o,c,u,l){return new Og(o,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new Fg(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>hb(this.syncEngine,r,0),function(){return Zu.D()?new Zu:new Ng}())}createSyncEngine(n,r){return function(s,o,c,u,l,h,p){let g=new qg(s,o,c,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=z(s);F("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield qo(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var al=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Gg=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=Uu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ht;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=gy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Em(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield Xb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function mb(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield QV(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ub(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ub(e.remoteStore,i)),t._onlineComponents=e})}function QV(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Em(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),yield Em(t,new pb)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield Em(t,new pb);return t._offlineComponents})}function mC(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield mb(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield mb(t,new KV))),t._onlineComponents})}function YV(t){return mC(t).then(e=>e.syncEngine)}function Wg(t){return w(this,null,function*(){let e=yield mC(t),n=e.eventManager;return n.onListen=kV.bind(null,e.syncEngine),n.onUnlisten=VV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UV.bind(null,e.syncEngine),n})}function JV(t,e,n={}){let r=new Ht;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,c,u,l){let h=new al({next:g=>{h.Za(),o.enqueueAndForget(()=>cC(s,p));let v=g.docs.has(c);!v&&g.fromCache?l.reject(new k(R.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?l.reject(new k(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new il(_l(c.path),h,{includeMetadataChanges:!0,_a:!0});return aC(s,p)}(yield Wg(t),t.asyncQueue,e,n,r)})),r.promise}function gC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var gb=new Map;function yC(t,e,n){if(!n)throw new k(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZV(t,e,n,r){if(e===!0&&r===!0)throw new k(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yb(t){if(!V.isDocumentKey(t))throw new k(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vb(t){if(V.isDocumentKey(t))throw new k(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function St(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=bl(t);throw new k(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var cl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},as=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new k(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new k(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Tm;switch(r.type){case"firstParty":return new Sm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=gb.get(n);r&&(F("ComponentProvider","Removing Datastore"),gb.delete(n),r.terminate())}(this),Promise.resolve()}};function vC(t,e,n,r={}){var i;let s=(t=St(t,as))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Fe.MOCK_USER;else{c=gD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new k(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Fe(l)}t._authCredentials=new bm(new Vu(c,u))}}var Kr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},tt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Jn=class t extends Kr{constructor(e,n,r){super(e,n,_l(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new V(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function _C(t,e,...n){if(t=be(t),yC("collection","path",e),t instanceof as){let r=ve.fromString(e,...n);return vb(r),new Jn(t,null,r)}{if(!(t instanceof tt||t instanceof Jn))throw new k(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ve.fromString(e,...n));return vb(r),new Jn(t.firestore,null,r)}}function _y(t,e,...n){if(t=be(t),arguments.length===1&&(e=Uu.newId()),yC("doc","path",e),t instanceof as){let r=ve.fromString(e,...n);return yb(r),new tt(t,null,new V(r))}{if(!(t instanceof tt||t instanceof Jn))throw new k(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ve.fromString(e,...n));return yb(r),new tt(t.firestore,t instanceof Jn?t.converter:null,new V(r))}}var ul=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xu(this,"async_queue_retry"),this.Vu=()=>{let r=wm();r&&F("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Ht;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ho(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw vn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Lg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&H()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function _b(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Qt=class extends as{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ul,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ul(e),this._firestoreClient=void 0,yield e}})}};function IC(t,e){let n=typeof t=="object"?t:Li(),r=typeof t=="string"?t:e||"(default)",i=uo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=mD("firestore");s&&vC(i,...s)}return i}function Cl(t){if(t._terminated)throw new k(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XV(t),t._firestoreClient}function XV(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,h){return new Mm(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Gg(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Lo=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ye.fromBase64String(e))}catch(n){throw new k(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qr=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vo=class{constructor(e){this._methodName=e}};var Uo=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}};var jo=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var e2=/^__.*__$/,Kg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kt(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wr(e,this.data,n,this.fieldTransforms)}},ll=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Kt(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function wC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}var Qg=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(wC(this.Cu)&&e2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Yg=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||El(e)}Qu(e,n,r,i=!1){return new Qg({Cu:e,methodName:n,qu:r,path:pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Al(t){let e=t._freezeSettings(),n=El(t._databaseId);return new Yg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EC(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Iy("Data must be an object, but it was:",o,r);let c=bC(r,o),u,l;if(s.merge)u=new It(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let g=Jg(e,p,n);if(!o.contains(g))throw new k(R.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);AC(h,g)||h.push(g)}u=new It(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Kg(new ft(c),u,l)}var dl=class t extends Vo{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function DC(t,e,n,r){let i=t.Qu(1,e,n);Iy("Data must be an object, but it was:",i,r);let s=[],o=ft.empty();Yr(r,(u,l)=>{let h=wy(e,u,n);l=be(l);let p=i.Nu(h);if(l instanceof dl)s.push(h);else{let g=Go(l,p);g!=null&&(s.push(h),o.set(h,g))}});let c=new It(s);return new ll(o,c,i.fieldTransforms)}function TC(t,e,n,r,i,s){let o=t.Qu(1,e,n),c=[Jg(e,r,n)],u=[i];if(s.length%2!=0)throw new k(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)c.push(Jg(e,s[g])),u.push(s[g+1]);let l=[],h=ft.empty();for(let g=c.length-1;g>=0;--g)if(!AC(l,c[g])){let v=c[g],A=u[g];A=be(A);let x=o.Nu(v);if(A instanceof dl)l.push(v);else{let N=Go(A,x);N!=null&&(l.push(v),h.set(v,N))}}let p=new It(l);return new ll(h,p,o.fieldTransforms)}function t2(t,e,n,r=!1){return Go(n,t.Qu(r?4:3,e))}function Go(t,e){if(CC(t=be(t)))return Iy("Unsupported field value:",e,t),bC(t,e);if(t instanceof Vo)return function(r,i){if(!wC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=Go(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $L(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=je.fromDate(r);return{timestampValue:Qu(i.serializer,s)}}if(r instanceof je){let s=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qu(i.serializer,s)}}if(r instanceof Uo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lo)return{bytesValue:Gb(i.serializer,r._byteString)};if(r instanceof tt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jo)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return ly(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${bl(r)}`)}(t,e)}function bC(t,e){let n={};return Db(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(t,(r,i)=>{let s=Go(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Uo||t instanceof Lo||t instanceof tt||t instanceof Vo||t instanceof jo)}function Iy(t,e,n){if(!CC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=bl(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Jg(t,e,n){if((e=be(e))instanceof Qr)return e._internalPath;if(typeof e=="string")return wy(t,e);throw hl("Field path arguments must be of type string or ",t,!1,void 0,n)}var n2=new RegExp("[~\\*/\\[\\]]");function wy(t,e,n){if(e.search(n2)>=0)throw hl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qr(...e.split("."))._internalPath}catch{throw hl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hl(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new k(R.INVALID_ARGUMENT,c+t+u)}function AC(t,e){return t.some(n=>n.isEqual(e))}var fl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Zg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Sl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Zg=class extends fl{data(){return super.data()}};function Sl(t,e){return typeof e=="string"?wy(t,e):e instanceof Qr?e._internalPath:e._delegate._internalPath}function r2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Bo=class{},pl=class extends Bo{};function SC(t,e,...n){let r=[];e instanceof Bo&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof Xg).length,c=s.filter(u=>u instanceof ml).length;if(o>1||o>0&&c>0)throw new k(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ml=class t extends pl{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return xC(e._query,n),new Kr(e.firestore,e.converter,Gm(e._query,n))}_parse(e){let n=Al(e.firestore);return function(s,o,c,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new k(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wb(p,h);let v=[];for(let A of p)v.push(Ib(u,s,A));g={arrayValue:{values:v}}}else g=Ib(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wb(p,h),g=t2(c,o,p,h==="in"||h==="not-in");return Ne.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function NC(t,e,n){let r=e,i=Sl("where",t);return ml._create(i,r,n)}var Xg=class t extends Bo{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let u of c)xC(o,u),o=Gm(o,u)}(e._query,n),new Kr(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var ey=class t extends pl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new k(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qr(s,o)}(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Xn(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function RC(t,e="asc"){let n=e,r=Sl("orderBy",t);return ey._create(r,n)}function Ib(t,e,n){if(typeof(n=be(n))=="string"){if(n==="")throw new k(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pb(e)&&n.indexOf("/")!==-1)throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ve.fromString(n));if(!V.isDocumentKey(r))throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zT(t,new V(r))}if(n instanceof tt)return zT(t,n._key);throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bl(n)}.`)}function wb(t,e){if(!Array.isArray(t)||t.length===0)throw new k(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xC(t,e){let n=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ty=class{convertValue(e,n="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw H()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Yr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ge(o.doubleValue));return new jo(s)}convertGeoPoint(e){return new Uo(ge(e.latitude),ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=oy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xo(e));default:return null}}convertTimestamp(e){let n=_n(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ve.fromString(e);le(Zb(r));let i=new Hu(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||vn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function PC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var jr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gl=class extends fl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Qi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Sl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Qi=class extends gl{data(e={}){return super.data(e)}},ny=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qi(this._firestore,this._userDataWriter,r.key,r,new jr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new Qi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new jr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new Qi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new jr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:i2(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function i2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}function MC(t){t=St(t,tt);let e=St(t.firestore,Qt);return JV(Cl(e),t._key).then(n=>LC(e,t,n))}var yl=class extends ty{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}};function OC(t,e,n,...r){t=St(t,tt);let i=St(t.firestore,Qt),s=Al(i),o;return o=typeof(e=be(e))=="string"||e instanceof Qr?TC(s,"updateDoc",t._key,e,n,r):DC(s,"updateDoc",t._key,e),Nl(i,[o.toMutation(t._key,wt.exists(!0))])}function kC(t){return Nl(St(t.firestore,Qt),[new ss(t._key,wt.none())])}function FC(t,e){let n=St(t.firestore,Qt),r=_y(t),i=PC(t.converter,e);return Nl(n,[EC(Al(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wt.exists(!1))]).then(()=>r)}function Ey(t,...e){var n,r,i;t=be(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||_b(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(_b(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof tt)l=St(t.firestore,Qt),h=_l(t._key.path),u={next:p=>{e[o]&&e[o](LC(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=St(t,Kr);l=St(p.firestore,Qt),h=p._query;let g=new yl(l);u={next:v=>{e[o]&&e[o](new ny(l,g,p,v))},error:e[o+1],complete:e[o+2]},r2(t._query)}return function(g,v,A,x){let N=new al(x),O=new il(v,N,A);return g.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return aC(yield Wg(g),O)})),()=>{N.Za(),g.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return cC(yield Wg(g),O)}))}}(Cl(l),h,c,u)}function Nl(t,e){return function(r,i){let s=new Ht;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return jV(yield YV(r),i,s)})),s.promise}(Cl(t),e)}function LC(t,e,n){let r=n.docs.get(e._key),i=new yl(t);return new gl(t,i,e._key,r,new jr(n.hasPendingWrites,n.fromCache),e.converter)}var ry=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Al(e)}set(e,n,r){this._verifyNotCommitted();let i=Dm(e,this._firestore),s=PC(i.converter,n,r),o=EC(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,wt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=Dm(e,this._firestore),o;return o=typeof(n=be(n))=="string"||n instanceof Qr?TC(this._dataReader,"WriteBatch.update",s._key,n,r,i):DC(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,wt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Dm(e,this._firestore);return this._mutations=this._mutations.concat(new ss(n._key,wt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new k(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Dm(t,e){if((t=be(t)).firestore!==e)throw new k(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function s2(t){return Cl(t=St(t,Qt)),new ry(t,e=>Nl(t,e))}(function(e,n=!0){(function(i){cs=i})(zn),qn(new _t("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Qt(new Cm(r.getProvider("auth-internal")),new Rm(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Pe(BT,"4.7.3",e),Pe(BT,"4.7.3","esm2017")})();var Rl=function(){return Rl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rl.apply(this,arguments)};var c2={includeMetadataChanges:!1};function Dy(t,e){return e===void 0&&(e=c2),new Y(function(n){var r=Ey(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function VC(t){return Dy(t,{includeMetadataChanges:!0})}function UC(t,e){return e===void 0&&(e={}),VC(t).pipe(rt(function(n){return Ty(n,e)}))}function Ty(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Rl(Rl({},r),(n={},n[e.idField]=t.id,n))}function jC(t){return Dy(t,{includeMetadataChanges:!0}).pipe(rt(function(e){return e.docs}))}function BC(t,e){return e===void 0&&(e={}),jC(t).pipe(rt(function(n){return n.map(function(r){return Ty(r,e)})}))}var Wo=class{constructor(e){return e}},$C="firestore",by=class{constructor(){return lo($C)}};var Cy=new oe("angularfire2.firestore-instances");function u2(t,e){let n=du($C,t,e);return n&&new Wo(n)}function l2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wo(r)}}var d2={provide:by,deps:[[new at,Cy]]},h2={provide:Wo,useFactory:u2,deps:[[new at,Cy],pn]};function m6(t,...e){return Pe("angularfire",Pr.full,"fst"),Cr([h2,d2,{provide:Cy,useFactory:l2(t),multi:!0,deps:[we,vt,ji,Mr,[new at,Eo],[new at,Ui],...e]}])}var g6=ke(BC,!0);var y6=ke(UC,!0);var v6=ke(FC,!0);var _6=ke(_C,!0);var I6=ke(kC,!0);var w6=ke(_y,!0);var E6=ke(MC,!0);var D6=ke(IC,!0);var T6=ke(RC,!0);var b6=ke(SC,!0);var C6=ke(OC,!0);var A6=ke(NC,!0);export{xt as a,Pt as b,f2 as c,p2 as d,m2 as e,w as f,Re as g,Fv as h,Y as i,hd as j,fd as k,An as l,Rs as m,Ps as n,Mt as o,Jv as p,H0 as q,q0 as r,Xt as s,M0 as t,rt as u,Z0 as v,lr as w,vd as x,ka as y,eA as z,tA as A,nA as B,li as C,r_ as D,rA as E,Ms as F,_d as G,iA as H,oA as I,s_ as J,Id as K,aA as L,o_ as M,a_ as N,cA as O,uA as P,wd as Q,re as R,mt as S,mI as T,de as U,of as V,Wq as W,oe as X,ne as Y,Ie as Z,ue as _,at as $,DI as aa,Us as ba,Mn as ca,Kq as da,lf as ea,br as fa,Ni as ga,Cr as ha,sS as ia,UI as ja,On as ka,gS as la,$I as ma,Pc as na,Qq as oa,Yq as pa,Jq as qa,Zq as ra,Xq as sa,aN as ta,vt as ua,Fn as va,Lc as wa,Un as xa,hr as ya,e4 as za,t4 as Aa,_N as Ba,eo as Ca,n4 as Da,r4 as Ea,Mi as Fa,Aw as Ga,i4 as Ha,s4 as Ia,o4 as Ja,a4 as Ka,c4 as La,Sw as Ma,u4 as Na,Cf as Oa,HN as Pa,l4 as Qa,Gs as Ra,d4 as Sa,Te as Ta,h4 as Ua,Er as Va,pc as Wa,Eh as Xa,Kc as Ya,we as Za,gx as _a,Bn as $a,g4 as ab,zx as bb,Jx as cb,Mh as db,Zx as eb,$f as fb,kh as gb,iP as hb,vP as ib,AE as jb,_P as kb,y4 as lb,v4 as mb,_4 as nb,I4 as ob,w4 as pb,E4 as qb,kE as rb,FE as sb,OP as tb,LE as ub,VE as vb,LP as wb,D4 as xb,zP as yb,T4 as zb,b4 as Ab,C4 as Bb,KP as Cb,A4 as Db,S4 as Eb,N4 as Fb,R4 as Gb,x4 as Hb,P4 as Ib,JP as Jb,BE as Kb,ZP as Lb,XP as Mb,M4 as Nb,eM as Ob,O4 as Pb,k4 as Qb,F4 as Rb,L4 as Sb,V4 as Tb,U4 as Ub,j4 as Vb,B4 as Wb,$4 as Xb,H4 as Yb,q4 as Zb,z4 as _b,G4 as $b,W4 as ac,K4 as bc,Q4 as cc,lM as dc,dM as ec,Y4 as fc,hM as gc,Zc as hc,pM as ic,mM as jc,Gf as kc,J4 as lc,eu as mc,Z4 as nc,X4 as oc,OM as pc,kM as qc,ez as rc,VM as sc,tz as tc,nz as uc,Qf as vc,_z as wc,JE as xc,sp as yc,Iz as zc,ru as Ac,jM as Bc,wz as Cc,BM as Dc,Ez as Ec,Dz as Fc,Tz as Gc,bz as Hc,Cz as Ic,Az as Jc,Sz as Kc,Nz as Lc,Rz as Mc,xz as Nc,Pz as Oc,Mz as Pc,Oz as Qc,dO as Rc,fO as Sc,kz as Tc,Fz as Uc,aD as Vc,mD as Wc,gD as Xc,ht as Yc,be as Zc,_t as _c,qn as $c,uo as ad,zn as bd,Li as cd,Pe as dd,Pr as ed,du as fd,lo as gd,Ui as hd,ji as id,ke as jd,pn as kd,Mr as ld,bG as md,CG as nd,CT as od,dm as pd,wo as qd,Eo as rd,b9 as sd,C9 as td,A9 as ud,_C as vd,_y as wd,MC as xd,OC as yd,s2 as zd,Wo as Ad,m6 as Bd,g6 as Cd,y6 as Dd,v6 as Ed,_6 as Fd,I6 as Gd,w6 as Hd,E6 as Id,D6 as Jd,T6 as Kd,b6 as Ld,C6 as Md,A6 as Nd};
